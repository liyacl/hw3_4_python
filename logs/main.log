[INFO : 2025-03-26 11:37:42,560] Will watch for changes in these directories: ['/Users/pavelsariia/Desktop/hw_short_link']
[INFO : 2025-03-26 11:37:42,561] Uvicorn running on http://0.0.0.0:8007 (Press CTRL+C to quit)
[INFO : 2025-03-26 11:37:42,561] Started reloader process [46225] using StatReload
[INFO : 2025-03-26 11:37:42,789] Started server process [46227]
[INFO : 2025-03-26 11:37:42,789] Waiting for application startup.
[INFO : 2025-03-26 11:37:42,789] Application startup complete.
[WARNING : 2025-03-26 11:38:37,131] StatReload detected changes in 'models/ping.py'. Reloading...
[INFO : 2025-03-26 11:38:37,176] Shutting down
[INFO : 2025-03-26 11:38:37,280] Waiting for application shutdown.
[INFO : 2025-03-26 11:38:37,283] Application shutdown complete.
[INFO : 2025-03-26 11:38:37,283] Finished server process [46227]
[WARNING : 2025-03-26 11:38:40,209] StatReload detected changes in 'models/ping.py'. Reloading...
[WARNING : 2025-03-26 11:38:45,121] StatReload detected changes in 'models/ping.py'. Reloading...
[WARNING : 2025-03-26 11:38:48,230] StatReload detected changes in 'models/ping.py'. Reloading...
[WARNING : 2025-03-26 11:38:49,788] StatReload detected changes in 'models/ping.py'. Reloading...
[WARNING : 2025-03-26 11:38:53,674] StatReload detected changes in 'models/ping.py'. Reloading...
[WARNING : 2025-03-26 11:38:55,228] StatReload detected changes in 'models/ping.py'. Reloading...
[WARNING : 2025-03-26 11:39:00,413] StatReload detected changes in 'models/ping.py'. Reloading...
[WARNING : 2025-03-26 11:40:02,284] StatReload detected changes in 'models/short_links.py'. Reloading...
[WARNING : 2025-03-26 11:40:06,699] StatReload detected changes in 'models/ping.py'. Reloading...
[INFO : 2025-03-26 11:40:06,971] Started server process [46649]
[INFO : 2025-03-26 11:40:06,971] Waiting for application startup.
[INFO : 2025-03-26 11:40:06,971] Application startup complete.
[WARNING : 2025-03-26 11:40:13,202] StatReload detected changes in 'models/__init__.py'. Reloading...
[INFO : 2025-03-26 11:40:13,239] Shutting down
[INFO : 2025-03-26 11:40:13,341] Waiting for application shutdown.
[INFO : 2025-03-26 11:40:13,342] Application shutdown complete.
[INFO : 2025-03-26 11:40:13,342] Finished server process [46649]
[INFO : 2025-03-26 11:40:13,626] Started server process [46669]
[INFO : 2025-03-26 11:40:13,626] Waiting for application startup.
[INFO : 2025-03-26 11:40:13,626] Application startup complete.
[WARNING : 2025-03-26 11:40:15,484] StatReload detected changes in 'models/__init__.py'. Reloading...
[INFO : 2025-03-26 11:40:15,545] Shutting down
[INFO : 2025-03-26 11:40:15,647] Waiting for application shutdown.
[INFO : 2025-03-26 11:40:15,648] Application shutdown complete.
[INFO : 2025-03-26 11:40:15,648] Finished server process [46669]
[WARNING : 2025-03-26 11:40:17,538] StatReload detected changes in 'models/__init__.py'. Reloading...
[WARNING : 2025-03-26 11:40:18,834] StatReload detected changes in 'models/__init__.py'. Reloading...
[WARNING : 2025-03-26 11:40:19,874] StatReload detected changes in 'models/__init__.py'. Reloading...
[WARNING : 2025-03-26 11:40:55,205] StatReload detected changes in 'models/short_links.py'. Reloading...
[WARNING : 2025-03-26 11:41:00,381] StatReload detected changes in 'models/short_links.py'. Reloading...
[WARNING : 2025-03-26 11:41:04,535] StatReload detected changes in 'models/short_links.py'. Reloading...
[WARNING : 2025-03-26 11:41:05,828] StatReload detected changes in 'models/short_links.py'. Reloading...
[WARNING : 2025-03-26 11:41:08,156] StatReload detected changes in 'models/short_links.py'. Reloading...
[WARNING : 2025-03-26 11:41:14,902] StatReload detected changes in 'models/short_links.py'. Reloading...
[WARNING : 2025-03-26 11:41:22,956] StatReload detected changes in 'models/short_links.py'. Reloading...
[WARNING : 2025-03-26 11:41:27,629] StatReload detected changes in 'models/short_links.py'. Reloading...
[WARNING : 2025-03-26 11:41:33,092] StatReload detected changes in 'models/short_links.py'. Reloading...
[INFO : 2025-03-26 11:41:33,340] Started server process [46818]
[INFO : 2025-03-26 11:41:33,340] Waiting for application startup.
[INFO : 2025-03-26 11:41:33,340] Application startup complete.
[WARNING : 2025-03-26 11:41:36,465] StatReload detected changes in 'models/short_links.py'. Reloading...
[INFO : 2025-03-26 11:41:36,471] Shutting down
[INFO : 2025-03-26 11:41:36,574] Waiting for application shutdown.
[INFO : 2025-03-26 11:41:36,575] Application shutdown complete.
[INFO : 2025-03-26 11:41:36,575] Finished server process [46818]
[INFO : 2025-03-26 11:41:36,843] Started server process [46827]
[INFO : 2025-03-26 11:41:36,843] Waiting for application startup.
[INFO : 2025-03-26 11:41:36,843] Application startup complete.
[WARNING : 2025-03-26 11:41:44,182] StatReload detected changes in 'models/short_links.py'. Reloading...
[INFO : 2025-03-26 11:41:44,222] Shutting down
[INFO : 2025-03-26 11:41:44,324] Waiting for application shutdown.
[INFO : 2025-03-26 11:41:44,325] Application shutdown complete.
[INFO : 2025-03-26 11:41:44,325] Finished server process [46827]
[INFO : 2025-03-26 11:41:44,599] Started server process [46836]
[INFO : 2025-03-26 11:41:44,600] Waiting for application startup.
[INFO : 2025-03-26 11:41:44,600] Application startup complete.
[WARNING : 2025-03-26 11:41:44,911] StatReload detected changes in 'models/short_links.py'. Reloading...
[INFO : 2025-03-26 11:41:45,004] Shutting down
[INFO : 2025-03-26 11:41:45,106] Waiting for application shutdown.
[INFO : 2025-03-26 11:41:45,107] Application shutdown complete.
[INFO : 2025-03-26 11:41:45,108] Finished server process [46836]
[INFO : 2025-03-26 11:41:45,393] Started server process [46841]
[INFO : 2025-03-26 11:41:45,394] Waiting for application startup.
[INFO : 2025-03-26 11:41:45,394] Application startup complete.
[INFO : 2025-03-26 11:41:48,931] Shutting down
[INFO : 2025-03-26 11:41:49,033] Waiting for application shutdown.
[INFO : 2025-03-26 11:41:49,034] Application shutdown complete.
[INFO : 2025-03-26 11:41:49,034] Finished server process [46841]
[INFO : 2025-03-26 11:41:49,088] Stopping reloader process [46225]
[INFO : 2025-03-26 11:46:17,736] Will watch for changes in these directories: ['/Users/pavelsariia/Desktop/hw_short_link']
[INFO : 2025-03-26 11:46:17,737] Uvicorn running on http://0.0.0.0:8007 (Press CTRL+C to quit)
[INFO : 2025-03-26 11:46:17,737] Started reloader process [47331] using StatReload
[INFO : 2025-03-26 11:46:17,944] Started server process [47333]
[INFO : 2025-03-26 11:46:17,944] Waiting for application startup.
[INFO : 2025-03-26 11:46:17,944] Application startup complete.
[WARNING : 2025-03-26 12:00:18,156] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:00:18,220] Shutting down
[INFO : 2025-03-26 12:00:18,324] Waiting for application shutdown.
[INFO : 2025-03-26 12:00:18,326] Application shutdown complete.
[INFO : 2025-03-26 12:00:18,326] Finished server process [47333]
[INFO : 2025-03-26 12:00:18,706] Started server process [49315]
[INFO : 2025-03-26 12:00:18,706] Waiting for application startup.
[INFO : 2025-03-26 12:00:18,706] Application startup complete.
[WARNING : 2025-03-26 12:00:19,446] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:00:19,516] Shutting down
[INFO : 2025-03-26 12:00:19,618] Waiting for application shutdown.
[INFO : 2025-03-26 12:00:19,618] Application shutdown complete.
[INFO : 2025-03-26 12:00:19,619] Finished server process [49315]
[INFO : 2025-03-26 12:00:19,886] Started server process [49323]
[INFO : 2025-03-26 12:00:19,886] Waiting for application startup.
[INFO : 2025-03-26 12:00:19,886] Application startup complete.
[WARNING : 2025-03-26 12:01:20,641] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 12:01:20,740] Shutting down
[INFO : 2025-03-26 12:01:20,844] Waiting for application shutdown.
[INFO : 2025-03-26 12:01:20,846] Application shutdown complete.
[INFO : 2025-03-26 12:01:20,846] Finished server process [49323]
[INFO : 2025-03-26 12:01:21,184] Started server process [49362]
[INFO : 2025-03-26 12:01:21,184] Waiting for application startup.
[INFO : 2025-03-26 12:01:21,184] Application startup complete.
[WARNING : 2025-03-26 12:01:37,032] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 12:01:37,052] Shutting down
[INFO : 2025-03-26 12:01:37,153] Waiting for application shutdown.
[INFO : 2025-03-26 12:01:37,153] Application shutdown complete.
[INFO : 2025-03-26 12:01:37,154] Finished server process [49362]
[WARNING : 2025-03-26 12:01:42,149] StatReload detected changes in 'main.py'. Reloading...
[WARNING : 2025-03-26 12:01:43,975] StatReload detected changes in 'main.py'. Reloading...
[WARNING : 2025-03-26 12:01:48,910] StatReload detected changes in 'main.py'. Reloading...
[WARNING : 2025-03-26 12:02:03,202] StatReload detected changes in 'main.py'. Reloading...
[WARNING : 2025-03-26 12:02:14,136] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 12:02:16,999] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 12:03:29,941] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 12:03:30,252] Started server process [49552]
[INFO : 2025-03-26 12:03:30,252] Waiting for application startup.
[INFO : 2025-03-26 12:03:30,252] Application startup complete.
[WARNING : 2025-03-26 12:03:32,294] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 12:03:32,375] Shutting down
[INFO : 2025-03-26 12:03:32,478] Waiting for application shutdown.
[INFO : 2025-03-26 12:03:32,479] Application shutdown complete.
[INFO : 2025-03-26 12:03:32,479] Finished server process [49552]
[INFO : 2025-03-26 12:03:32,749] Started server process [49567]
[INFO : 2025-03-26 12:03:32,749] Waiting for application startup.
[INFO : 2025-03-26 12:03:32,749] Application startup complete.
[ERROR : 2025-03-26 12:03:44,951] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 106, in __call__
    raise exc from None
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 103, in __call__
    await self.app(scope, receive, inner_send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 68, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Desktop/hw_short_link/api/v1/links/links.py", line 26, in short
    logger.info(f"link {request.text}")
                        ^^^^^^^^^^^^
AttributeError: 'CreateLink' object has no attribute 'text'
[WARNING : 2025-03-26 12:03:59,067] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:03:59,146] Shutting down
[INFO : 2025-03-26 12:03:59,249] Waiting for application shutdown.
[INFO : 2025-03-26 12:03:59,249] Application shutdown complete.
[INFO : 2025-03-26 12:03:59,250] Finished server process [49567]
[INFO : 2025-03-26 12:03:59,610] Started server process [49592]
[INFO : 2025-03-26 12:03:59,610] Waiting for application startup.
[INFO : 2025-03-26 12:03:59,610] Application startup complete.
[INFO : 2025-03-26 12:04:01,730] link http://localhost:8007/docs#/links/short_links_shorten_post
[ERROR : 2025-03-26 12:04:01,906] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 106, in __call__
    raise exc from None
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 103, in __call__
    await self.app(scope, receive, inner_send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 68, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Desktop/hw_short_link/api/v1/links/links.py", line 29, in short
    db.commit()
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 3502, in _flush
    with util.safe_reraise():
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (psycopg2.errors.NotNullViolation) null value in column "short_url" of relation "short_link" violates not-null constraint
DETAIL:  Failing row contains (1, http://localhost:8007/docs#/links/short_links_shorten_post, null, null, null).

[SQL: INSERT INTO short_link (url, short_url, last_usage_date, usage_count) VALUES (%(url)s, %(short_url)s, %(last_usage_date)s, %(usage_count)s) RETURNING short_link.id]
[parameters: {'url': 'http://localhost:8007/docs#/links/short_links_shorten_post', 'short_url': None, 'last_usage_date': None, 'usage_count': None}]
(Background on this error at: https://sqlalche.me/e/14/gkpj)
[WARNING : 2025-03-26 12:10:26,211] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:10:26,242] Shutting down
[INFO : 2025-03-26 12:10:26,345] Waiting for application shutdown.
[INFO : 2025-03-26 12:10:26,347] Application shutdown complete.
[INFO : 2025-03-26 12:10:26,348] Finished server process [49592]
[INFO : 2025-03-26 12:10:26,754] Started server process [49791]
[INFO : 2025-03-26 12:10:26,754] Waiting for application startup.
[INFO : 2025-03-26 12:10:26,754] Application startup complete.
[WARNING : 2025-03-26 12:10:39,490] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:10:39,510] Shutting down
[INFO : 2025-03-26 12:10:39,614] Waiting for application shutdown.
[INFO : 2025-03-26 12:10:39,616] Application shutdown complete.
[INFO : 2025-03-26 12:10:39,616] Finished server process [49791]
[WARNING : 2025-03-26 12:11:03,961] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 12:11:05,011] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 12:11:06,836] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 12:11:10,983] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 12:11:15,158] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 12:11:16,976] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:11:17,220] Started server process [49867]
[INFO : 2025-03-26 12:11:17,220] Waiting for application startup.
[INFO : 2025-03-26 12:11:17,220] Application startup complete.
[WARNING : 2025-03-26 12:11:20,088] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:11:20,156] Shutting down
[INFO : 2025-03-26 12:11:20,259] Waiting for application shutdown.
[INFO : 2025-03-26 12:11:20,259] Application shutdown complete.
[INFO : 2025-03-26 12:11:20,259] Finished server process [49867]
[INFO : 2025-03-26 12:11:20,543] Started server process [49875]
[INFO : 2025-03-26 12:11:20,543] Waiting for application startup.
[INFO : 2025-03-26 12:11:20,543] Application startup complete.
[WARNING : 2025-03-26 12:11:54,985] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:11:55,012] Shutting down
[INFO : 2025-03-26 12:11:55,115] Waiting for application shutdown.
[INFO : 2025-03-26 12:11:55,117] Application shutdown complete.
[INFO : 2025-03-26 12:11:55,117] Finished server process [49875]
[INFO : 2025-03-26 12:11:55,472] Started server process [49893]
[INFO : 2025-03-26 12:11:55,472] Waiting for application startup.
[INFO : 2025-03-26 12:11:55,472] Application startup complete.
[WARNING : 2025-03-26 12:11:56,486] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:11:56,585] Shutting down
[INFO : 2025-03-26 12:11:56,687] Waiting for application shutdown.
[INFO : 2025-03-26 12:11:56,688] Application shutdown complete.
[INFO : 2025-03-26 12:11:56,688] Finished server process [49893]
[INFO : 2025-03-26 12:11:56,948] Started server process [49898]
[INFO : 2025-03-26 12:11:56,948] Waiting for application startup.
[INFO : 2025-03-26 12:11:56,949] Application startup complete.
[WARNING : 2025-03-26 12:12:18,067] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:12:18,088] Shutting down
[INFO : 2025-03-26 12:12:18,191] Waiting for application shutdown.
[INFO : 2025-03-26 12:12:18,193] Application shutdown complete.
[INFO : 2025-03-26 12:12:18,193] Finished server process [49898]
[INFO : 2025-03-26 12:12:18,578] Started server process [49912]
[INFO : 2025-03-26 12:12:18,578] Waiting for application startup.
[INFO : 2025-03-26 12:12:18,578] Application startup complete.
[WARNING : 2025-03-26 12:12:24,510] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:12:24,542] Shutting down
[INFO : 2025-03-26 12:12:24,644] Waiting for application shutdown.
[INFO : 2025-03-26 12:12:24,645] Application shutdown complete.
[INFO : 2025-03-26 12:12:24,645] Finished server process [49912]
[INFO : 2025-03-26 12:12:24,990] Started server process [49922]
[INFO : 2025-03-26 12:12:24,990] Waiting for application startup.
[INFO : 2025-03-26 12:12:24,990] Application startup complete.
[WARNING : 2025-03-26 12:12:31,726] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:12:31,765] Shutting down
[INFO : 2025-03-26 12:12:31,867] Waiting for application shutdown.
[INFO : 2025-03-26 12:12:31,868] Application shutdown complete.
[INFO : 2025-03-26 12:12:31,869] Finished server process [49922]
[INFO : 2025-03-26 12:12:32,269] Started server process [49930]
[INFO : 2025-03-26 12:12:32,269] Waiting for application startup.
[INFO : 2025-03-26 12:12:32,269] Application startup complete.
[WARNING : 2025-03-26 12:12:34,295] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:12:34,391] Shutting down
[INFO : 2025-03-26 12:12:34,493] Waiting for application shutdown.
[INFO : 2025-03-26 12:12:34,494] Application shutdown complete.
[INFO : 2025-03-26 12:12:34,495] Finished server process [49930]
[INFO : 2025-03-26 12:12:34,766] Started server process [49939]
[INFO : 2025-03-26 12:12:34,766] Waiting for application startup.
[INFO : 2025-03-26 12:12:34,767] Application startup complete.
[WARNING : 2025-03-26 12:12:54,340] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:12:54,367] Shutting down
[INFO : 2025-03-26 12:12:54,471] Waiting for application shutdown.
[INFO : 2025-03-26 12:12:54,474] Application shutdown complete.
[INFO : 2025-03-26 12:12:54,474] Finished server process [49939]
[WARNING : 2025-03-26 12:13:09,161] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:13:09,501] Started server process [49976]
[INFO : 2025-03-26 12:13:09,502] Waiting for application startup.
[INFO : 2025-03-26 12:13:09,502] Application startup complete.
[WARNING : 2025-03-26 12:13:18,259] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:13:18,295] Shutting down
[INFO : 2025-03-26 12:13:18,398] Waiting for application shutdown.
[INFO : 2025-03-26 12:13:18,399] Application shutdown complete.
[INFO : 2025-03-26 12:13:18,399] Finished server process [49976]
[INFO : 2025-03-26 12:13:18,736] Started server process [49991]
[INFO : 2025-03-26 12:13:18,737] Waiting for application startup.
[INFO : 2025-03-26 12:13:18,737] Application startup complete.
[WARNING : 2025-03-26 12:13:21,065] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:13:21,163] Shutting down
[INFO : 2025-03-26 12:13:21,266] Waiting for application shutdown.
[INFO : 2025-03-26 12:13:21,267] Application shutdown complete.
[INFO : 2025-03-26 12:13:21,267] Finished server process [49991]
[INFO : 2025-03-26 12:13:21,577] Started server process [49999]
[INFO : 2025-03-26 12:13:21,578] Waiting for application startup.
[INFO : 2025-03-26 12:13:21,578] Application startup complete.
[WARNING : 2025-03-26 12:14:18,931] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:14:18,991] Shutting down
[INFO : 2025-03-26 12:14:19,094] Waiting for application shutdown.
[INFO : 2025-03-26 12:14:19,097] Application shutdown complete.
[INFO : 2025-03-26 12:14:19,097] Finished server process [49999]
[INFO : 2025-03-26 12:14:19,489] Started server process [50068]
[INFO : 2025-03-26 12:14:19,490] Waiting for application startup.
[INFO : 2025-03-26 12:14:19,490] Application startup complete.
[WARNING : 2025-03-26 12:14:22,068] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:14:22,121] Shutting down
[INFO : 2025-03-26 12:14:22,223] Waiting for application shutdown.
[INFO : 2025-03-26 12:14:22,224] Application shutdown complete.
[INFO : 2025-03-26 12:14:22,224] Finished server process [50068]
[WARNING : 2025-03-26 12:14:25,420] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:14:25,663] Started server process [50084]
[INFO : 2025-03-26 12:14:25,663] Waiting for application startup.
[INFO : 2025-03-26 12:14:25,663] Application startup complete.
[WARNING : 2025-03-26 12:14:34,264] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:14:34,358] Shutting down
[INFO : 2025-03-26 12:14:34,460] Waiting for application shutdown.
[INFO : 2025-03-26 12:14:34,460] Application shutdown complete.
[INFO : 2025-03-26 12:14:34,461] Finished server process [50084]
[INFO : 2025-03-26 12:14:34,727] Started server process [50096]
[INFO : 2025-03-26 12:14:34,727] Waiting for application startup.
[INFO : 2025-03-26 12:14:34,727] Application startup complete.
[WARNING : 2025-03-26 12:14:39,206] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:14:39,273] Shutting down
[INFO : 2025-03-26 12:14:39,375] Waiting for application shutdown.
[INFO : 2025-03-26 12:14:39,376] Application shutdown complete.
[INFO : 2025-03-26 12:14:39,376] Finished server process [50096]
[INFO : 2025-03-26 12:14:39,660] Started server process [50106]
[INFO : 2025-03-26 12:14:39,660] Waiting for application startup.
[INFO : 2025-03-26 12:14:39,660] Application startup complete.
[WARNING : 2025-03-26 12:14:41,784] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:14:41,884] Shutting down
[INFO : 2025-03-26 12:14:41,986] Waiting for application shutdown.
[INFO : 2025-03-26 12:14:41,986] Application shutdown complete.
[INFO : 2025-03-26 12:14:41,987] Finished server process [50106]
[INFO : 2025-03-26 12:14:42,247] Started server process [50114]
[INFO : 2025-03-26 12:14:42,247] Waiting for application startup.
[INFO : 2025-03-26 12:14:42,247] Application startup complete.
[WARNING : 2025-03-26 12:14:46,196] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:14:46,292] Shutting down
[INFO : 2025-03-26 12:14:46,394] Waiting for application shutdown.
[INFO : 2025-03-26 12:14:46,395] Application shutdown complete.
[INFO : 2025-03-26 12:14:46,395] Finished server process [50114]
[INFO : 2025-03-26 12:14:46,666] Started server process [50123]
[INFO : 2025-03-26 12:14:46,667] Waiting for application startup.
[INFO : 2025-03-26 12:14:46,667] Application startup complete.
[WARNING : 2025-03-26 12:14:50,629] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:14:50,714] Shutting down
[INFO : 2025-03-26 12:14:50,817] Waiting for application shutdown.
[INFO : 2025-03-26 12:14:50,818] Application shutdown complete.
[INFO : 2025-03-26 12:14:50,818] Finished server process [50123]
[INFO : 2025-03-26 12:14:51,105] Started server process [50128]
[INFO : 2025-03-26 12:14:51,105] Waiting for application startup.
[INFO : 2025-03-26 12:14:51,105] Application startup complete.
[WARNING : 2025-03-26 12:14:52,455] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:14:52,521] Shutting down
[INFO : 2025-03-26 12:14:52,624] Waiting for application shutdown.
[INFO : 2025-03-26 12:14:52,625] Application shutdown complete.
[INFO : 2025-03-26 12:14:52,626] Finished server process [50128]
[INFO : 2025-03-26 12:14:52,913] Started server process [50136]
[INFO : 2025-03-26 12:14:52,914] Waiting for application startup.
[INFO : 2025-03-26 12:14:52,914] Application startup complete.
[WARNING : 2025-03-26 12:14:55,570] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:14:55,643] Shutting down
[INFO : 2025-03-26 12:14:55,745] Waiting for application shutdown.
[INFO : 2025-03-26 12:14:55,746] Application shutdown complete.
[INFO : 2025-03-26 12:14:55,746] Finished server process [50136]
[INFO : 2025-03-26 12:14:56,037] Started server process [50143]
[INFO : 2025-03-26 12:14:56,038] Waiting for application startup.
[INFO : 2025-03-26 12:14:56,038] Application startup complete.
[WARNING : 2025-03-26 12:14:56,856] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:14:56,948] Shutting down
[INFO : 2025-03-26 12:14:57,051] Waiting for application shutdown.
[INFO : 2025-03-26 12:14:57,052] Application shutdown complete.
[INFO : 2025-03-26 12:14:57,053] Finished server process [50143]
[INFO : 2025-03-26 12:14:57,358] Started server process [50151]
[INFO : 2025-03-26 12:14:57,358] Waiting for application startup.
[INFO : 2025-03-26 12:14:57,358] Application startup complete.
[WARNING : 2025-03-26 12:15:02,618] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:15:02,719] Shutting down
[INFO : 2025-03-26 12:15:02,822] Waiting for application shutdown.
[INFO : 2025-03-26 12:15:02,823] Application shutdown complete.
[INFO : 2025-03-26 12:15:02,823] Finished server process [50151]
[INFO : 2025-03-26 12:15:03,145] Started server process [50160]
[INFO : 2025-03-26 12:15:03,145] Waiting for application startup.
[INFO : 2025-03-26 12:15:03,145] Application startup complete.
[WARNING : 2025-03-26 12:15:05,806] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:15:05,874] Shutting down
[INFO : 2025-03-26 12:15:05,977] Waiting for application shutdown.
[INFO : 2025-03-26 12:15:05,978] Application shutdown complete.
[INFO : 2025-03-26 12:15:05,978] Finished server process [50160]
[INFO : 2025-03-26 12:15:06,270] Started server process [50165]
[INFO : 2025-03-26 12:15:06,270] Waiting for application startup.
[INFO : 2025-03-26 12:15:06,270] Application startup complete.
[WARNING : 2025-03-26 12:15:09,696] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:15:09,710] Shutting down
[INFO : 2025-03-26 12:15:09,812] Waiting for application shutdown.
[INFO : 2025-03-26 12:15:09,813] Application shutdown complete.
[INFO : 2025-03-26 12:15:09,813] Finished server process [50165]
[INFO : 2025-03-26 12:15:10,125] Started server process [50174]
[INFO : 2025-03-26 12:15:10,126] Waiting for application startup.
[INFO : 2025-03-26 12:15:10,126] Application startup complete.
[WARNING : 2025-03-26 12:15:17,740] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:15:17,808] Shutting down
[INFO : 2025-03-26 12:15:17,911] Waiting for application shutdown.
[INFO : 2025-03-26 12:15:17,912] Application shutdown complete.
[INFO : 2025-03-26 12:15:17,912] Finished server process [50174]
[INFO : 2025-03-26 12:15:18,204] Started server process [50188]
[INFO : 2025-03-26 12:15:18,204] Waiting for application startup.
[INFO : 2025-03-26 12:15:18,204] Application startup complete.
[WARNING : 2025-03-26 12:15:19,571] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:15:19,620] Shutting down
[INFO : 2025-03-26 12:15:19,722] Waiting for application shutdown.
[INFO : 2025-03-26 12:15:19,724] Application shutdown complete.
[INFO : 2025-03-26 12:15:19,724] Finished server process [50188]
[INFO : 2025-03-26 12:15:19,997] Started server process [50193]
[INFO : 2025-03-26 12:15:19,997] Waiting for application startup.
[INFO : 2025-03-26 12:15:19,997] Application startup complete.
[WARNING : 2025-03-26 12:15:36,994] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:15:37,084] Shutting down
[INFO : 2025-03-26 12:15:37,187] Waiting for application shutdown.
[INFO : 2025-03-26 12:15:37,188] Application shutdown complete.
[INFO : 2025-03-26 12:15:37,188] Finished server process [50193]
[INFO : 2025-03-26 12:15:37,532] Started server process [50208]
[INFO : 2025-03-26 12:15:37,532] Waiting for application startup.
[INFO : 2025-03-26 12:15:37,532] Application startup complete.
[WARNING : 2025-03-26 12:15:43,782] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:15:43,799] Shutting down
[INFO : 2025-03-26 12:15:43,902] Waiting for application shutdown.
[INFO : 2025-03-26 12:15:43,903] Application shutdown complete.
[INFO : 2025-03-26 12:15:43,904] Finished server process [50208]
[INFO : 2025-03-26 12:15:44,274] Started server process [50220]
[INFO : 2025-03-26 12:15:44,274] Waiting for application startup.
[INFO : 2025-03-26 12:15:44,275] Application startup complete.
[WARNING : 2025-03-26 12:15:48,935] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:15:49,027] Shutting down
[INFO : 2025-03-26 12:15:49,129] Waiting for application shutdown.
[INFO : 2025-03-26 12:15:49,130] Application shutdown complete.
[INFO : 2025-03-26 12:15:49,130] Finished server process [50220]
[INFO : 2025-03-26 12:15:49,407] Started server process [50229]
[INFO : 2025-03-26 12:15:49,407] Waiting for application startup.
[INFO : 2025-03-26 12:15:49,407] Application startup complete.
[WARNING : 2025-03-26 12:15:52,853] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:15:52,947] Shutting down
[INFO : 2025-03-26 12:15:53,050] Waiting for application shutdown.
[INFO : 2025-03-26 12:15:53,052] Application shutdown complete.
[INFO : 2025-03-26 12:15:53,052] Finished server process [50229]
[INFO : 2025-03-26 12:15:53,353] Started server process [50239]
[INFO : 2025-03-26 12:15:53,353] Waiting for application startup.
[INFO : 2025-03-26 12:15:53,353] Application startup complete.
[WARNING : 2025-03-26 12:15:54,158] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:15:54,163] Shutting down
[INFO : 2025-03-26 12:15:54,264] Waiting for application shutdown.
[INFO : 2025-03-26 12:15:54,266] Application shutdown complete.
[INFO : 2025-03-26 12:15:54,268] Finished server process [50239]
[INFO : 2025-03-26 12:15:54,530] Started server process [50245]
[INFO : 2025-03-26 12:15:54,530] Waiting for application startup.
[INFO : 2025-03-26 12:15:54,530] Application startup complete.
[WARNING : 2025-03-26 12:16:06,032] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:16:06,052] Shutting down
[INFO : 2025-03-26 12:16:06,155] Waiting for application shutdown.
[INFO : 2025-03-26 12:16:06,156] Application shutdown complete.
[INFO : 2025-03-26 12:16:06,156] Finished server process [50245]
[INFO : 2025-03-26 12:16:06,527] Started server process [50256]
[INFO : 2025-03-26 12:16:06,528] Waiting for application startup.
[INFO : 2025-03-26 12:16:06,528] Application startup complete.
[WARNING : 2025-03-26 12:16:24,209] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:16:24,219] Shutting down
[INFO : 2025-03-26 12:16:24,321] Waiting for application shutdown.
[INFO : 2025-03-26 12:16:24,323] Application shutdown complete.
[INFO : 2025-03-26 12:16:24,324] Finished server process [50256]
[INFO : 2025-03-26 12:16:24,722] Started server process [50287]
[INFO : 2025-03-26 12:16:24,722] Waiting for application startup.
[INFO : 2025-03-26 12:16:24,722] Application startup complete.
[INFO : 2025-03-26 12:16:29,867] link http://localhost:8007/docs#/links/short_links_shorten_post
[INFO : 2025-03-26 12:16:42,033] link https://notegpt.io/ai-detector
[INFO : 2025-03-26 12:16:44,509] link https://notegpt.io/ai-detector
[INFO : 2025-03-26 12:16:45,087] link https://notegpt.io/ai-detector
[INFO : 2025-03-26 12:16:45,311] link https://notegpt.io/ai-detector
[WARNING : 2025-03-26 12:16:50,472] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:16:50,499] Shutting down
[INFO : 2025-03-26 12:16:50,601] Waiting for application shutdown.
[INFO : 2025-03-26 12:16:50,602] Application shutdown complete.
[INFO : 2025-03-26 12:16:50,603] Finished server process [50287]
[INFO : 2025-03-26 12:16:50,933] Started server process [50300]
[INFO : 2025-03-26 12:16:50,933] Waiting for application startup.
[INFO : 2025-03-26 12:16:50,933] Application startup complete.
[INFO : 2025-03-26 12:16:53,486] link https://notegpt.io/ai-detector
[ERROR : 2025-03-26 12:16:53,488] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 106, in __call__
    raise exc from None
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 103, in __call__
    await self.app(scope, receive, inner_send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 68, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Desktop/hw_short_link/api/v1/links/links.py", line 40, in short
    short_url = short_url_generate(request.url)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: short_url_generate() takes 0 positional arguments but 1 was given
[WARNING : 2025-03-26 12:17:12,291] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:17:12,388] Shutting down
[INFO : 2025-03-26 12:17:12,491] Waiting for application shutdown.
[INFO : 2025-03-26 12:17:12,492] Application shutdown complete.
[INFO : 2025-03-26 12:17:12,492] Finished server process [50300]
[INFO : 2025-03-26 12:17:12,854] Started server process [50312]
[INFO : 2025-03-26 12:17:12,854] Waiting for application startup.
[INFO : 2025-03-26 12:17:12,854] Application startup complete.
[INFO : 2025-03-26 12:17:14,797] link https://notegpt.io/ai-detector
[WARNING : 2025-03-26 12:18:31,130] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:18:31,229] Shutting down
[INFO : 2025-03-26 12:18:31,344] Waiting for application shutdown.
[INFO : 2025-03-26 12:18:31,347] Application shutdown complete.
[INFO : 2025-03-26 12:18:31,347] Finished server process [50312]
[INFO : 2025-03-26 12:18:31,783] Started server process [50394]
[INFO : 2025-03-26 12:18:31,783] Waiting for application startup.
[INFO : 2025-03-26 12:18:31,783] Application startup complete.
[WARNING : 2025-03-26 12:19:54,882] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:19:54,889] Shutting down
[INFO : 2025-03-26 12:19:54,992] Waiting for application shutdown.
[INFO : 2025-03-26 12:19:54,995] Application shutdown complete.
[INFO : 2025-03-26 12:19:54,995] Finished server process [50394]
[INFO : 2025-03-26 12:19:55,369] Started server process [50434]
[INFO : 2025-03-26 12:19:55,369] Waiting for application startup.
[INFO : 2025-03-26 12:19:55,369] Application startup complete.
[WARNING : 2025-03-26 12:19:59,509] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:19:59,513] Shutting down
[INFO : 2025-03-26 12:19:59,615] Waiting for application shutdown.
[INFO : 2025-03-26 12:19:59,616] Application shutdown complete.
[INFO : 2025-03-26 12:19:59,616] Finished server process [50434]
[INFO : 2025-03-26 12:19:59,905] Started server process [50446]
[INFO : 2025-03-26 12:19:59,905] Waiting for application startup.
[INFO : 2025-03-26 12:19:59,905] Application startup complete.
[WARNING : 2025-03-26 12:20:02,286] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:20:02,332] Shutting down
[INFO : 2025-03-26 12:20:02,433] Waiting for application shutdown.
[INFO : 2025-03-26 12:20:02,434] Application shutdown complete.
[INFO : 2025-03-26 12:20:02,434] Finished server process [50446]
[WARNING : 2025-03-26 12:20:03,806] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:20:04,058] Started server process [50463]
[INFO : 2025-03-26 12:20:04,058] Waiting for application startup.
[INFO : 2025-03-26 12:20:04,058] Application startup complete.
[WARNING : 2025-03-26 12:20:05,100] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:20:05,169] Shutting down
[INFO : 2025-03-26 12:20:05,271] Waiting for application shutdown.
[INFO : 2025-03-26 12:20:05,273] Application shutdown complete.
[INFO : 2025-03-26 12:20:05,273] Finished server process [50463]
[INFO : 2025-03-26 12:20:05,556] Started server process [50468]
[INFO : 2025-03-26 12:20:05,556] Waiting for application startup.
[INFO : 2025-03-26 12:20:05,557] Application startup complete.
[WARNING : 2025-03-26 12:20:08,983] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:20:08,993] Shutting down
[INFO : 2025-03-26 12:20:09,096] Waiting for application shutdown.
[INFO : 2025-03-26 12:20:09,097] Application shutdown complete.
[INFO : 2025-03-26 12:20:09,097] Finished server process [50468]
[INFO : 2025-03-26 12:20:09,400] Started server process [50479]
[INFO : 2025-03-26 12:20:09,400] Waiting for application startup.
[INFO : 2025-03-26 12:20:09,400] Application startup complete.
[WARNING : 2025-03-26 12:20:15,180] StatReload detected changes in 'schemas/request_schemas/links.py'. Reloading...
[INFO : 2025-03-26 12:20:15,266] Shutting down
[INFO : 2025-03-26 12:20:15,369] Waiting for application shutdown.
[INFO : 2025-03-26 12:20:15,371] Application shutdown complete.
[INFO : 2025-03-26 12:20:15,371] Finished server process [50479]
[INFO : 2025-03-26 12:20:15,651] Started server process [50495]
[INFO : 2025-03-26 12:20:15,651] Waiting for application startup.
[INFO : 2025-03-26 12:20:15,651] Application startup complete.
[WARNING : 2025-03-26 12:20:17,772] StatReload detected changes in 'schemas/request_schemas/links.py'. Reloading...
[INFO : 2025-03-26 12:20:17,875] Shutting down
[INFO : 2025-03-26 12:20:17,977] Waiting for application shutdown.
[INFO : 2025-03-26 12:20:17,978] Application shutdown complete.
[INFO : 2025-03-26 12:20:17,978] Finished server process [50495]
[INFO : 2025-03-26 12:20:18,249] Started server process [50503]
[INFO : 2025-03-26 12:20:18,249] Waiting for application startup.
[INFO : 2025-03-26 12:20:18,249] Application startup complete.
[WARNING : 2025-03-26 12:20:21,447] StatReload detected changes in 'schemas/request_schemas/links.py'. Reloading...
[INFO : 2025-03-26 12:20:21,486] Shutting down
[INFO : 2025-03-26 12:20:21,588] Waiting for application shutdown.
[INFO : 2025-03-26 12:20:21,589] Application shutdown complete.
[INFO : 2025-03-26 12:20:21,590] Finished server process [50503]
[INFO : 2025-03-26 12:20:21,863] Started server process [50512]
[INFO : 2025-03-26 12:20:21,863] Waiting for application startup.
[INFO : 2025-03-26 12:20:21,863] Application startup complete.
[WARNING : 2025-03-26 12:20:24,522] StatReload detected changes in 'schemas/request_schemas/links.py'. Reloading...
[INFO : 2025-03-26 12:20:24,594] Shutting down
[INFO : 2025-03-26 12:20:24,696] Waiting for application shutdown.
[INFO : 2025-03-26 12:20:24,697] Application shutdown complete.
[INFO : 2025-03-26 12:20:24,697] Finished server process [50512]
[INFO : 2025-03-26 12:20:24,985] Started server process [50523]
[INFO : 2025-03-26 12:20:24,986] Waiting for application startup.
[INFO : 2025-03-26 12:20:24,986] Application startup complete.
[WARNING : 2025-03-26 12:20:27,896] StatReload detected changes in 'schemas/request_schemas/links.py'. Reloading...
[INFO : 2025-03-26 12:20:27,921] Shutting down
[INFO : 2025-03-26 12:20:28,023] Waiting for application shutdown.
[INFO : 2025-03-26 12:20:28,024] Application shutdown complete.
[INFO : 2025-03-26 12:20:28,025] Finished server process [50523]
[INFO : 2025-03-26 12:20:28,331] Started server process [50532]
[INFO : 2025-03-26 12:20:28,331] Waiting for application startup.
[INFO : 2025-03-26 12:20:28,331] Application startup complete.
[WARNING : 2025-03-26 12:20:32,247] StatReload detected changes in 'schemas/request_schemas/links.py'. Reloading...
[INFO : 2025-03-26 12:20:32,275] Shutting down
[INFO : 2025-03-26 12:20:32,378] Waiting for application shutdown.
[INFO : 2025-03-26 12:20:32,379] Application shutdown complete.
[INFO : 2025-03-26 12:20:32,379] Finished server process [50532]
[INFO : 2025-03-26 12:20:32,674] Started server process [50540]
[INFO : 2025-03-26 12:20:32,674] Waiting for application startup.
[INFO : 2025-03-26 12:20:32,674] Application startup complete.
[WARNING : 2025-03-26 12:20:35,579] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:20:35,606] Shutting down
[INFO : 2025-03-26 12:20:35,708] Waiting for application shutdown.
[INFO : 2025-03-26 12:20:35,709] Application shutdown complete.
[INFO : 2025-03-26 12:20:35,709] Finished server process [50540]
[INFO : 2025-03-26 12:20:36,000] Started server process [50547]
[INFO : 2025-03-26 12:20:36,000] Waiting for application startup.
[INFO : 2025-03-26 12:20:36,001] Application startup complete.
[WARNING : 2025-03-26 12:20:48,013] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:20:48,034] Shutting down
[INFO : 2025-03-26 12:20:48,137] Waiting for application shutdown.
[INFO : 2025-03-26 12:20:48,138] Application shutdown complete.
[INFO : 2025-03-26 12:20:48,138] Finished server process [50547]
[INFO : 2025-03-26 12:20:48,475] Started server process [50563]
[INFO : 2025-03-26 12:20:48,475] Waiting for application startup.
[INFO : 2025-03-26 12:20:48,475] Application startup complete.
[WARNING : 2025-03-26 12:21:31,182] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:21:31,246] Shutting down
[INFO : 2025-03-26 12:21:31,351] Waiting for application shutdown.
[INFO : 2025-03-26 12:21:31,353] Application shutdown complete.
[INFO : 2025-03-26 12:21:31,354] Finished server process [50563]
[WARNING : 2025-03-26 12:21:35,849] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 12:21:38,187] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:21:38,423] Started server process [50651]
[INFO : 2025-03-26 12:21:38,424] Waiting for application startup.
[INFO : 2025-03-26 12:21:38,424] Application startup complete.
[WARNING : 2025-03-26 12:21:40,530] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:21:40,545] Shutting down
[INFO : 2025-03-26 12:21:40,646] Waiting for application shutdown.
[INFO : 2025-03-26 12:21:40,647] Application shutdown complete.
[INFO : 2025-03-26 12:21:40,648] Finished server process [50651]
[INFO : 2025-03-26 12:21:40,935] Started server process [50658]
[INFO : 2025-03-26 12:21:40,935] Waiting for application startup.
[INFO : 2025-03-26 12:21:40,935] Application startup complete.
[WARNING : 2025-03-26 12:21:46,204] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:21:46,296] Shutting down
[INFO : 2025-03-26 12:21:46,398] Waiting for application shutdown.
[INFO : 2025-03-26 12:21:46,399] Application shutdown complete.
[INFO : 2025-03-26 12:21:46,399] Finished server process [50658]
[INFO : 2025-03-26 12:21:46,683] Started server process [50668]
[INFO : 2025-03-26 12:21:46,683] Waiting for application startup.
[INFO : 2025-03-26 12:21:46,683] Application startup complete.
[WARNING : 2025-03-26 12:21:47,769] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:21:47,795] Shutting down
[INFO : 2025-03-26 12:21:47,897] Waiting for application shutdown.
[INFO : 2025-03-26 12:21:47,898] Application shutdown complete.
[INFO : 2025-03-26 12:21:47,898] Finished server process [50668]
[INFO : 2025-03-26 12:21:48,170] Started server process [50675]
[INFO : 2025-03-26 12:21:48,171] Waiting for application startup.
[INFO : 2025-03-26 12:21:48,171] Application startup complete.
[WARNING : 2025-03-26 12:21:54,712] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:21:54,739] Shutting down
[INFO : 2025-03-26 12:21:54,842] Waiting for application shutdown.
[INFO : 2025-03-26 12:21:54,843] Application shutdown complete.
[INFO : 2025-03-26 12:21:54,843] Finished server process [50675]
[INFO : 2025-03-26 12:21:55,131] Started server process [50684]
[INFO : 2025-03-26 12:21:55,131] Waiting for application startup.
[INFO : 2025-03-26 12:21:55,131] Application startup complete.
[WARNING : 2025-03-26 12:21:56,211] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:21:56,244] Shutting down
[INFO : 2025-03-26 12:21:56,347] Waiting for application shutdown.
[INFO : 2025-03-26 12:21:56,348] Application shutdown complete.
[INFO : 2025-03-26 12:21:56,349] Finished server process [50684]
[WARNING : 2025-03-26 12:22:05,007] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:22:05,277] Started server process [50698]
[INFO : 2025-03-26 12:22:05,277] Waiting for application startup.
[INFO : 2025-03-26 12:22:05,277] Application startup complete.
[WARNING : 2025-03-26 12:25:32,867] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:25:32,881] Shutting down
[INFO : 2025-03-26 12:25:32,984] Waiting for application shutdown.
[INFO : 2025-03-26 12:25:32,985] Application shutdown complete.
[INFO : 2025-03-26 12:25:32,985] Finished server process [50698]
[INFO : 2025-03-26 12:25:33,359] Started server process [50776]
[INFO : 2025-03-26 12:25:33,359] Waiting for application startup.
[INFO : 2025-03-26 12:25:33,359] Application startup complete.
[WARNING : 2025-03-26 12:25:37,490] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:25:37,504] Shutting down
[INFO : 2025-03-26 12:25:37,606] Waiting for application shutdown.
[INFO : 2025-03-26 12:25:37,607] Application shutdown complete.
[INFO : 2025-03-26 12:25:37,607] Finished server process [50776]
[INFO : 2025-03-26 12:25:37,873] Started server process [50790]
[INFO : 2025-03-26 12:25:37,873] Waiting for application startup.
[INFO : 2025-03-26 12:25:37,873] Application startup complete.
[WARNING : 2025-03-26 12:25:40,264] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:25:40,299] Shutting down
[INFO : 2025-03-26 12:25:40,401] Waiting for application shutdown.
[INFO : 2025-03-26 12:25:40,402] Application shutdown complete.
[INFO : 2025-03-26 12:25:40,402] Finished server process [50790]
[INFO : 2025-03-26 12:25:40,694] Started server process [50803]
[INFO : 2025-03-26 12:25:40,694] Waiting for application startup.
[INFO : 2025-03-26 12:25:40,694] Application startup complete.
[WARNING : 2025-03-26 12:25:46,700] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:25:46,764] Shutting down
[INFO : 2025-03-26 12:25:46,867] Waiting for application shutdown.
[INFO : 2025-03-26 12:25:46,868] Application shutdown complete.
[INFO : 2025-03-26 12:25:46,868] Finished server process [50803]
[INFO : 2025-03-26 12:25:47,136] Started server process [50825]
[INFO : 2025-03-26 12:25:47,136] Waiting for application startup.
[INFO : 2025-03-26 12:25:47,136] Application startup complete.
[WARNING : 2025-03-26 12:25:54,246] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:25:54,326] Shutting down
[INFO : 2025-03-26 12:25:54,428] Waiting for application shutdown.
[INFO : 2025-03-26 12:25:54,429] Application shutdown complete.
[INFO : 2025-03-26 12:25:54,429] Finished server process [50825]
[INFO : 2025-03-26 12:25:54,708] Started server process [50840]
[INFO : 2025-03-26 12:25:54,708] Waiting for application startup.
[INFO : 2025-03-26 12:25:54,708] Application startup complete.
[WARNING : 2025-03-26 12:25:59,195] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:25:59,260] Shutting down
[INFO : 2025-03-26 12:25:59,369] Waiting for application shutdown.
[INFO : 2025-03-26 12:25:59,370] Application shutdown complete.
[INFO : 2025-03-26 12:25:59,370] Finished server process [50840]
[WARNING : 2025-03-26 12:26:00,528] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:26:00,773] Started server process [50860]
[INFO : 2025-03-26 12:26:00,773] Waiting for application startup.
[INFO : 2025-03-26 12:26:00,773] Application startup complete.
[WARNING : 2025-03-26 12:26:04,436] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:26:04,511] Shutting down
[INFO : 2025-03-26 12:26:04,614] Waiting for application shutdown.
[INFO : 2025-03-26 12:26:04,615] Application shutdown complete.
[INFO : 2025-03-26 12:26:04,615] Finished server process [50860]
[WARNING : 2025-03-26 12:26:06,257] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 12:26:07,826] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:26:08,079] Started server process [50882]
[INFO : 2025-03-26 12:26:08,080] Waiting for application startup.
[INFO : 2025-03-26 12:26:08,080] Application startup complete.
[WARNING : 2025-03-26 12:26:13,562] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:26:13,638] Shutting down
[INFO : 2025-03-26 12:26:13,740] Waiting for application shutdown.
[INFO : 2025-03-26 12:26:13,741] Application shutdown complete.
[INFO : 2025-03-26 12:26:13,742] Finished server process [50882]
[INFO : 2025-03-26 12:26:14,015] Started server process [50895]
[INFO : 2025-03-26 12:26:14,016] Waiting for application startup.
[INFO : 2025-03-26 12:26:14,016] Application startup complete.
[WARNING : 2025-03-26 12:26:41,109] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:26:41,193] Shutting down
[INFO : 2025-03-26 12:26:41,297] Waiting for application shutdown.
[INFO : 2025-03-26 12:26:41,300] Application shutdown complete.
[INFO : 2025-03-26 12:26:41,301] Finished server process [50895]
[INFO : 2025-03-26 12:26:41,656] Started server process [50911]
[INFO : 2025-03-26 12:26:41,656] Waiting for application startup.
[INFO : 2025-03-26 12:26:41,656] Application startup complete.
[WARNING : 2025-03-26 12:26:42,674] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:26:42,769] Shutting down
[INFO : 2025-03-26 12:26:42,870] Waiting for application shutdown.
[INFO : 2025-03-26 12:26:42,871] Application shutdown complete.
[INFO : 2025-03-26 12:26:42,872] Finished server process [50911]
[INFO : 2025-03-26 12:26:43,133] Started server process [50917]
[INFO : 2025-03-26 12:26:43,133] Waiting for application startup.
[INFO : 2025-03-26 12:26:43,133] Application startup complete.
[WARNING : 2025-03-26 12:26:46,846] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:26:46,875] Shutting down
[INFO : 2025-03-26 12:26:46,977] Waiting for application shutdown.
[INFO : 2025-03-26 12:26:46,978] Application shutdown complete.
[INFO : 2025-03-26 12:26:46,978] Finished server process [50917]
[INFO : 2025-03-26 12:26:47,247] Started server process [50926]
[INFO : 2025-03-26 12:26:47,247] Waiting for application startup.
[INFO : 2025-03-26 12:26:47,248] Application startup complete.
[WARNING : 2025-03-26 12:26:49,904] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:26:49,975] Shutting down
[INFO : 2025-03-26 12:26:50,076] Waiting for application shutdown.
[INFO : 2025-03-26 12:26:50,077] Application shutdown complete.
[INFO : 2025-03-26 12:26:50,078] Finished server process [50926]
[WARNING : 2025-03-26 12:26:53,789] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 12:26:56,131] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 12:26:59,521] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 12:27:00,036] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:27:00,277] Started server process [50960]
[INFO : 2025-03-26 12:27:00,278] Waiting for application startup.
[INFO : 2025-03-26 12:27:00,278] Application startup complete.
[INFO : 2025-03-26 12:27:12,525] link https://notegpt.io/ai-detector
[ERROR : 2025-03-26 12:27:24,665] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 106, in __call__
    raise exc from None
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 103, in __call__
    await self.app(scope, receive, inner_send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 68, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Desktop/hw_short_link/api/v1/links/links.py", line 51, in short
    url: ShortLink = db.query(ShortLink).filter(short_url=short_code).first()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: Query.filter() got an unexpected keyword argument 'short_url'
[WARNING : 2025-03-26 12:27:43,881] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:27:43,949] Shutting down
[INFO : 2025-03-26 12:27:44,051] Waiting for application shutdown.
[INFO : 2025-03-26 12:27:44,052] Application shutdown complete.
[INFO : 2025-03-26 12:27:44,052] Finished server process [50960]
[INFO : 2025-03-26 12:27:44,428] Started server process [51007]
[INFO : 2025-03-26 12:27:44,428] Waiting for application startup.
[INFO : 2025-03-26 12:27:44,428] Application startup complete.
[ERROR : 2025-03-26 12:27:46,542] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 106, in __call__
    raise exc from None
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 103, in __call__
    await self.app(scope, receive, inner_send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 84, in __call__
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 68, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Desktop/hw_short_link/api/v1/links/links.py", line 51, in short
    url: ShortLink = db.query(ShortLink).filter(short_url==short_code).first()
                                                ^^^^^^^^^
NameError: name 'short_url' is not defined
[WARNING : 2025-03-26 12:27:57,147] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 12:27:57,166] Shutting down
[INFO : 2025-03-26 12:27:57,267] Waiting for application shutdown.
[INFO : 2025-03-26 12:27:57,268] Application shutdown complete.
[INFO : 2025-03-26 12:27:57,269] Finished server process [51007]
[INFO : 2025-03-26 12:27:57,633] Started server process [51022]
[INFO : 2025-03-26 12:27:57,634] Waiting for application startup.
[INFO : 2025-03-26 12:27:57,634] Application startup complete.
[WARNING : 2025-03-26 14:16:16,566] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:16:16,603] Shutting down
[INFO : 2025-03-26 14:16:16,706] Waiting for application shutdown.
[INFO : 2025-03-26 14:16:16,709] Application shutdown complete.
[INFO : 2025-03-26 14:16:16,709] Finished server process [51022]
[INFO : 2025-03-26 14:16:17,184] Started server process [51582]
[INFO : 2025-03-26 14:16:17,184] Waiting for application startup.
[INFO : 2025-03-26 14:16:17,184] Application startup complete.
[WARNING : 2025-03-26 14:16:22,291] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:16:22,337] Shutting down
[INFO : 2025-03-26 14:16:22,440] Waiting for application shutdown.
[INFO : 2025-03-26 14:16:22,441] Application shutdown complete.
[INFO : 2025-03-26 14:16:22,441] Finished server process [51582]
[INFO : 2025-03-26 14:16:22,782] Started server process [51599]
[INFO : 2025-03-26 14:16:22,782] Waiting for application startup.
[INFO : 2025-03-26 14:16:22,782] Application startup complete.
[WARNING : 2025-03-26 14:16:33,682] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:16:33,696] Shutting down
[INFO : 2025-03-26 14:16:33,798] Waiting for application shutdown.
[INFO : 2025-03-26 14:16:33,800] Application shutdown complete.
[INFO : 2025-03-26 14:16:33,800] Finished server process [51599]
[INFO : 2025-03-26 14:16:34,145] Started server process [51613]
[INFO : 2025-03-26 14:16:34,145] Waiting for application startup.
[INFO : 2025-03-26 14:16:34,145] Application startup complete.
[WARNING : 2025-03-26 14:16:36,723] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:16:36,772] Shutting down
[INFO : 2025-03-26 14:16:36,874] Waiting for application shutdown.
[INFO : 2025-03-26 14:16:36,876] Application shutdown complete.
[INFO : 2025-03-26 14:16:36,876] Finished server process [51613]
[INFO : 2025-03-26 14:16:37,149] Started server process [51625]
[INFO : 2025-03-26 14:16:37,149] Waiting for application startup.
[INFO : 2025-03-26 14:16:37,149] Application startup complete.
[WARNING : 2025-03-26 14:16:46,323] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:16:46,346] Shutting down
[INFO : 2025-03-26 14:16:46,448] Waiting for application shutdown.
[INFO : 2025-03-26 14:16:46,449] Application shutdown complete.
[INFO : 2025-03-26 14:16:46,449] Finished server process [51625]
[WARNING : 2025-03-26 14:16:51,715] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:16:51,999] Started server process [51649]
[INFO : 2025-03-26 14:16:51,999] Waiting for application startup.
[INFO : 2025-03-26 14:16:52,000] Application startup complete.
[WARNING : 2025-03-26 14:16:54,056] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:16:54,121] Shutting down
[INFO : 2025-03-26 14:16:54,223] Waiting for application shutdown.
[INFO : 2025-03-26 14:16:54,224] Application shutdown complete.
[INFO : 2025-03-26 14:16:54,225] Finished server process [51649]
[WARNING : 2025-03-26 14:16:55,091] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:16:55,378] Started server process [51663]
[INFO : 2025-03-26 14:16:55,380] Waiting for application startup.
[INFO : 2025-03-26 14:16:55,380] Application startup complete.
[WARNING : 2025-03-26 14:17:36,918] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:17:37,020] Shutting down
[INFO : 2025-03-26 14:17:37,122] Waiting for application shutdown.
[INFO : 2025-03-26 14:17:37,124] Application shutdown complete.
[INFO : 2025-03-26 14:17:37,125] Finished server process [51663]
[INFO : 2025-03-26 14:17:37,491] Started server process [51686]
[INFO : 2025-03-26 14:17:37,491] Waiting for application startup.
[INFO : 2025-03-26 14:17:37,492] Application startup complete.
[WARNING : 2025-03-26 14:17:40,332] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:17:40,422] Shutting down
[INFO : 2025-03-26 14:17:40,524] Waiting for application shutdown.
[INFO : 2025-03-26 14:17:40,524] Application shutdown complete.
[INFO : 2025-03-26 14:17:40,525] Finished server process [51686]
[INFO : 2025-03-26 14:17:40,793] Started server process [51698]
[INFO : 2025-03-26 14:17:40,793] Waiting for application startup.
[INFO : 2025-03-26 14:17:40,793] Application startup complete.
[WARNING : 2025-03-26 14:18:24,386] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:18:24,441] Shutting down
[INFO : 2025-03-26 14:18:24,543] Waiting for application shutdown.
[INFO : 2025-03-26 14:18:24,544] Application shutdown complete.
[INFO : 2025-03-26 14:18:24,544] Finished server process [51698]
[INFO : 2025-03-26 14:18:24,952] Started server process [51717]
[INFO : 2025-03-26 14:18:24,953] Waiting for application startup.
[INFO : 2025-03-26 14:18:24,953] Application startup complete.
[WARNING : 2025-03-26 14:18:26,463] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:18:26,469] Shutting down
[INFO : 2025-03-26 14:18:26,572] Waiting for application shutdown.
[INFO : 2025-03-26 14:18:26,572] Application shutdown complete.
[INFO : 2025-03-26 14:18:26,572] Finished server process [51717]
[INFO : 2025-03-26 14:18:26,852] Started server process [51725]
[INFO : 2025-03-26 14:18:26,853] Waiting for application startup.
[INFO : 2025-03-26 14:18:26,853] Application startup complete.
[WARNING : 2025-03-26 14:19:43,705] StatReload detected changes in 'schemas/request_schemas/links.py'. Reloading...
[INFO : 2025-03-26 14:19:43,770] Shutting down
[INFO : 2025-03-26 14:19:43,873] Waiting for application shutdown.
[INFO : 2025-03-26 14:19:43,875] Application shutdown complete.
[INFO : 2025-03-26 14:19:43,876] Finished server process [51725]
[INFO : 2025-03-26 14:19:44,245] Started server process [51755]
[INFO : 2025-03-26 14:19:44,245] Waiting for application startup.
[INFO : 2025-03-26 14:19:44,246] Application startup complete.
[WARNING : 2025-03-26 14:19:52,053] StatReload detected changes in 'schemas/request_schemas/links.py'. Reloading...
[INFO : 2025-03-26 14:19:52,136] Shutting down
[INFO : 2025-03-26 14:19:52,239] Waiting for application shutdown.
[INFO : 2025-03-26 14:19:52,239] Application shutdown complete.
[INFO : 2025-03-26 14:19:52,240] Finished server process [51755]
[INFO : 2025-03-26 14:19:52,588] Started server process [51770]
[INFO : 2025-03-26 14:19:52,588] Waiting for application startup.
[INFO : 2025-03-26 14:19:52,588] Application startup complete.
[WARNING : 2025-03-26 14:19:56,235] StatReload detected changes in 'schemas/request_schemas/links.py'. Reloading...
[INFO : 2025-03-26 14:19:56,331] Shutting down
[INFO : 2025-03-26 14:19:56,433] Waiting for application shutdown.
[INFO : 2025-03-26 14:19:56,435] Application shutdown complete.
[INFO : 2025-03-26 14:19:56,435] Finished server process [51770]
[INFO : 2025-03-26 14:19:56,706] Started server process [51781]
[INFO : 2025-03-26 14:19:56,706] Waiting for application startup.
[INFO : 2025-03-26 14:19:56,706] Application startup complete.
[WARNING : 2025-03-26 14:19:57,820] StatReload detected changes in 'schemas/request_schemas/links.py'. Reloading...
[INFO : 2025-03-26 14:19:57,920] Shutting down
[INFO : 2025-03-26 14:19:58,023] Waiting for application shutdown.
[INFO : 2025-03-26 14:19:58,024] Application shutdown complete.
[INFO : 2025-03-26 14:19:58,024] Finished server process [51781]
[INFO : 2025-03-26 14:19:58,310] Started server process [51788]
[INFO : 2025-03-26 14:19:58,310] Waiting for application startup.
[INFO : 2025-03-26 14:19:58,310] Application startup complete.
[WARNING : 2025-03-26 14:19:59,914] StatReload detected changes in 'schemas/request_schemas/links.py'. Reloading...
[INFO : 2025-03-26 14:19:59,930] Shutting down
[INFO : 2025-03-26 14:20:00,032] Waiting for application shutdown.
[INFO : 2025-03-26 14:20:00,033] Application shutdown complete.
[INFO : 2025-03-26 14:20:00,033] Finished server process [51788]
[INFO : 2025-03-26 14:20:00,311] Started server process [51796]
[INFO : 2025-03-26 14:20:00,311] Waiting for application startup.
[INFO : 2025-03-26 14:20:00,311] Application startup complete.
[WARNING : 2025-03-26 14:20:01,934] StatReload detected changes in 'schemas/request_schemas/links.py'. Reloading...
[INFO : 2025-03-26 14:20:02,030] Shutting down
[INFO : 2025-03-26 14:20:02,133] Waiting for application shutdown.
[INFO : 2025-03-26 14:20:02,134] Application shutdown complete.
[INFO : 2025-03-26 14:20:02,134] Finished server process [51796]
[INFO : 2025-03-26 14:20:02,417] Started server process [51802]
[INFO : 2025-03-26 14:20:02,418] Waiting for application startup.
[INFO : 2025-03-26 14:20:02,418] Application startup complete.
[WARNING : 2025-03-26 14:20:03,508] StatReload detected changes in 'schemas/request_schemas/links.py'. Reloading...
[INFO : 2025-03-26 14:20:03,528] Shutting down
[INFO : 2025-03-26 14:20:03,630] Waiting for application shutdown.
[INFO : 2025-03-26 14:20:03,632] Application shutdown complete.
[INFO : 2025-03-26 14:20:03,633] Finished server process [51802]
[WARNING : 2025-03-26 14:20:30,612] StatReload detected changes in 'schemas/request_schemas/links.py'. Reloading...
[INFO : 2025-03-26 14:20:30,956] Started server process [51823]
[INFO : 2025-03-26 14:20:30,956] Waiting for application startup.
[INFO : 2025-03-26 14:20:30,956] Application startup complete.
[WARNING : 2025-03-26 14:21:00,571] StatReload detected changes in 'models/short_links.py'. Reloading...
[INFO : 2025-03-26 14:21:00,594] Shutting down
[INFO : 2025-03-26 14:21:00,697] Waiting for application shutdown.
[INFO : 2025-03-26 14:21:00,697] Application shutdown complete.
[INFO : 2025-03-26 14:21:00,697] Finished server process [51823]
[WARNING : 2025-03-26 14:21:03,354] StatReload detected changes in 'models/short_links.py'. Reloading...
[INFO : 2025-03-26 14:21:03,603] Started server process [51861]
[INFO : 2025-03-26 14:21:03,603] Waiting for application startup.
[INFO : 2025-03-26 14:21:03,603] Application startup complete.
[WARNING : 2025-03-26 14:21:06,742] StatReload detected changes in 'models/short_links.py'. Reloading...
[INFO : 2025-03-26 14:21:06,839] Shutting down
[INFO : 2025-03-26 14:21:06,941] Waiting for application shutdown.
[INFO : 2025-03-26 14:21:06,942] Application shutdown complete.
[INFO : 2025-03-26 14:21:06,942] Finished server process [51861]
[INFO : 2025-03-26 14:21:07,207] Started server process [51871]
[INFO : 2025-03-26 14:21:07,207] Waiting for application startup.
[INFO : 2025-03-26 14:21:07,207] Application startup complete.
[INFO : 2025-03-26 14:21:08,925] Shutting down
[INFO : 2025-03-26 14:21:09,027] Waiting for application shutdown.
[INFO : 2025-03-26 14:21:09,028] Application shutdown complete.
[INFO : 2025-03-26 14:21:09,028] Finished server process [51871]
[INFO : 2025-03-26 14:21:09,098] Stopping reloader process [47331]
[INFO : 2025-03-26 14:23:39,322] Will watch for changes in these directories: ['/Users/pavelsariia/Desktop/hw_short_link']
[INFO : 2025-03-26 14:23:39,322] Uvicorn running on http://0.0.0.0:8007 (Press CTRL+C to quit)
[INFO : 2025-03-26 14:23:39,322] Started reloader process [52052] using StatReload
[INFO : 2025-03-26 14:23:39,522] Started server process [52054]
[INFO : 2025-03-26 14:23:39,522] Waiting for application startup.
[INFO : 2025-03-26 14:23:39,522] Application startup complete.
[INFO : 2025-03-26 14:30:54,496] link https://notegpt.io/ai-detector
[INFO : 2025-03-26 14:30:57,821] link https://notegpt.io/ai-detector
[WARNING : 2025-03-26 14:31:43,167] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:31:43,249] Shutting down
[INFO : 2025-03-26 14:31:43,352] Waiting for application shutdown.
[INFO : 2025-03-26 14:31:43,354] Application shutdown complete.
[INFO : 2025-03-26 14:31:43,354] Finished server process [52054]
[INFO : 2025-03-26 14:31:43,750] Started server process [52371]
[INFO : 2025-03-26 14:31:43,750] Waiting for application startup.
[INFO : 2025-03-26 14:31:43,750] Application startup complete.
[WARNING : 2025-03-26 14:31:46,045] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:31:46,076] Shutting down
[INFO : 2025-03-26 14:31:46,178] Waiting for application shutdown.
[INFO : 2025-03-26 14:31:46,179] Application shutdown complete.
[INFO : 2025-03-26 14:31:46,180] Finished server process [52371]
[INFO : 2025-03-26 14:31:46,448] Started server process [52383]
[INFO : 2025-03-26 14:31:46,448] Waiting for application startup.
[INFO : 2025-03-26 14:31:46,449] Application startup complete.
[WARNING : 2025-03-26 14:31:48,344] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:31:48,370] Shutting down
[INFO : 2025-03-26 14:31:48,472] Waiting for application shutdown.
[INFO : 2025-03-26 14:31:48,473] Application shutdown complete.
[INFO : 2025-03-26 14:31:48,473] Finished server process [52383]
[INFO : 2025-03-26 14:31:48,749] Started server process [52391]
[INFO : 2025-03-26 14:31:48,749] Waiting for application startup.
[INFO : 2025-03-26 14:31:48,749] Application startup complete.
[WARNING : 2025-03-26 14:31:55,037] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:31:55,118] Shutting down
[INFO : 2025-03-26 14:31:55,220] Waiting for application shutdown.
[INFO : 2025-03-26 14:31:55,221] Application shutdown complete.
[INFO : 2025-03-26 14:31:55,221] Finished server process [52391]
[INFO : 2025-03-26 14:31:55,501] Started server process [52405]
[INFO : 2025-03-26 14:31:55,501] Waiting for application startup.
[INFO : 2025-03-26 14:31:55,501] Application startup complete.
[WARNING : 2025-03-26 14:31:57,609] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:31:57,625] Shutting down
[INFO : 2025-03-26 14:31:57,727] Waiting for application shutdown.
[INFO : 2025-03-26 14:31:57,727] Application shutdown complete.
[INFO : 2025-03-26 14:31:57,728] Finished server process [52405]
[INFO : 2025-03-26 14:31:58,020] Started server process [52413]
[INFO : 2025-03-26 14:31:58,021] Waiting for application startup.
[INFO : 2025-03-26 14:31:58,021] Application startup complete.
[WARNING : 2025-03-26 14:31:59,102] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:31:59,133] Shutting down
[INFO : 2025-03-26 14:31:59,235] Waiting for application shutdown.
[INFO : 2025-03-26 14:31:59,235] Application shutdown complete.
[INFO : 2025-03-26 14:31:59,235] Finished server process [52413]
[INFO : 2025-03-26 14:31:59,511] Started server process [52418]
[INFO : 2025-03-26 14:31:59,512] Waiting for application startup.
[INFO : 2025-03-26 14:31:59,512] Application startup complete.
[WARNING : 2025-03-26 14:32:05,013] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:32:05,078] Shutting down
[INFO : 2025-03-26 14:32:05,181] Waiting for application shutdown.
[INFO : 2025-03-26 14:32:05,182] Application shutdown complete.
[INFO : 2025-03-26 14:32:05,182] Finished server process [52418]
[INFO : 2025-03-26 14:32:05,476] Started server process [52430]
[INFO : 2025-03-26 14:32:05,476] Waiting for application startup.
[INFO : 2025-03-26 14:32:05,476] Application startup complete.
[WARNING : 2025-03-26 14:32:05,781] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:32:05,887] Shutting down
[INFO : 2025-03-26 14:32:05,989] Waiting for application shutdown.
[INFO : 2025-03-26 14:32:05,990] Application shutdown complete.
[INFO : 2025-03-26 14:32:05,991] Finished server process [52430]
[INFO : 2025-03-26 14:32:06,246] Started server process [52435]
[INFO : 2025-03-26 14:32:06,246] Waiting for application startup.
[INFO : 2025-03-26 14:32:06,246] Application startup complete.
[WARNING : 2025-03-26 14:33:00,460] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:33:00,532] Shutting down
[INFO : 2025-03-26 14:33:00,635] Waiting for application shutdown.
[INFO : 2025-03-26 14:33:00,636] Application shutdown complete.
[INFO : 2025-03-26 14:33:00,636] Finished server process [52435]
[WARNING : 2025-03-26 14:33:07,221] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 14:33:12,415] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:33:12,721] Started server process [52489]
[INFO : 2025-03-26 14:33:12,722] Waiting for application startup.
[INFO : 2025-03-26 14:33:12,722] Application startup complete.
[ERROR : 2025-03-26 14:33:46,770] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 106, in __call__
    raise exc from None
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 103, in __call__
    await self.app(scope, receive, inner_send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 68, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Desktop/hw_short_link/api/v1/links/links.py", line 71, in short
    url: ShortLink = db.query(ShortLink).filter(ShortLink.short_url==short_code).first()
                                                                     ^^^^^^^^^^
NameError: name 'short_code' is not defined
[ERROR : 2025-03-26 14:33:47,914] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 106, in __call__
    raise exc from None
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 103, in __call__
    await self.app(scope, receive, inner_send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 68, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Desktop/hw_short_link/api/v1/links/links.py", line 71, in short
    url: ShortLink = db.query(ShortLink).filter(ShortLink.short_url==short_code).first()
                                                                     ^^^^^^^^^^
NameError: name 'short_code' is not defined
[WARNING : 2025-03-26 14:34:05,888] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:34:05,991] Shutting down
[INFO : 2025-03-26 14:34:06,093] Waiting for application shutdown.
[INFO : 2025-03-26 14:34:06,094] Application shutdown complete.
[INFO : 2025-03-26 14:34:06,095] Finished server process [52489]
[INFO : 2025-03-26 14:34:06,489] Started server process [52527]
[INFO : 2025-03-26 14:34:06,489] Waiting for application startup.
[INFO : 2025-03-26 14:34:06,489] Application startup complete.
[WARNING : 2025-03-26 14:34:12,734] StatReload detected changes in 'schemas/request_schemas/links.py'. Reloading...
[INFO : 2025-03-26 14:34:12,760] Shutting down
[INFO : 2025-03-26 14:34:12,863] Waiting for application shutdown.
[INFO : 2025-03-26 14:34:12,864] Application shutdown complete.
[INFO : 2025-03-26 14:34:12,865] Finished server process [52527]
[WARNING : 2025-03-26 14:34:21,797] StatReload detected changes in 'schemas/request_schemas/links.py'. Reloading...
[WARNING : 2025-03-26 14:34:25,973] StatReload detected changes in 'schemas/request_schemas/links.py'. Reloading...
[INFO : 2025-03-26 14:34:26,229] Started server process [52560]
[INFO : 2025-03-26 14:34:26,229] Waiting for application startup.
[INFO : 2025-03-26 14:34:26,229] Application startup complete.
[WARNING : 2025-03-26 14:34:41,874] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:34:41,899] Shutting down
[INFO : 2025-03-26 14:34:42,001] Waiting for application shutdown.
[INFO : 2025-03-26 14:34:42,002] Application shutdown complete.
[INFO : 2025-03-26 14:34:42,002] Finished server process [52560]
[INFO : 2025-03-26 14:34:42,379] Started server process [52580]
[INFO : 2025-03-26 14:34:42,380] Waiting for application startup.
[INFO : 2025-03-26 14:34:42,380] Application startup complete.
[WARNING : 2025-03-26 14:34:43,889] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:34:43,895] Shutting down
[INFO : 2025-03-26 14:34:43,997] Waiting for application shutdown.
[INFO : 2025-03-26 14:34:43,998] Application shutdown complete.
[INFO : 2025-03-26 14:34:43,998] Finished server process [52580]
[INFO : 2025-03-26 14:34:44,351] Started server process [52588]
[INFO : 2025-03-26 14:34:44,351] Waiting for application startup.
[INFO : 2025-03-26 14:34:44,351] Application startup complete.
[WARNING : 2025-03-26 14:34:47,715] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:34:47,792] Shutting down
[INFO : 2025-03-26 14:34:47,897] Waiting for application shutdown.
[INFO : 2025-03-26 14:34:47,898] Application shutdown complete.
[INFO : 2025-03-26 14:34:47,898] Finished server process [52588]
[WARNING : 2025-03-26 14:34:50,571] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:34:50,816] Started server process [52621]
[INFO : 2025-03-26 14:34:50,816] Waiting for application startup.
[INFO : 2025-03-26 14:34:50,816] Application startup complete.
[WARNING : 2025-03-26 14:35:09,450] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:35:09,521] Shutting down
[INFO : 2025-03-26 14:35:09,623] Waiting for application shutdown.
[INFO : 2025-03-26 14:35:09,624] Application shutdown complete.
[INFO : 2025-03-26 14:35:09,625] Finished server process [52621]
[INFO : 2025-03-26 14:35:09,997] Started server process [52635]
[INFO : 2025-03-26 14:35:09,998] Waiting for application startup.
[INFO : 2025-03-26 14:35:09,998] Application startup complete.
[WARNING : 2025-03-26 14:35:11,789] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:35:11,817] Shutting down
[INFO : 2025-03-26 14:35:11,919] Waiting for application shutdown.
[INFO : 2025-03-26 14:35:11,920] Application shutdown complete.
[INFO : 2025-03-26 14:35:11,920] Finished server process [52635]
[INFO : 2025-03-26 14:35:12,220] Started server process [52643]
[INFO : 2025-03-26 14:35:12,220] Waiting for application startup.
[INFO : 2025-03-26 14:35:12,220] Application startup complete.
[WARNING : 2025-03-26 14:35:18,505] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:35:18,590] Shutting down
[INFO : 2025-03-26 14:35:18,692] Waiting for application shutdown.
[INFO : 2025-03-26 14:35:18,693] Application shutdown complete.
[INFO : 2025-03-26 14:35:18,693] Finished server process [52643]
[INFO : 2025-03-26 14:35:18,980] Started server process [52652]
[INFO : 2025-03-26 14:35:18,980] Waiting for application startup.
[INFO : 2025-03-26 14:35:18,980] Application startup complete.
[WARNING : 2025-03-26 14:35:27,091] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:35:27,172] Shutting down
[INFO : 2025-03-26 14:35:27,275] Waiting for application shutdown.
[INFO : 2025-03-26 14:35:27,276] Application shutdown complete.
[INFO : 2025-03-26 14:35:27,276] Finished server process [52652]
[INFO : 2025-03-26 14:35:27,574] Started server process [52663]
[INFO : 2025-03-26 14:35:27,574] Waiting for application startup.
[INFO : 2025-03-26 14:35:27,575] Application startup complete.
[WARNING : 2025-03-26 14:35:36,953] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:35:36,967] Shutting down
[INFO : 2025-03-26 14:35:37,070] Waiting for application shutdown.
[INFO : 2025-03-26 14:35:37,071] Application shutdown complete.
[INFO : 2025-03-26 14:35:37,071] Finished server process [52663]
[INFO : 2025-03-26 14:35:37,423] Started server process [52673]
[INFO : 2025-03-26 14:35:37,423] Waiting for application startup.
[INFO : 2025-03-26 14:35:37,423] Application startup complete.
[WARNING : 2025-03-26 14:35:44,168] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:35:44,193] Shutting down
[INFO : 2025-03-26 14:35:44,295] Waiting for application shutdown.
[INFO : 2025-03-26 14:35:44,296] Application shutdown complete.
[INFO : 2025-03-26 14:35:44,296] Finished server process [52673]
[WARNING : 2025-03-26 14:35:45,929] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 14:35:51,115] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 14:35:53,455] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 14:35:56,582] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:35:56,821] Started server process [52718]
[INFO : 2025-03-26 14:35:56,821] Waiting for application startup.
[INFO : 2025-03-26 14:35:56,821] Application startup complete.
[WARNING : 2025-03-26 14:35:57,622] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:35:57,629] Shutting down
[INFO : 2025-03-26 14:35:57,731] Waiting for application shutdown.
[INFO : 2025-03-26 14:35:57,732] Application shutdown complete.
[INFO : 2025-03-26 14:35:57,732] Finished server process [52718]
[INFO : 2025-03-26 14:35:58,098] Started server process [52724]
[INFO : 2025-03-26 14:35:58,098] Waiting for application startup.
[INFO : 2025-03-26 14:35:58,098] Application startup complete.
[WARNING : 2025-03-26 14:36:52,598] StatReload detected changes in 'schemas/request_schemas/links.py'. Reloading...
[INFO : 2025-03-26 14:36:52,682] Shutting down
[INFO : 2025-03-26 14:36:52,785] Waiting for application shutdown.
[INFO : 2025-03-26 14:36:52,786] Application shutdown complete.
[INFO : 2025-03-26 14:36:52,786] Finished server process [52724]
[WARNING : 2025-03-26 14:37:13,706] StatReload detected changes in 'schemas/request_schemas/links.py'. Reloading...
[INFO : 2025-03-26 14:37:14,019] Started server process [52792]
[INFO : 2025-03-26 14:37:14,019] Waiting for application startup.
[INFO : 2025-03-26 14:37:14,019] Application startup complete.
[WARNING : 2025-03-26 14:37:18,897] StatReload detected changes in 'schemas/request_schemas/links.py'. Reloading...
[INFO : 2025-03-26 14:37:18,972] Shutting down
[INFO : 2025-03-26 14:37:19,074] Waiting for application shutdown.
[INFO : 2025-03-26 14:37:19,075] Application shutdown complete.
[INFO : 2025-03-26 14:37:19,076] Finished server process [52792]
[INFO : 2025-03-26 14:37:19,418] Started server process [52804]
[INFO : 2025-03-26 14:37:19,418] Waiting for application startup.
[INFO : 2025-03-26 14:37:19,418] Application startup complete.
[ERROR : 2025-03-26 14:37:35,847] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 106, in __call__
    raise exc from None
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 103, in __call__
    await self.app(scope, receive, inner_send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/applications.py", line 269, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 68, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 46, in call_next
    raise app_exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 36, in coro
    await self.app(scope, request.receive, send_stream.send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/exceptions.py", line 93, in __call__
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/exceptions.py", line 82, in __call__
    await self.app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 21, in __call__
    raise e
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 670, in __call__
    await route.handle(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 266, in handle
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 65, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 227, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 162, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 867, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Desktop/hw_short_link/api/v1/links/links.py", line 76, in short
    url.expires_at = request.ex
                     ^^^^^^^^^^
AttributeError: 'UpdateLink' object has no attribute 'ex'
[WARNING : 2025-03-26 14:37:57,509] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:37:57,525] Shutting down
[INFO : 2025-03-26 14:37:57,628] Waiting for application shutdown.
[INFO : 2025-03-26 14:37:57,631] Application shutdown complete.
[INFO : 2025-03-26 14:37:57,631] Finished server process [52804]
[INFO : 2025-03-26 14:37:58,045] Started server process [52846]
[INFO : 2025-03-26 14:37:58,045] Waiting for application startup.
[INFO : 2025-03-26 14:37:58,045] Application startup complete.
[WARNING : 2025-03-26 14:38:55,148] StatReload detected changes in 'models/short_links.py'. Reloading...
[INFO : 2025-03-26 14:38:55,201] Shutting down
[INFO : 2025-03-26 14:38:55,306] Waiting for application shutdown.
[INFO : 2025-03-26 14:38:55,308] Application shutdown complete.
[INFO : 2025-03-26 14:38:55,308] Finished server process [52846]
[WARNING : 2025-03-26 14:39:00,633] StatReload detected changes in 'models/short_links.py'. Reloading...
[WARNING : 2025-03-26 14:39:03,237] StatReload detected changes in 'models/short_links.py'. Reloading...
[INFO : 2025-03-26 14:39:03,494] Started server process [52896]
[INFO : 2025-03-26 14:39:03,494] Waiting for application startup.
[INFO : 2025-03-26 14:39:03,494] Application startup complete.
[INFO : 2025-03-26 14:39:05,314] Shutting down
[INFO : 2025-03-26 14:39:05,417] Waiting for application shutdown.
[INFO : 2025-03-26 14:39:05,418] Application shutdown complete.
[INFO : 2025-03-26 14:39:05,418] Finished server process [52896]
[INFO : 2025-03-26 14:39:05,471] Stopping reloader process [52052]
[INFO : 2025-03-26 14:40:17,878] Will watch for changes in these directories: ['/Users/pavelsariia/Desktop/hw_short_link']
[INFO : 2025-03-26 14:40:17,879] Uvicorn running on http://0.0.0.0:8007 (Press CTRL+C to quit)
[INFO : 2025-03-26 14:40:17,879] Started reloader process [52951] using StatReload
[INFO : 2025-03-26 14:40:18,106] Started server process [52953]
[INFO : 2025-03-26 14:40:18,106] Waiting for application startup.
[INFO : 2025-03-26 14:40:18,107] Application startup complete.
[INFO : 2025-03-26 14:40:19,573] link https://elibrary.ru/item.asp?id=50127143
[WARNING : 2025-03-26 14:40:30,749] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:40:30,848] Shutting down
[INFO : 2025-03-26 14:40:30,952] Waiting for application shutdown.
[INFO : 2025-03-26 14:40:30,953] Application shutdown complete.
[INFO : 2025-03-26 14:40:30,954] Finished server process [52953]
[INFO : 2025-03-26 14:40:31,308] Started server process [52966]
[INFO : 2025-03-26 14:40:31,309] Waiting for application startup.
[INFO : 2025-03-26 14:40:31,309] Application startup complete.
[WARNING : 2025-03-26 14:40:34,412] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:40:34,443] Shutting down
[INFO : 2025-03-26 14:40:34,545] Waiting for application shutdown.
[INFO : 2025-03-26 14:40:34,546] Application shutdown complete.
[INFO : 2025-03-26 14:40:34,546] Finished server process [52966]
[INFO : 2025-03-26 14:40:34,815] Started server process [52976]
[INFO : 2025-03-26 14:40:34,815] Waiting for application startup.
[INFO : 2025-03-26 14:40:34,816] Application startup complete.
[WARNING : 2025-03-26 14:40:37,989] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:40:38,050] Shutting down
[INFO : 2025-03-26 14:40:38,152] Waiting for application shutdown.
[INFO : 2025-03-26 14:40:38,153] Application shutdown complete.
[INFO : 2025-03-26 14:40:38,153] Finished server process [52976]
[INFO : 2025-03-26 14:40:38,459] Started server process [52986]
[INFO : 2025-03-26 14:40:38,459] Waiting for application startup.
[INFO : 2025-03-26 14:40:38,459] Application startup complete.
[WARNING : 2025-03-26 14:40:41,100] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:40:41,193] Shutting down
[INFO : 2025-03-26 14:40:41,295] Waiting for application shutdown.
[INFO : 2025-03-26 14:40:41,296] Application shutdown complete.
[INFO : 2025-03-26 14:40:41,297] Finished server process [52986]
[INFO : 2025-03-26 14:40:41,586] Started server process [52995]
[INFO : 2025-03-26 14:40:41,586] Waiting for application startup.
[INFO : 2025-03-26 14:40:41,586] Application startup complete.
[WARNING : 2025-03-26 14:40:48,178] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:40:48,262] Shutting down
[INFO : 2025-03-26 14:40:48,366] Waiting for application shutdown.
[INFO : 2025-03-26 14:40:48,368] Application shutdown complete.
[INFO : 2025-03-26 14:40:48,369] Finished server process [52995]
[INFO : 2025-03-26 14:40:48,672] Started server process [53005]
[INFO : 2025-03-26 14:40:48,672] Waiting for application startup.
[INFO : 2025-03-26 14:40:48,673] Application startup complete.
[WARNING : 2025-03-26 14:40:48,948] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:40:48,977] Shutting down
[INFO : 2025-03-26 14:40:49,079] Waiting for application shutdown.
[INFO : 2025-03-26 14:40:49,079] Application shutdown complete.
[INFO : 2025-03-26 14:40:49,080] Finished server process [53005]
[INFO : 2025-03-26 14:40:49,365] Started server process [53010]
[INFO : 2025-03-26 14:40:49,365] Waiting for application startup.
[INFO : 2025-03-26 14:40:49,365] Application startup complete.
[INFO : 2025-03-26 14:40:50,768] link https://elibrary.ru/item.asp?id=50127143
[WARNING : 2025-03-26 14:41:24,637] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:41:24,648] Shutting down
[INFO : 2025-03-26 14:41:24,752] Waiting for application shutdown.
[INFO : 2025-03-26 14:41:24,754] Application shutdown complete.
[INFO : 2025-03-26 14:41:24,755] Finished server process [53010]
[WARNING : 2025-03-26 14:41:27,708] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 14:41:30,047] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:41:30,301] Started server process [53063]
[INFO : 2025-03-26 14:41:30,302] Waiting for application startup.
[INFO : 2025-03-26 14:41:30,302] Application startup complete.
[WARNING : 2025-03-26 14:41:33,174] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:41:33,237] Shutting down
[INFO : 2025-03-26 14:41:33,339] Waiting for application shutdown.
[INFO : 2025-03-26 14:41:33,341] Application shutdown complete.
[INFO : 2025-03-26 14:41:33,341] Finished server process [53063]
[INFO : 2025-03-26 14:41:33,641] Started server process [53074]
[INFO : 2025-03-26 14:41:33,642] Waiting for application startup.
[INFO : 2025-03-26 14:41:33,642] Application startup complete.
[WARNING : 2025-03-26 14:41:35,498] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:41:35,566] Shutting down
[INFO : 2025-03-26 14:41:35,668] Waiting for application shutdown.
[INFO : 2025-03-26 14:41:35,670] Application shutdown complete.
[INFO : 2025-03-26 14:41:35,670] Finished server process [53074]
[INFO : 2025-03-26 14:41:35,947] Started server process [53080]
[INFO : 2025-03-26 14:41:35,947] Waiting for application startup.
[INFO : 2025-03-26 14:41:35,947] Application startup complete.
[WARNING : 2025-03-26 14:41:42,786] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:41:42,819] Shutting down
[INFO : 2025-03-26 14:41:42,922] Waiting for application shutdown.
[INFO : 2025-03-26 14:41:42,924] Application shutdown complete.
[INFO : 2025-03-26 14:41:42,924] Finished server process [53080]
[INFO : 2025-03-26 14:41:43,210] Started server process [53093]
[INFO : 2025-03-26 14:41:43,210] Waiting for application startup.
[INFO : 2025-03-26 14:41:43,210] Application startup complete.
[WARNING : 2025-03-26 14:41:46,349] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:41:46,446] Shutting down
[INFO : 2025-03-26 14:41:46,548] Waiting for application shutdown.
[INFO : 2025-03-26 14:41:46,550] Application shutdown complete.
[INFO : 2025-03-26 14:41:46,550] Finished server process [53093]
[INFO : 2025-03-26 14:41:46,833] Started server process [53102]
[INFO : 2025-03-26 14:41:46,833] Waiting for application startup.
[INFO : 2025-03-26 14:41:46,833] Application startup complete.
[WARNING : 2025-03-26 14:41:47,947] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:41:48,045] Shutting down
[INFO : 2025-03-26 14:41:48,148] Waiting for application shutdown.
[INFO : 2025-03-26 14:41:48,149] Application shutdown complete.
[INFO : 2025-03-26 14:41:48,150] Finished server process [53102]
[INFO : 2025-03-26 14:41:48,478] Started server process [53107]
[INFO : 2025-03-26 14:41:48,479] Waiting for application startup.
[INFO : 2025-03-26 14:41:48,479] Application startup complete.
[WARNING : 2025-03-26 14:42:20,073] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:42:20,125] Shutting down
[INFO : 2025-03-26 14:42:20,227] Waiting for application shutdown.
[INFO : 2025-03-26 14:42:20,228] Application shutdown complete.
[INFO : 2025-03-26 14:42:20,228] Finished server process [53107]
[WARNING : 2025-03-26 14:42:22,402] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 14:42:27,619] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 14:42:31,528] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 14:42:33,864] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 14:42:35,163] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 14:42:37,780] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 14:42:49,553] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 14:42:51,389] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 14:43:02,053] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 14:45:03,009] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 14:45:09,241] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 14:45:10,278] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 14:45:14,158] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 14:45:15,464] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 14:45:19,107] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 14:45:26,125] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 14:45:30,007] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 14:45:32,347] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 14:45:33,914] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:45:34,147] Started server process [53337]
[INFO : 2025-03-26 14:45:34,147] Waiting for application startup.
[INFO : 2025-03-26 14:45:34,147] Application startup complete.
[WARNING : 2025-03-26 14:46:04,710] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:46:04,776] Shutting down
[INFO : 2025-03-26 14:46:04,878] Waiting for application shutdown.
[INFO : 2025-03-26 14:46:04,879] Application shutdown complete.
[INFO : 2025-03-26 14:46:04,879] Finished server process [53337]
[INFO : 2025-03-26 14:46:05,246] Started server process [53355]
[INFO : 2025-03-26 14:46:05,247] Waiting for application startup.
[INFO : 2025-03-26 14:46:05,247] Application startup complete.
[WARNING : 2025-03-26 14:46:06,512] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 14:46:06,563] Shutting down
[INFO : 2025-03-26 14:46:06,665] Waiting for application shutdown.
[INFO : 2025-03-26 14:46:06,666] Application shutdown complete.
[INFO : 2025-03-26 14:46:06,666] Finished server process [53355]
[INFO : 2025-03-26 14:46:06,978] Started server process [53363]
[INFO : 2025-03-26 14:46:06,979] Waiting for application startup.
[INFO : 2025-03-26 14:46:06,979] Application startup complete.
[WARNING : 2025-03-26 14:48:01,927] StatReload detected changes in 'models/short_links.py'. Reloading...
[INFO : 2025-03-26 14:48:01,933] Shutting down
[INFO : 2025-03-26 14:48:02,037] Waiting for application shutdown.
[INFO : 2025-03-26 14:48:02,039] Application shutdown complete.
[INFO : 2025-03-26 14:48:02,040] Finished server process [53363]
[WARNING : 2025-03-26 14:48:05,793] StatReload detected changes in 'models/short_links.py'. Reloading...
[WARNING : 2025-03-26 14:48:09,164] StatReload detected changes in 'models/short_links.py'. Reloading...
[INFO : 2025-03-26 14:48:09,412] Started server process [53441]
[INFO : 2025-03-26 14:48:09,412] Waiting for application startup.
[INFO : 2025-03-26 14:48:09,412] Application startup complete.
[WARNING : 2025-03-26 14:48:14,094] StatReload detected changes in 'models/short_links.py'. Reloading...
[INFO : 2025-03-26 14:48:14,161] Shutting down
[INFO : 2025-03-26 14:48:14,262] Waiting for application shutdown.
[INFO : 2025-03-26 14:48:14,263] Application shutdown complete.
[INFO : 2025-03-26 14:48:14,265] Finished server process [53441]
[INFO : 2025-03-26 14:48:14,535] Started server process [53458]
[INFO : 2025-03-26 14:48:14,535] Waiting for application startup.
[INFO : 2025-03-26 14:48:14,535] Application startup complete.
[INFO : 2025-03-26 14:48:15,951] Shutting down
[INFO : 2025-03-26 14:48:16,053] Waiting for application shutdown.
[INFO : 2025-03-26 14:48:16,054] Application shutdown complete.
[INFO : 2025-03-26 14:48:16,055] Finished server process [53458]
[INFO : 2025-03-26 14:48:16,110] Stopping reloader process [52951]
[INFO : 2025-03-26 15:17:33,905] Will watch for changes in these directories: ['/Users/pavelsariia/Desktop/hw_short_link']
[INFO : 2025-03-26 15:17:33,905] Uvicorn running on http://0.0.0.0:8007 (Press CTRL+C to quit)
[INFO : 2025-03-26 15:17:33,905] Started reloader process [54302] using StatReload
[INFO : 2025-03-26 15:17:34,115] Started server process [54304]
[INFO : 2025-03-26 15:17:34,115] Waiting for application startup.
[INFO : 2025-03-26 15:17:34,115] Application startup complete.
[INFO : 2025-03-26 15:18:17,839] link https://www.ozon.ru/seller/rm-plyus-6612/products/?miniapp=seller_6612
[WARNING : 2025-03-26 15:19:26,237] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 15:19:26,244] Shutting down
[INFO : 2025-03-26 15:19:26,347] Waiting for application shutdown.
[INFO : 2025-03-26 15:19:26,348] Application shutdown complete.
[INFO : 2025-03-26 15:19:26,348] Finished server process [54304]
[WARNING : 2025-03-26 15:19:29,586] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 15:19:29,829] Started server process [54368]
[INFO : 2025-03-26 15:19:29,829] Waiting for application startup.
[INFO : 2025-03-26 15:19:29,829] Application startup complete.
[WARNING : 2025-03-26 15:19:34,542] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 15:19:34,580] Shutting down
[INFO : 2025-03-26 15:19:34,683] Waiting for application shutdown.
[INFO : 2025-03-26 15:19:34,684] Application shutdown complete.
[INFO : 2025-03-26 15:19:34,684] Finished server process [54368]
[INFO : 2025-03-26 15:19:34,977] Started server process [54380]
[INFO : 2025-03-26 15:19:34,977] Waiting for application startup.
[INFO : 2025-03-26 15:19:34,977] Application startup complete.
[WARNING : 2025-03-26 15:19:37,620] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 15:19:37,707] Shutting down
[INFO : 2025-03-26 15:19:37,809] Waiting for application shutdown.
[INFO : 2025-03-26 15:19:37,810] Application shutdown complete.
[INFO : 2025-03-26 15:19:37,810] Finished server process [54380]
[WARNING : 2025-03-26 15:19:42,060] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 15:19:45,198] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 15:19:45,973] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 15:19:47,533] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 15:19:52,212] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 15:19:54,566] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 15:20:01,872] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 15:20:12,796] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 15:20:16,965] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 15:20:18,522] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 15:20:19,566] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 15:20:27,111] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 15:20:29,449] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 15:20:55,800] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 15:20:56,121] Started server process [54517]
[INFO : 2025-03-26 15:20:56,121] Waiting for application startup.
[INFO : 2025-03-26 15:20:56,121] Application startup complete.
[INFO : 2025-03-26 15:21:02,055] link https://www.ozon.ru/seller/rm-plyus-6612/products/?miniapp=seller_6612
[WARNING : 2025-03-26 15:21:42,203] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 15:21:42,206] Shutting down
[INFO : 2025-03-26 15:21:42,313] Waiting for application shutdown.
[INFO : 2025-03-26 15:21:42,314] Application shutdown complete.
[INFO : 2025-03-26 15:21:42,315] Finished server process [54517]
[WARNING : 2025-03-26 15:21:47,602] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 15:21:47,866] Started server process [54556]
[INFO : 2025-03-26 15:21:47,866] Waiting for application startup.
[INFO : 2025-03-26 15:21:47,866] Application startup complete.
[WARNING : 2025-03-26 15:21:49,678] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 15:21:49,685] Shutting down
[INFO : 2025-03-26 15:21:49,788] Waiting for application shutdown.
[INFO : 2025-03-26 15:21:49,789] Application shutdown complete.
[INFO : 2025-03-26 15:21:49,789] Finished server process [54556]
[INFO : 2025-03-26 15:21:50,086] Started server process [54565]
[INFO : 2025-03-26 15:21:50,086] Waiting for application startup.
[INFO : 2025-03-26 15:21:50,087] Application startup complete.
[WARNING : 2025-03-26 15:21:57,907] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 15:21:57,967] Shutting down
[INFO : 2025-03-26 15:21:58,069] Waiting for application shutdown.
[INFO : 2025-03-26 15:21:58,070] Application shutdown complete.
[INFO : 2025-03-26 15:21:58,071] Finished server process [54565]
[INFO : 2025-03-26 15:21:58,356] Started server process [54576]
[INFO : 2025-03-26 15:21:58,356] Waiting for application startup.
[INFO : 2025-03-26 15:21:58,356] Application startup complete.
[WARNING : 2025-03-26 15:22:02,586] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 15:22:02,599] Shutting down
[INFO : 2025-03-26 15:22:02,701] Waiting for application shutdown.
[INFO : 2025-03-26 15:22:02,702] Application shutdown complete.
[INFO : 2025-03-26 15:22:02,702] Finished server process [54576]
[INFO : 2025-03-26 15:22:02,990] Started server process [54589]
[INFO : 2025-03-26 15:22:02,990] Waiting for application startup.
[INFO : 2025-03-26 15:22:02,990] Application startup complete.
[WARNING : 2025-03-26 15:22:06,166] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 15:22:06,225] Shutting down
[INFO : 2025-03-26 15:22:06,327] Waiting for application shutdown.
[INFO : 2025-03-26 15:22:06,328] Application shutdown complete.
[INFO : 2025-03-26 15:22:06,328] Finished server process [54589]
[WARNING : 2025-03-26 15:22:07,456] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 15:22:11,355] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 15:22:14,215] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 15:22:14,470] Started server process [54618]
[INFO : 2025-03-26 15:22:14,470] Waiting for application startup.
[INFO : 2025-03-26 15:22:14,470] Application startup complete.
[WARNING : 2025-03-26 15:22:23,564] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 15:22:23,663] Shutting down
[INFO : 2025-03-26 15:22:23,765] Waiting for application shutdown.
[INFO : 2025-03-26 15:22:23,766] Application shutdown complete.
[INFO : 2025-03-26 15:22:23,766] Finished server process [54618]
[INFO : 2025-03-26 15:22:24,079] Started server process [54631]
[INFO : 2025-03-26 15:22:24,079] Waiting for application startup.
[INFO : 2025-03-26 15:22:24,079] Application startup complete.
[WARNING : 2025-03-26 15:22:28,496] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 15:22:28,527] Shutting down
[INFO : 2025-03-26 15:22:28,629] Waiting for application shutdown.
[INFO : 2025-03-26 15:22:28,630] Application shutdown complete.
[INFO : 2025-03-26 15:22:28,630] Finished server process [54631]
[INFO : 2025-03-26 15:22:28,901] Started server process [54639]
[INFO : 2025-03-26 15:22:28,901] Waiting for application startup.
[INFO : 2025-03-26 15:22:28,901] Application startup complete.
[INFO : 2025-03-26 15:22:34,280] link https://www.ozon.ru/seller/rm-plyus-6612/products/?miniapp=seller_6612
[INFO : 2025-03-26 15:22:38,598] link https://www.ozon.ru/seller/rm-plyus-6612/products/?miniapp=seller_6612
[INFO : 2025-03-26 15:22:39,269] link https://www.ozon.ru/seller/rm-plyus-6612/products/?miniapp=seller_6612
[WARNING : 2025-03-26 15:23:45,184] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 15:23:45,229] Shutting down
[INFO : 2025-03-26 15:23:45,334] Waiting for application shutdown.
[INFO : 2025-03-26 15:23:45,336] Application shutdown complete.
[INFO : 2025-03-26 15:23:45,337] Finished server process [54639]
[INFO : 2025-03-26 15:23:45,734] Started server process [54672]
[INFO : 2025-03-26 15:23:45,734] Waiting for application startup.
[INFO : 2025-03-26 15:23:45,734] Application startup complete.
[WARNING : 2025-03-26 15:23:49,352] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 15:23:49,372] Shutting down
[INFO : 2025-03-26 15:23:49,473] Waiting for application shutdown.
[INFO : 2025-03-26 15:23:49,474] Application shutdown complete.
[INFO : 2025-03-26 15:23:49,475] Finished server process [54672]
[WARNING : 2025-03-26 15:23:55,052] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 15:23:56,350] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 15:24:00,534] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 15:24:01,572] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 15:24:05,202] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 15:24:10,388] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 15:24:10,634] Started server process [54759]
[INFO : 2025-03-26 15:24:10,634] Waiting for application startup.
[INFO : 2025-03-26 15:24:10,635] Application startup complete.
[WARNING : 2025-03-26 15:24:16,361] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 15:24:16,400] Shutting down
[INFO : 2025-03-26 15:24:16,502] Waiting for application shutdown.
[INFO : 2025-03-26 15:24:16,503] Application shutdown complete.
[INFO : 2025-03-26 15:24:16,504] Finished server process [54759]
[INFO : 2025-03-26 15:24:16,829] Started server process [54787]
[INFO : 2025-03-26 15:24:16,829] Waiting for application startup.
[INFO : 2025-03-26 15:24:16,829] Application startup complete.
[WARNING : 2025-03-26 15:24:21,018] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 15:24:21,076] Shutting down
[INFO : 2025-03-26 15:24:21,177] Waiting for application shutdown.
[INFO : 2025-03-26 15:24:21,178] Application shutdown complete.
[INFO : 2025-03-26 15:24:21,179] Finished server process [54787]
[INFO : 2025-03-26 15:24:21,452] Started server process [54796]
[INFO : 2025-03-26 15:24:21,452] Waiting for application startup.
[INFO : 2025-03-26 15:24:21,452] Application startup complete.
[WARNING : 2025-03-26 15:24:22,546] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 15:24:22,565] Shutting down
[INFO : 2025-03-26 15:24:22,667] Waiting for application shutdown.
[INFO : 2025-03-26 15:24:22,667] Application shutdown complete.
[INFO : 2025-03-26 15:24:22,668] Finished server process [54796]
[INFO : 2025-03-26 15:24:22,953] Started server process [54802]
[INFO : 2025-03-26 15:24:22,953] Waiting for application startup.
[INFO : 2025-03-26 15:24:22,953] Application startup complete.
[WARNING : 2025-03-26 15:24:46,511] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 15:24:46,615] Shutting down
[INFO : 2025-03-26 15:24:46,717] Waiting for application shutdown.
[INFO : 2025-03-26 15:24:46,719] Application shutdown complete.
[INFO : 2025-03-26 15:24:46,719] Finished server process [54802]
[WARNING : 2025-03-26 15:24:50,169] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 15:24:50,421] Started server process [54825]
[INFO : 2025-03-26 15:24:50,422] Waiting for application startup.
[INFO : 2025-03-26 15:24:50,422] Application startup complete.
[WARNING : 2025-03-26 15:25:06,068] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 15:25:06,089] Shutting down
[INFO : 2025-03-26 15:25:06,190] Waiting for application shutdown.
[INFO : 2025-03-26 15:25:06,191] Application shutdown complete.
[INFO : 2025-03-26 15:25:06,191] Finished server process [54825]
[INFO : 2025-03-26 15:25:06,551] Started server process [54839]
[INFO : 2025-03-26 15:25:06,551] Waiting for application startup.
[INFO : 2025-03-26 15:25:06,551] Application startup complete.
[WARNING : 2025-03-26 15:25:26,556] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 15:25:26,560] Shutting down
[INFO : 2025-03-26 15:25:26,662] Waiting for application shutdown.
[INFO : 2025-03-26 15:25:26,663] Application shutdown complete.
[INFO : 2025-03-26 15:25:26,664] Finished server process [54839]
[WARNING : 2025-03-26 15:25:30,406] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 15:25:33,010] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 15:25:39,247] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 15:25:39,515] Started server process [54888]
[INFO : 2025-03-26 15:25:39,516] Waiting for application startup.
[INFO : 2025-03-26 15:25:39,516] Application startup complete.
[WARNING : 2025-03-26 15:25:40,293] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 15:25:40,325] Shutting down
[INFO : 2025-03-26 15:25:40,427] Waiting for application shutdown.
[INFO : 2025-03-26 15:25:40,428] Application shutdown complete.
[INFO : 2025-03-26 15:25:40,428] Finished server process [54888]
[INFO : 2025-03-26 15:25:40,691] Started server process [54893]
[INFO : 2025-03-26 15:25:40,691] Waiting for application startup.
[INFO : 2025-03-26 15:25:40,691] Application startup complete.
[WARNING : 2025-03-26 15:25:51,118] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 15:25:51,201] Shutting down
[INFO : 2025-03-26 15:25:51,304] Waiting for application shutdown.
[INFO : 2025-03-26 15:25:51,306] Application shutdown complete.
[INFO : 2025-03-26 15:25:51,306] Finished server process [54893]
[WARNING : 2025-03-26 15:25:54,010] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 15:25:58,179] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 15:26:03,092] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 15:26:03,370] Started server process [54933]
[INFO : 2025-03-26 15:26:03,370] Waiting for application startup.
[INFO : 2025-03-26 15:26:03,370] Application startup complete.
[WARNING : 2025-03-26 15:26:08,028] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 15:26:08,123] Shutting down
[INFO : 2025-03-26 15:26:08,224] Waiting for application shutdown.
[INFO : 2025-03-26 15:26:08,225] Application shutdown complete.
[INFO : 2025-03-26 15:26:08,225] Finished server process [54933]
[INFO : 2025-03-26 15:26:08,522] Started server process [54941]
[INFO : 2025-03-26 15:26:08,522] Waiting for application startup.
[INFO : 2025-03-26 15:26:08,522] Application startup complete.
[WARNING : 2025-03-26 19:21:12,483] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 19:21:12,556] Shutting down
[INFO : 2025-03-26 19:21:12,670] Waiting for application shutdown.
[INFO : 2025-03-26 19:21:12,678] Application shutdown complete.
[INFO : 2025-03-26 19:21:12,679] Finished server process [54941]
[INFO : 2025-03-26 19:21:13,176] Started server process [57402]
[INFO : 2025-03-26 19:21:13,177] Waiting for application startup.
[INFO : 2025-03-26 19:21:13,177] Application startup complete.
[WARNING : 2025-03-26 19:21:29,037] StatReload detected changes in 'schemas/request_schemas/links.py'. Reloading...
[INFO : 2025-03-26 19:21:29,039] Shutting down
[INFO : 2025-03-26 19:21:29,141] Waiting for application shutdown.
[INFO : 2025-03-26 19:21:29,142] Application shutdown complete.
[INFO : 2025-03-26 19:21:29,142] Finished server process [57402]
[INFO : 2025-03-26 19:21:29,556] Started server process [57417]
[INFO : 2025-03-26 19:21:29,556] Waiting for application startup.
[INFO : 2025-03-26 19:21:29,556] Application startup complete.
[WARNING : 2025-03-26 19:22:44,958] StatReload detected changes in 'schemas/request_schemas/links.py'. Reloading...
[INFO : 2025-03-26 19:22:45,059] Shutting down
[INFO : 2025-03-26 19:22:45,165] Waiting for application shutdown.
[INFO : 2025-03-26 19:22:45,166] Application shutdown complete.
[INFO : 2025-03-26 19:22:45,167] Finished server process [57417]
[INFO : 2025-03-26 19:22:45,548] Started server process [57476]
[INFO : 2025-03-26 19:22:45,549] Waiting for application startup.
[INFO : 2025-03-26 19:22:45,549] Application startup complete.
[WARNING : 2025-03-26 19:23:04,836] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 19:23:04,846] Shutting down
[INFO : 2025-03-26 19:23:04,949] Waiting for application shutdown.
[INFO : 2025-03-26 19:23:04,950] Application shutdown complete.
[INFO : 2025-03-26 19:23:04,950] Finished server process [57476]
[WARNING : 2025-03-26 19:23:06,836] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 19:23:07,083] Started server process [57500]
[INFO : 2025-03-26 19:23:07,083] Waiting for application startup.
[INFO : 2025-03-26 19:23:07,083] Application startup complete.
[WARNING : 2025-03-26 19:24:03,247] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 19:24:03,298] Shutting down
[INFO : 2025-03-26 19:24:03,401] Waiting for application shutdown.
[INFO : 2025-03-26 19:24:03,403] Application shutdown complete.
[INFO : 2025-03-26 19:24:03,403] Finished server process [57500]
[WARNING : 2025-03-26 19:24:09,771] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 19:24:10,138] Started server process [58336]
[INFO : 2025-03-26 19:24:10,138] Waiting for application startup.
[INFO : 2025-03-26 19:24:10,138] Application startup complete.
[WARNING : 2025-03-26 19:24:13,169] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 19:24:13,172] Shutting down
[INFO : 2025-03-26 19:24:13,274] Waiting for application shutdown.
[INFO : 2025-03-26 19:24:13,275] Application shutdown complete.
[INFO : 2025-03-26 19:24:13,275] Finished server process [58336]
[WARNING : 2025-03-26 19:24:14,384] StatReload detected changes in 'main.py'. Reloading...
[WARNING : 2025-03-26 19:24:34,075] StatReload detected changes in 'main.py'. Reloading...
[WARNING : 2025-03-26 19:24:40,127] StatReload detected changes in 'main.py'. Reloading...
[WARNING : 2025-03-26 19:24:49,792] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 22:08:58,648] Will watch for changes in these directories: ['/Users/pavelsariia/Desktop/hw_short_link']
[ERROR : 2025-03-26 22:08:58,648] [Errno 48] Address already in use
[INFO : 2025-03-26 22:09:07,580] Stopping reloader process [54302]
[INFO : 2025-03-26 22:09:31,307] Will watch for changes in these directories: ['/Users/pavelsariia/Desktop/hw_short_link']
[INFO : 2025-03-26 22:09:31,308] Uvicorn running on http://0.0.0.0:8007 (Press CTRL+C to quit)
[INFO : 2025-03-26 22:09:31,308] Started reloader process [60680] using StatReload
[INFO : 2025-03-26 22:09:31,532] Started server process [60682]
[INFO : 2025-03-26 22:09:31,532] Waiting for application startup.
[INFO : 2025-03-26 22:09:31,534] Application startup complete.
[WARNING : 2025-03-26 22:09:58,653] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 22:09:58,744] Shutting down
[INFO : 2025-03-26 22:09:58,849] Waiting for application shutdown.
[INFO : 2025-03-26 22:09:58,850] Application shutdown complete.
[INFO : 2025-03-26 22:09:58,851] Finished server process [60682]
[WARNING : 2025-03-26 22:51:02,446] StatReload detected changes in 'main.py'. Reloading...
[WARNING : 2025-03-26 22:51:27,387] StatReload detected changes in 'main.py'. Reloading...
[WARNING : 2025-03-26 22:51:36,331] StatReload detected changes in 'main.py'. Reloading...
[WARNING : 2025-03-26 22:58:10,466] StatReload detected changes in 'schemas/request_schemas/card_request.py'. Reloading...
[WARNING : 2025-03-26 22:58:33,802] StatReload detected changes in 'main.py'. Reloading...
[WARNING : 2025-03-26 22:59:14,744] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 22:59:15,144] Started server process [61313]
[INFO : 2025-03-26 22:59:15,145] Waiting for application startup.
[INFO : 2025-03-26 22:59:15,147] Application startup complete.
[WARNING : 2025-03-26 22:59:19,968] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 22:59:20,003] Shutting down
[INFO : 2025-03-26 22:59:20,106] Waiting for application shutdown.
[INFO : 2025-03-26 22:59:20,107] Application shutdown complete.
[INFO : 2025-03-26 22:59:20,107] Finished server process [61313]
[INFO : 2025-03-26 22:59:20,489] Started server process [61333]
[INFO : 2025-03-26 22:59:20,489] Waiting for application startup.
[INFO : 2025-03-26 22:59:20,491] Application startup complete.
[WARNING : 2025-03-26 22:59:22,005] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 22:59:22,009] Shutting down
[INFO : 2025-03-26 22:59:22,111] Waiting for application shutdown.
[INFO : 2025-03-26 22:59:22,111] Application shutdown complete.
[INFO : 2025-03-26 22:59:22,112] Finished server process [61333]
[INFO : 2025-03-26 22:59:22,399] Started server process [61340]
[INFO : 2025-03-26 22:59:22,399] Waiting for application startup.
[INFO : 2025-03-26 22:59:22,401] Application startup complete.
[WARNING : 2025-03-26 22:59:27,168] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 22:59:27,253] Shutting down
[INFO : 2025-03-26 22:59:27,355] Waiting for application shutdown.
[INFO : 2025-03-26 22:59:27,356] Application shutdown complete.
[INFO : 2025-03-26 22:59:27,356] Finished server process [61340]
[INFO : 2025-03-26 22:59:27,656] Started server process [61351]
[INFO : 2025-03-26 22:59:27,656] Waiting for application startup.
[INFO : 2025-03-26 22:59:27,658] Application startup complete.
[WARNING : 2025-03-26 22:59:34,250] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 22:59:34,329] Shutting down
[INFO : 2025-03-26 22:59:34,430] Waiting for application shutdown.
[INFO : 2025-03-26 22:59:34,431] Application shutdown complete.
[INFO : 2025-03-26 22:59:34,431] Finished server process [61351]
[INFO : 2025-03-26 22:59:34,734] Started server process [61363]
[INFO : 2025-03-26 22:59:34,734] Waiting for application startup.
[INFO : 2025-03-26 22:59:34,736] Application startup complete.
[WARNING : 2025-03-26 22:59:37,387] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 22:59:37,468] Shutting down
[INFO : 2025-03-26 22:59:37,570] Waiting for application shutdown.
[INFO : 2025-03-26 22:59:37,571] Application shutdown complete.
[INFO : 2025-03-26 22:59:37,571] Finished server process [61363]
[INFO : 2025-03-26 22:59:37,852] Started server process [61371]
[INFO : 2025-03-26 22:59:37,853] Waiting for application startup.
[INFO : 2025-03-26 22:59:37,854] Application startup complete.
[WARNING : 2025-03-26 22:59:41,843] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 22:59:41,898] Shutting down
[INFO : 2025-03-26 22:59:42,001] Waiting for application shutdown.
[INFO : 2025-03-26 22:59:42,002] Application shutdown complete.
[INFO : 2025-03-26 22:59:42,002] Finished server process [61371]
[INFO : 2025-03-26 22:59:42,398] Started server process [61379]
[INFO : 2025-03-26 22:59:42,398] Waiting for application startup.
[INFO : 2025-03-26 22:59:42,400] Application startup complete.
[WARNING : 2025-03-26 23:00:45,000] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:00:45,009] Shutting down
[INFO : 2025-03-26 23:00:45,113] Waiting for application shutdown.
[INFO : 2025-03-26 23:00:45,114] Application shutdown complete.
[INFO : 2025-03-26 23:00:45,114] Finished server process [61379]
[WARNING : 2025-03-26 23:00:48,881] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:00:49,220] Started server process [61418]
[INFO : 2025-03-26 23:00:49,220] Waiting for application startup.
[INFO : 2025-03-26 23:00:49,222] Application startup complete.
[WARNING : 2025-03-26 23:00:57,000] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:00:57,010] Shutting down
[INFO : 2025-03-26 23:00:57,112] Waiting for application shutdown.
[INFO : 2025-03-26 23:00:57,112] Application shutdown complete.
[INFO : 2025-03-26 23:00:57,113] Finished server process [61418]
[WARNING : 2025-03-26 23:00:58,490] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:00:58,832] Started server process [61435]
[INFO : 2025-03-26 23:00:58,832] Waiting for application startup.
[INFO : 2025-03-26 23:00:58,834] Application startup complete.
[WARNING : 2025-03-26 23:00:59,805] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:00:59,846] Shutting down
[INFO : 2025-03-26 23:00:59,948] Waiting for application shutdown.
[INFO : 2025-03-26 23:00:59,949] Application shutdown complete.
[INFO : 2025-03-26 23:00:59,950] Finished server process [61435]
[INFO : 2025-03-26 23:01:00,239] Started server process [61439]
[INFO : 2025-03-26 23:01:00,239] Waiting for application startup.
[INFO : 2025-03-26 23:01:00,240] Application startup complete.
[WARNING : 2025-03-26 23:01:05,529] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:01:05,598] Shutting down
[INFO : 2025-03-26 23:01:05,701] Waiting for application shutdown.
[INFO : 2025-03-26 23:01:05,703] Application shutdown complete.
[INFO : 2025-03-26 23:01:05,703] Finished server process [61439]
[WARNING : 2025-03-26 23:01:07,347] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:01:07,617] Started server process [61456]
[INFO : 2025-03-26 23:01:07,617] Waiting for application startup.
[INFO : 2025-03-26 23:01:07,619] Application startup complete.
[WARNING : 2025-03-26 23:01:13,099] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:01:13,176] Shutting down
[INFO : 2025-03-26 23:01:13,279] Waiting for application shutdown.
[INFO : 2025-03-26 23:01:13,281] Application shutdown complete.
[INFO : 2025-03-26 23:01:13,281] Finished server process [61456]
[WARNING : 2025-03-26 23:01:24,594] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:01:24,960] Started server process [61481]
[INFO : 2025-03-26 23:01:24,960] Waiting for application startup.
[INFO : 2025-03-26 23:01:24,962] Application startup complete.
[WARNING : 2025-03-26 23:01:25,647] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:01:25,671] Shutting down
[INFO : 2025-03-26 23:01:25,773] Waiting for application shutdown.
[INFO : 2025-03-26 23:01:25,774] Application shutdown complete.
[INFO : 2025-03-26 23:01:25,775] Finished server process [61481]
[INFO : 2025-03-26 23:01:26,057] Started server process [61484]
[INFO : 2025-03-26 23:01:26,057] Waiting for application startup.
[INFO : 2025-03-26 23:01:26,059] Application startup complete.
[WARNING : 2025-03-26 23:01:28,204] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:01:28,284] Shutting down
[INFO : 2025-03-26 23:01:28,387] Waiting for application shutdown.
[INFO : 2025-03-26 23:01:28,387] Application shutdown complete.
[INFO : 2025-03-26 23:01:28,387] Finished server process [61484]
[WARNING : 2025-03-26 23:01:29,238] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:01:29,498] Started server process [61497]
[INFO : 2025-03-26 23:01:29,498] Waiting for application startup.
[INFO : 2025-03-26 23:01:29,499] Application startup complete.
[WARNING : 2025-03-26 23:01:36,833] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:01:36,875] Shutting down
[INFO : 2025-03-26 23:01:36,976] Waiting for application shutdown.
[INFO : 2025-03-26 23:01:36,978] Application shutdown complete.
[INFO : 2025-03-26 23:01:36,978] Finished server process [61497]
[INFO : 2025-03-26 23:01:37,292] Started server process [61507]
[INFO : 2025-03-26 23:01:37,292] Waiting for application startup.
[INFO : 2025-03-26 23:01:37,294] Application startup complete.
[WARNING : 2025-03-26 23:01:45,455] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:01:45,481] Shutting down
[INFO : 2025-03-26 23:01:45,584] Waiting for application shutdown.
[INFO : 2025-03-26 23:01:45,586] Application shutdown complete.
[INFO : 2025-03-26 23:01:45,586] Finished server process [61507]
[WARNING : 2025-03-26 23:01:50,643] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:01:51,001] Started server process [61524]
[INFO : 2025-03-26 23:01:51,001] Waiting for application startup.
[INFO : 2025-03-26 23:01:51,003] Application startup complete.
[WARNING : 2025-03-26 23:01:52,731] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:01:52,822] Shutting down
[INFO : 2025-03-26 23:01:52,924] Waiting for application shutdown.
[INFO : 2025-03-26 23:01:52,925] Application shutdown complete.
[INFO : 2025-03-26 23:01:52,925] Finished server process [61524]
[WARNING : 2025-03-26 23:01:57,695] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:01:58,028] Started server process [61541]
[INFO : 2025-03-26 23:01:58,028] Waiting for application startup.
[INFO : 2025-03-26 23:01:58,030] Application startup complete.
[WARNING : 2025-03-26 23:02:00,568] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:02:00,657] Shutting down
[INFO : 2025-03-26 23:02:00,759] Waiting for application shutdown.
[INFO : 2025-03-26 23:02:00,760] Application shutdown complete.
[INFO : 2025-03-26 23:02:00,761] Finished server process [61541]
[INFO : 2025-03-26 23:02:01,057] Started server process [61546]
[INFO : 2025-03-26 23:02:01,057] Waiting for application startup.
[INFO : 2025-03-26 23:02:01,058] Application startup complete.
[WARNING : 2025-03-26 23:02:05,542] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:02:05,609] Shutting down
[INFO : 2025-03-26 23:02:05,713] Waiting for application shutdown.
[INFO : 2025-03-26 23:02:05,714] Application shutdown complete.
[INFO : 2025-03-26 23:02:05,715] Finished server process [61546]
[WARNING : 2025-03-26 23:02:08,703] StatReload detected changes in 'main.py'. Reloading...
[WARNING : 2025-03-26 23:02:17,617] StatReload detected changes in 'main.py'. Reloading...
[WARNING : 2025-03-26 23:02:24,689] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:02:25,036] Started server process [61587]
[INFO : 2025-03-26 23:02:25,036] Waiting for application startup.
[INFO : 2025-03-26 23:02:25,038] Application startup complete.
[INFO : 2025-03-26 23:02:34,090] Will watch for changes in these directories: ['/Users/pavelsariia/Desktop/hw_short_link']
[ERROR : 2025-03-26 23:02:34,091] [Errno 48] Address already in use
[WARNING : 2025-03-26 23:03:02,781] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:03:02,853] Shutting down
[INFO : 2025-03-26 23:03:02,957] Waiting for application shutdown.
[INFO : 2025-03-26 23:03:02,959] Application shutdown complete.
[INFO : 2025-03-26 23:03:02,960] Finished server process [61587]
[INFO : 2025-03-26 23:03:03,337] Started server process [61646]
[INFO : 2025-03-26 23:03:03,337] Waiting for application startup.
[INFO : 2025-03-26 23:03:03,340] Application startup complete.
[WARNING : 2025-03-26 23:03:06,964] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:03:06,977] Shutting down
[INFO : 2025-03-26 23:03:07,080] Waiting for application shutdown.
[INFO : 2025-03-26 23:03:07,080] Application shutdown complete.
[INFO : 2025-03-26 23:03:07,081] Finished server process [61646]
[INFO : 2025-03-26 23:03:07,377] Started server process [61654]
[INFO : 2025-03-26 23:03:07,377] Waiting for application startup.
[INFO : 2025-03-26 23:03:07,379] Application startup complete.
[WARNING : 2025-03-26 23:03:09,241] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:03:09,301] Shutting down
[INFO : 2025-03-26 23:03:09,402] Waiting for application shutdown.
[INFO : 2025-03-26 23:03:09,403] Application shutdown complete.
[INFO : 2025-03-26 23:03:09,403] Finished server process [61654]
[WARNING : 2025-03-26 23:03:11,060] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:03:11,320] Started server process [61667]
[INFO : 2025-03-26 23:03:11,320] Waiting for application startup.
[INFO : 2025-03-26 23:03:11,321] Application startup complete.
[INFO : 2025-03-26 23:03:15,467] Shutting down
[INFO : 2025-03-26 23:03:15,569] Waiting for application shutdown.
[INFO : 2025-03-26 23:03:15,571] Application shutdown complete.
[INFO : 2025-03-26 23:03:15,571] Finished server process [61667]
[INFO : 2025-03-26 23:03:15,659] Stopping reloader process [60680]
[INFO : 2025-03-26 23:03:19,101] Will watch for changes in these directories: ['/Users/pavelsariia/Desktop/hw_short_link']
[INFO : 2025-03-26 23:03:19,101] Uvicorn running on http://0.0.0.0:8007 (Press CTRL+C to quit)
[INFO : 2025-03-26 23:03:19,101] Started reloader process [61686] using StatReload
[INFO : 2025-03-26 23:03:19,329] Started server process [61694]
[INFO : 2025-03-26 23:03:19,329] Waiting for application startup.
[INFO : 2025-03-26 23:03:19,331] Application startup complete.
[INFO : 2025-03-26 23:03:24,386] Shutting down
[INFO : 2025-03-26 23:03:24,490] Waiting for application shutdown.
[INFO : 2025-03-26 23:03:24,491] Application shutdown complete.
[INFO : 2025-03-26 23:03:24,492] Finished server process [61694]
[INFO : 2025-03-26 23:03:24,548] Stopping reloader process [61686]
[INFO : 2025-03-26 23:04:05,604] Will watch for changes in these directories: ['/Users/pavelsariia/Desktop/hw_short_link']
[INFO : 2025-03-26 23:04:05,604] Uvicorn running on http://0.0.0.0:8007 (Press CTRL+C to quit)
[INFO : 2025-03-26 23:04:05,604] Started reloader process [61758] using StatReload
[INFO : 2025-03-26 23:04:05,827] Started server process [61762]
[INFO : 2025-03-26 23:04:05,827] Waiting for application startup.
[INFO : 2025-03-26 23:04:05,829] Application startup complete.
[INFO : 2025-03-26 23:04:07,346] Shutting down
[INFO : 2025-03-26 23:04:07,448] Waiting for application shutdown.
[INFO : 2025-03-26 23:04:07,449] Application shutdown complete.
[INFO : 2025-03-26 23:04:07,450] Finished server process [61762]
[INFO : 2025-03-26 23:04:07,516] Stopping reloader process [61758]
[INFO : 2025-03-26 23:04:26,393] Will watch for changes in these directories: ['/Users/pavelsariia/Desktop/hw_short_link']
[INFO : 2025-03-26 23:04:26,393] Uvicorn running on http://0.0.0.0:8007 (Press CTRL+C to quit)
[INFO : 2025-03-26 23:04:26,393] Started reloader process [61790] using StatReload
[INFO : 2025-03-26 23:04:26,625] Started server process [61797]
[INFO : 2025-03-26 23:04:26,625] Waiting for application startup.
[INFO : 2025-03-26 23:04:26,627] Application startup complete.
[INFO : 2025-03-26 23:04:29,259] Shutting down
[INFO : 2025-03-26 23:04:29,361] Waiting for application shutdown.
[INFO : 2025-03-26 23:04:29,362] Application shutdown complete.
[INFO : 2025-03-26 23:04:29,363] Finished server process [61797]
[INFO : 2025-03-26 23:04:29,413] Stopping reloader process [61790]
[INFO : 2025-03-26 23:04:45,486] Will watch for changes in these directories: ['/Users/pavelsariia/Desktop/hw_short_link']
[INFO : 2025-03-26 23:04:45,486] Uvicorn running on http://0.0.0.0:8007 (Press CTRL+C to quit)
[INFO : 2025-03-26 23:04:45,486] Started reloader process [61832] using StatReload
[INFO : 2025-03-26 23:04:45,741] Started server process [61839]
[INFO : 2025-03-26 23:04:45,741] Waiting for application startup.
[INFO : 2025-03-26 23:04:45,744] Application startup complete.
[INFO : 2025-03-26 23:04:49,992] Shutting down
[INFO : 2025-03-26 23:04:50,093] Waiting for application shutdown.
[INFO : 2025-03-26 23:04:50,094] Application shutdown complete.
[INFO : 2025-03-26 23:04:50,094] Finished server process [61839]
[INFO : 2025-03-26 23:04:50,135] Stopping reloader process [61832]
[INFO : 2025-03-26 23:05:02,667] Will watch for changes in these directories: ['/Users/pavelsariia/Desktop/hw_short_link']
[INFO : 2025-03-26 23:05:02,667] Uvicorn running on http://0.0.0.0:8007 (Press CTRL+C to quit)
[INFO : 2025-03-26 23:05:02,667] Started reloader process [61876] using StatReload
[INFO : 2025-03-26 23:05:02,885] Started server process [61880]
[INFO : 2025-03-26 23:05:02,885] Waiting for application startup.
[INFO : 2025-03-26 23:05:02,887] Application startup complete.
[INFO : 2025-03-26 23:05:04,406] Shutting down
[INFO : 2025-03-26 23:05:04,508] Waiting for application shutdown.
[INFO : 2025-03-26 23:05:04,509] Application shutdown complete.
[INFO : 2025-03-26 23:05:04,509] Finished server process [61880]
[INFO : 2025-03-26 23:05:04,563] Stopping reloader process [61876]
[INFO : 2025-03-26 23:05:11,492] Will watch for changes in these directories: ['/Users/pavelsariia/Desktop/hw_short_link']
[INFO : 2025-03-26 23:05:11,492] Uvicorn running on http://0.0.0.0:8007 (Press CTRL+C to quit)
[INFO : 2025-03-26 23:05:11,492] Started reloader process [61910] using StatReload
[INFO : 2025-03-26 23:05:11,717] Started server process [61920]
[INFO : 2025-03-26 23:05:11,718] Waiting for application startup.
[INFO : 2025-03-26 23:05:11,719] Application startup complete.
[INFO : 2025-03-26 23:05:14,149] Shutting down
[INFO : 2025-03-26 23:05:14,251] Waiting for application shutdown.
[INFO : 2025-03-26 23:05:14,252] Application shutdown complete.
[INFO : 2025-03-26 23:05:14,253] Finished server process [61920]
[INFO : 2025-03-26 23:05:14,314] Stopping reloader process [61910]
[INFO : 2025-03-26 23:05:26,469] Will watch for changes in these directories: ['/Users/pavelsariia/Desktop/hw_short_link']
[INFO : 2025-03-26 23:05:26,470] Uvicorn running on http://0.0.0.0:8007 (Press CTRL+C to quit)
[INFO : 2025-03-26 23:05:26,470] Started reloader process [61950] using StatReload
[INFO : 2025-03-26 23:05:26,702] Started server process [61954]
[INFO : 2025-03-26 23:05:26,703] Waiting for application startup.
[INFO : 2025-03-26 23:05:26,705] Application startup complete.
[INFO : 2025-03-26 23:05:27,716] Shutting down
[INFO : 2025-03-26 23:05:27,817] Waiting for application shutdown.
[INFO : 2025-03-26 23:05:27,818] Application shutdown complete.
[INFO : 2025-03-26 23:05:27,818] Finished server process [61954]
[INFO : 2025-03-26 23:05:27,875] Stopping reloader process [61950]
[INFO : 2025-03-26 23:05:37,387] Will watch for changes in these directories: ['/Users/pavelsariia/Desktop/hw_short_link']
[INFO : 2025-03-26 23:05:37,387] Uvicorn running on http://0.0.0.0:8007 (Press CTRL+C to quit)
[INFO : 2025-03-26 23:05:37,387] Started reloader process [61976] using StatReload
[INFO : 2025-03-26 23:05:37,628] Started server process [61982]
[INFO : 2025-03-26 23:05:37,628] Waiting for application startup.
[INFO : 2025-03-26 23:05:37,630] Application startup complete.
[WARNING : 2025-03-26 23:05:42,303] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:05:42,383] Shutting down
[INFO : 2025-03-26 23:05:42,485] Waiting for application shutdown.
[INFO : 2025-03-26 23:05:42,485] Application shutdown complete.
[INFO : 2025-03-26 23:05:42,485] Finished server process [61982]
[INFO : 2025-03-26 23:05:42,768] Started server process [61994]
[INFO : 2025-03-26 23:05:42,768] Waiting for application startup.
[INFO : 2025-03-26 23:05:42,769] Application startup complete.
[WARNING : 2025-03-26 23:05:43,564] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:05:43,579] Shutting down
[INFO : 2025-03-26 23:05:43,680] Waiting for application shutdown.
[INFO : 2025-03-26 23:05:43,681] Application shutdown complete.
[INFO : 2025-03-26 23:05:43,681] Finished server process [61994]
[INFO : 2025-03-26 23:05:43,952] Started server process [61998]
[INFO : 2025-03-26 23:05:43,952] Waiting for application startup.
[INFO : 2025-03-26 23:05:43,953] Application startup complete.
[WARNING : 2025-03-26 23:05:45,032] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:05:45,066] Shutting down
[INFO : 2025-03-26 23:05:45,168] Waiting for application shutdown.
[INFO : 2025-03-26 23:05:45,169] Application shutdown complete.
[INFO : 2025-03-26 23:05:45,169] Finished server process [61998]
[INFO : 2025-03-26 23:05:45,437] Started server process [62007]
[INFO : 2025-03-26 23:05:45,437] Waiting for application startup.
[INFO : 2025-03-26 23:05:45,439] Application startup complete.
[WARNING : 2025-03-26 23:05:50,673] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:05:50,700] Shutting down
[INFO : 2025-03-26 23:05:50,801] Waiting for application shutdown.
[INFO : 2025-03-26 23:05:50,802] Application shutdown complete.
[INFO : 2025-03-26 23:05:50,802] Finished server process [62007]
[INFO : 2025-03-26 23:05:51,081] Started server process [62027]
[INFO : 2025-03-26 23:05:51,081] Waiting for application startup.
[INFO : 2025-03-26 23:05:51,082] Application startup complete.
[WARNING : 2025-03-26 23:05:51,375] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:05:51,386] Shutting down
[INFO : 2025-03-26 23:05:51,487] Waiting for application shutdown.
[INFO : 2025-03-26 23:05:51,488] Application shutdown complete.
[INFO : 2025-03-26 23:05:51,488] Finished server process [62027]
[INFO : 2025-03-26 23:05:51,753] Started server process [62037]
[INFO : 2025-03-26 23:05:51,753] Waiting for application startup.
[INFO : 2025-03-26 23:05:51,754] Application startup complete.
[WARNING : 2025-03-26 23:06:35,456] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 23:06:35,556] Shutting down
[INFO : 2025-03-26 23:06:35,659] Waiting for application shutdown.
[INFO : 2025-03-26 23:06:35,660] Application shutdown complete.
[INFO : 2025-03-26 23:06:35,660] Finished server process [62037]
[INFO : 2025-03-26 23:06:36,036] Started server process [62068]
[INFO : 2025-03-26 23:06:36,036] Waiting for application startup.
[INFO : 2025-03-26 23:06:36,038] Application startup complete.
[WARNING : 2025-03-26 23:07:17,209] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:07:17,305] Shutting down
[INFO : 2025-03-26 23:07:17,408] Waiting for application shutdown.
[INFO : 2025-03-26 23:07:17,409] Application shutdown complete.
[INFO : 2025-03-26 23:07:17,409] Finished server process [62068]
[INFO : 2025-03-26 23:07:17,800] Started server process [62097]
[INFO : 2025-03-26 23:07:17,800] Waiting for application startup.
[INFO : 2025-03-26 23:07:17,802] Application startup complete.
[WARNING : 2025-03-26 23:07:19,550] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:07:19,622] Shutting down
[INFO : 2025-03-26 23:07:19,724] Waiting for application shutdown.
[INFO : 2025-03-26 23:07:19,725] Application shutdown complete.
[INFO : 2025-03-26 23:07:19,725] Finished server process [62097]
[WARNING : 2025-03-26 23:07:21,068] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:07:21,313] Started server process [62116]
[INFO : 2025-03-26 23:07:21,313] Waiting for application startup.
[INFO : 2025-03-26 23:07:21,315] Application startup complete.
[WARNING : 2025-03-26 23:07:35,803] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:07:35,876] Shutting down
[INFO : 2025-03-26 23:07:35,978] Waiting for application shutdown.
[INFO : 2025-03-26 23:07:35,980] Application shutdown complete.
[INFO : 2025-03-26 23:07:35,980] Finished server process [62116]
[WARNING : 2025-03-26 23:07:37,097] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:07:37,405] Started server process [62152]
[INFO : 2025-03-26 23:07:37,405] Waiting for application startup.
[INFO : 2025-03-26 23:07:37,407] Application startup complete.
[WARNING : 2025-03-26 23:07:41,738] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:07:41,754] Shutting down
[INFO : 2025-03-26 23:07:41,855] Waiting for application shutdown.
[INFO : 2025-03-26 23:07:41,855] Application shutdown complete.
[INFO : 2025-03-26 23:07:41,855] Finished server process [62152]
[INFO : 2025-03-26 23:07:42,140] Started server process [62169]
[INFO : 2025-03-26 23:07:42,140] Waiting for application startup.
[INFO : 2025-03-26 23:07:42,141] Application startup complete.
[WARNING : 2025-03-26 23:07:45,251] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:07:45,275] Shutting down
[INFO : 2025-03-26 23:07:45,376] Waiting for application shutdown.
[INFO : 2025-03-26 23:07:45,376] Application shutdown complete.
[INFO : 2025-03-26 23:07:45,376] Finished server process [62169]
[INFO : 2025-03-26 23:07:45,679] Started server process [62180]
[INFO : 2025-03-26 23:07:45,679] Waiting for application startup.
[INFO : 2025-03-26 23:07:45,681] Application startup complete.
[WARNING : 2025-03-26 23:07:47,239] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:07:47,299] Shutting down
[INFO : 2025-03-26 23:07:47,401] Waiting for application shutdown.
[INFO : 2025-03-26 23:07:47,401] Application shutdown complete.
[INFO : 2025-03-26 23:07:47,401] Finished server process [62180]
[INFO : 2025-03-26 23:07:47,671] Started server process [62191]
[INFO : 2025-03-26 23:07:47,671] Waiting for application startup.
[INFO : 2025-03-26 23:07:47,673] Application startup complete.
[WARNING : 2025-03-26 23:07:51,594] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:07:51,618] Shutting down
[INFO : 2025-03-26 23:07:51,720] Waiting for application shutdown.
[INFO : 2025-03-26 23:07:51,721] Application shutdown complete.
[INFO : 2025-03-26 23:07:51,721] Finished server process [62191]
[INFO : 2025-03-26 23:07:52,016] Started server process [62198]
[INFO : 2025-03-26 23:07:52,016] Waiting for application startup.
[INFO : 2025-03-26 23:07:52,017] Application startup complete.
[WARNING : 2025-03-26 23:08:08,642] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:08:08,702] Shutting down
[INFO : 2025-03-26 23:08:08,805] Waiting for application shutdown.
[INFO : 2025-03-26 23:08:08,806] Application shutdown complete.
[INFO : 2025-03-26 23:08:08,806] Finished server process [62198]
[WARNING : 2025-03-26 23:08:10,410] StatReload detected changes in 'main.py'. Reloading...
[WARNING : 2025-03-26 23:08:16,870] StatReload detected changes in 'main.py'. Reloading...
[WARNING : 2025-03-26 23:08:22,296] StatReload detected changes in 'main.py'. Reloading...
[WARNING : 2025-03-26 23:08:28,501] StatReload detected changes in 'schemas/request_schemas/links.py'. Reloading...
[WARNING : 2025-03-26 23:08:33,153] StatReload detected changes in 'schemas/request_schemas/links.py'. Reloading...
[WARNING : 2025-03-26 23:08:34,953] StatReload detected changes in 'schemas/request_schemas/links.py'. Reloading...
[WARNING : 2025-03-26 23:08:37,274] StatReload detected changes in 'schemas/request_schemas/links.py'. Reloading...
[WARNING : 2025-03-26 23:08:40,105] StatReload detected changes in 'schemas/request_schemas/links.py'. Reloading...
[WARNING : 2025-03-26 23:08:43,715] StatReload detected changes in 'schemas/request_schemas/links.py'. Reloading...
[WARNING : 2025-03-26 23:08:45,774] StatReload detected changes in 'schemas/request_schemas/links.py'. Reloading...
[WARNING : 2025-03-26 23:08:48,086] StatReload detected changes in 'schemas/request_schemas/links.py'. Reloading...
[WARNING : 2025-03-26 23:08:54,287] StatReload detected changes in 'schemas/request_schemas/links.py'. Reloading...
[WARNING : 2025-03-26 23:08:58,662] StatReload detected changes in 'schemas/request_schemas/links.py'. Reloading...
[WARNING : 2025-03-26 23:08:59,939] StatReload detected changes in 'schemas/request_schemas/links.py'. Reloading...
[WARNING : 2025-03-26 23:09:02,766] StatReload detected changes in 'schemas/request_schemas/links.py'. Reloading...
[WARNING : 2025-03-26 23:09:09,229] StatReload detected changes in 'schemas/request_schemas/links.py'. Reloading...
[WARNING : 2025-03-26 23:09:11,026] StatReload detected changes in 'schemas/request_schemas/links.py'. Reloading...
[WARNING : 2025-03-26 23:09:17,734] StatReload detected changes in 'main.py'. Reloading...
[WARNING : 2025-03-26 23:09:23,932] StatReload detected changes in 'main.py'. Reloading...
[WARNING : 2025-03-26 23:09:36,331] StatReload detected changes in 'main.py'. Reloading...
[WARNING : 2025-03-26 23:09:40,703] StatReload detected changes in 'main.py'. Reloading...
[WARNING : 2025-03-26 23:09:48,462] StatReload detected changes in 'main.py'. Reloading...
[WARNING : 2025-03-26 23:09:51,036] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:09:51,350] Started server process [62510]
[INFO : 2025-03-26 23:09:51,350] Waiting for application startup.
[INFO : 2025-03-26 23:09:51,352] Application startup complete.
[WARNING : 2025-03-26 23:10:07,053] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:10:07,121] Shutting down
[INFO : 2025-03-26 23:10:07,222] Waiting for application shutdown.
[INFO : 2025-03-26 23:10:07,223] Application shutdown complete.
[INFO : 2025-03-26 23:10:07,223] Finished server process [62510]
[INFO : 2025-03-26 23:10:07,611] Started server process [62526]
[INFO : 2025-03-26 23:10:07,611] Waiting for application startup.
[INFO : 2025-03-26 23:10:07,613] Application startup complete.
[WARNING : 2025-03-26 23:10:10,126] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:10:10,138] Shutting down
[INFO : 2025-03-26 23:10:10,240] Waiting for application shutdown.
[INFO : 2025-03-26 23:10:10,240] Application shutdown complete.
[INFO : 2025-03-26 23:10:10,240] Finished server process [62526]
[INFO : 2025-03-26 23:10:10,511] Started server process [62536]
[INFO : 2025-03-26 23:10:10,511] Waiting for application startup.
[INFO : 2025-03-26 23:10:10,512] Application startup complete.
[WARNING : 2025-03-26 23:10:14,130] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:10:14,151] Shutting down
[INFO : 2025-03-26 23:10:14,253] Waiting for application shutdown.
[INFO : 2025-03-26 23:10:14,253] Application shutdown complete.
[INFO : 2025-03-26 23:10:14,253] Finished server process [62536]
[INFO : 2025-03-26 23:10:14,523] Started server process [62547]
[INFO : 2025-03-26 23:10:14,523] Waiting for application startup.
[INFO : 2025-03-26 23:10:14,524] Application startup complete.
[WARNING : 2025-03-26 23:10:22,544] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:10:22,615] Shutting down
[INFO : 2025-03-26 23:10:22,719] Waiting for application shutdown.
[INFO : 2025-03-26 23:10:22,721] Application shutdown complete.
[INFO : 2025-03-26 23:10:22,721] Finished server process [62547]
[INFO : 2025-03-26 23:10:23,026] Started server process [62580]
[INFO : 2025-03-26 23:10:23,026] Waiting for application startup.
[INFO : 2025-03-26 23:10:23,028] Application startup complete.
[WARNING : 2025-03-26 23:10:28,996] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:10:29,093] Shutting down
[INFO : 2025-03-26 23:10:29,196] Waiting for application shutdown.
[INFO : 2025-03-26 23:10:29,197] Application shutdown complete.
[INFO : 2025-03-26 23:10:29,198] Finished server process [62580]
[INFO : 2025-03-26 23:10:29,491] Started server process [62599]
[INFO : 2025-03-26 23:10:29,491] Waiting for application startup.
[INFO : 2025-03-26 23:10:29,493] Application startup complete.
[WARNING : 2025-03-26 23:10:36,706] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:10:36,769] Shutting down
[INFO : 2025-03-26 23:10:36,871] Waiting for application shutdown.
[INFO : 2025-03-26 23:10:36,871] Application shutdown complete.
[INFO : 2025-03-26 23:10:36,872] Finished server process [62599]
[INFO : 2025-03-26 23:10:37,162] Started server process [62610]
[INFO : 2025-03-26 23:10:37,162] Waiting for application startup.
[INFO : 2025-03-26 23:10:37,164] Application startup complete.
[WARNING : 2025-03-26 23:10:40,020] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:10:40,095] Shutting down
[INFO : 2025-03-26 23:10:40,196] Waiting for application shutdown.
[INFO : 2025-03-26 23:10:40,197] Application shutdown complete.
[INFO : 2025-03-26 23:10:40,197] Finished server process [62610]
[INFO : 2025-03-26 23:10:40,476] Started server process [62623]
[INFO : 2025-03-26 23:10:40,476] Waiting for application startup.
[INFO : 2025-03-26 23:10:40,478] Application startup complete.
[WARNING : 2025-03-26 23:10:53,635] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:10:53,716] Shutting down
[INFO : 2025-03-26 23:10:53,818] Waiting for application shutdown.
[INFO : 2025-03-26 23:10:53,820] Application shutdown complete.
[INFO : 2025-03-26 23:10:53,820] Finished server process [62623]
[INFO : 2025-03-26 23:10:54,184] Started server process [62638]
[INFO : 2025-03-26 23:10:54,184] Waiting for application startup.
[INFO : 2025-03-26 23:10:54,186] Application startup complete.
[WARNING : 2025-03-26 23:10:56,473] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:10:56,511] Shutting down
[INFO : 2025-03-26 23:10:56,612] Waiting for application shutdown.
[INFO : 2025-03-26 23:10:56,612] Application shutdown complete.
[INFO : 2025-03-26 23:10:56,612] Finished server process [62638]
[INFO : 2025-03-26 23:10:56,954] Started server process [62650]
[INFO : 2025-03-26 23:10:56,954] Waiting for application startup.
[INFO : 2025-03-26 23:10:56,956] Application startup complete.
[WARNING : 2025-03-26 23:10:57,678] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:10:57,765] Shutting down
[INFO : 2025-03-26 23:10:57,877] Waiting for application shutdown.
[INFO : 2025-03-26 23:10:57,878] Application shutdown complete.
[INFO : 2025-03-26 23:10:57,878] Finished server process [62650]
[INFO : 2025-03-26 23:10:58,297] Started server process [62657]
[INFO : 2025-03-26 23:10:58,298] Waiting for application startup.
[INFO : 2025-03-26 23:10:58,299] Application startup complete.
[WARNING : 2025-03-26 23:11:07,184] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:11:07,192] Shutting down
[INFO : 2025-03-26 23:11:07,294] Waiting for application shutdown.
[INFO : 2025-03-26 23:11:07,294] Application shutdown complete.
[INFO : 2025-03-26 23:11:07,294] Finished server process [62657]
[INFO : 2025-03-26 23:11:07,605] Started server process [62674]
[INFO : 2025-03-26 23:11:07,605] Waiting for application startup.
[INFO : 2025-03-26 23:11:07,607] Application startup complete.
[WARNING : 2025-03-26 23:11:12,036] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:11:12,054] Shutting down
[INFO : 2025-03-26 23:11:12,155] Waiting for application shutdown.
[INFO : 2025-03-26 23:11:12,156] Application shutdown complete.
[INFO : 2025-03-26 23:11:12,156] Finished server process [62674]
[INFO : 2025-03-26 23:11:12,439] Started server process [62691]
[INFO : 2025-03-26 23:11:12,439] Waiting for application startup.
[INFO : 2025-03-26 23:11:12,440] Application startup complete.
[WARNING : 2025-03-26 23:11:23,777] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:11:23,860] Shutting down
[INFO : 2025-03-26 23:11:23,962] Waiting for application shutdown.
[INFO : 2025-03-26 23:11:23,963] Application shutdown complete.
[INFO : 2025-03-26 23:11:23,963] Finished server process [62691]
[INFO : 2025-03-26 23:11:24,334] Started server process [62706]
[INFO : 2025-03-26 23:11:24,334] Waiting for application startup.
[INFO : 2025-03-26 23:11:24,336] Application startup complete.
[WARNING : 2025-03-26 23:11:27,655] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:11:27,672] Shutting down
[INFO : 2025-03-26 23:11:27,773] Waiting for application shutdown.
[INFO : 2025-03-26 23:11:27,774] Application shutdown complete.
[INFO : 2025-03-26 23:11:27,774] Finished server process [62706]
[INFO : 2025-03-26 23:11:28,024] Started server process [62719]
[INFO : 2025-03-26 23:11:28,024] Waiting for application startup.
[INFO : 2025-03-26 23:11:28,026] Application startup complete.
[WARNING : 2025-03-26 23:11:35,283] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:11:35,307] Shutting down
[INFO : 2025-03-26 23:11:35,409] Waiting for application shutdown.
[INFO : 2025-03-26 23:11:35,410] Application shutdown complete.
[INFO : 2025-03-26 23:11:35,410] Finished server process [62719]
[WARNING : 2025-03-26 23:11:38,560] StatReload detected changes in 'main.py'. Reloading...
[WARNING : 2025-03-26 23:11:41,908] StatReload detected changes in 'main.py'. Reloading...
[WARNING : 2025-03-26 23:11:44,479] StatReload detected changes in 'main.py'. Reloading...
[WARNING : 2025-03-26 23:11:51,434] StatReload detected changes in 'main.py'. Reloading...
[WARNING : 2025-03-26 23:11:54,270] StatReload detected changes in 'main.py'. Reloading...
[WARNING : 2025-03-26 23:11:59,425] StatReload detected changes in 'main.py'. Reloading...
[WARNING : 2025-03-26 23:12:11,269] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:12:11,612] Started server process [62802]
[INFO : 2025-03-26 23:12:11,612] Waiting for application startup.
[INFO : 2025-03-26 23:12:11,614] Application startup complete.
[WARNING : 2025-03-26 23:12:17,446] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:12:17,475] Shutting down
[INFO : 2025-03-26 23:12:17,576] Waiting for application shutdown.
[INFO : 2025-03-26 23:12:17,577] Application shutdown complete.
[INFO : 2025-03-26 23:12:17,577] Finished server process [62802]
[INFO : 2025-03-26 23:12:17,843] Started server process [62818]
[INFO : 2025-03-26 23:12:17,843] Waiting for application startup.
[INFO : 2025-03-26 23:12:17,845] Application startup complete.
[WARNING : 2025-03-26 23:12:19,439] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:12:19,463] Shutting down
[INFO : 2025-03-26 23:12:19,565] Waiting for application shutdown.
[INFO : 2025-03-26 23:12:19,565] Application shutdown complete.
[INFO : 2025-03-26 23:12:19,565] Finished server process [62818]
[INFO : 2025-03-26 23:12:19,837] Started server process [62832]
[INFO : 2025-03-26 23:12:19,838] Waiting for application startup.
[INFO : 2025-03-26 23:12:19,839] Application startup complete.
[ERROR : 2025-03-26 23:12:39,650] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 106, in __call__
    raise exc from None
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 103, in __call__
    await self.app(scope, receive, inner_send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Desktop/hw_short_link/main.py", line 82, in read_main
    db.commit()
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 3502, in _flush
    with util.safe_reraise():
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", line 1221, in _emit_insert_statements
    result = connection._execute_20(
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1614, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1481, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1845, in _execute_context
    self._handle_dbapi_exception(
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2026, in _handle_dbapi_exception
    util.raise_(
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1802, in _execute_context
    self.dialect.do_execute(
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (psycopg2.errors.NotNullViolation) null value in column "token" of relation "users" violates not-null constraint
DETAIL:  Failing row contains (1, string, string, null, null).

[SQL: INSERT INTO users (login, password, email, token) VALUES (%(login)s, %(password)s, %(email)s, %(token)s) RETURNING users.id]
[parameters: {'login': 'string', 'password': 'string', 'email': None, 'token': None}]
(Background on this error at: https://sqlalche.me/e/14/gkpj)
[WARNING : 2025-03-26 23:13:50,510] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:13:50,559] Shutting down
[INFO : 2025-03-26 23:13:50,663] Waiting for application shutdown.
[INFO : 2025-03-26 23:13:50,664] Application shutdown complete.
[INFO : 2025-03-26 23:13:50,664] Finished server process [62832]
[INFO : 2025-03-26 23:13:51,046] Started server process [62937]
[INFO : 2025-03-26 23:13:51,046] Waiting for application startup.
[INFO : 2025-03-26 23:13:51,048] Application startup complete.
[WARNING : 2025-03-26 23:13:51,765] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:13:51,858] Shutting down
[INFO : 2025-03-26 23:13:51,959] Waiting for application shutdown.
[INFO : 2025-03-26 23:13:51,959] Application shutdown complete.
[INFO : 2025-03-26 23:13:51,959] Finished server process [62937]
[INFO : 2025-03-26 23:13:52,229] Started server process [62949]
[INFO : 2025-03-26 23:13:52,229] Waiting for application startup.
[INFO : 2025-03-26 23:13:52,231] Application startup complete.
[WARNING : 2025-03-26 23:14:14,235] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:14:14,278] Shutting down
[INFO : 2025-03-26 23:14:14,380] Waiting for application shutdown.
[INFO : 2025-03-26 23:14:14,381] Application shutdown complete.
[INFO : 2025-03-26 23:14:14,382] Finished server process [62949]
[INFO : 2025-03-26 23:14:14,770] Started server process [62982]
[INFO : 2025-03-26 23:14:14,770] Waiting for application startup.
[INFO : 2025-03-26 23:14:14,772] Application startup complete.
[ERROR : 2025-03-26 23:14:17,581] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 106, in __call__
    raise exc from None
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 103, in __call__
    await self.app(scope, receive, inner_send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Desktop/hw_short_link/main.py", line 79, in read_main
    id = obj.id + 1
         ^^^^^^
AttributeError: 'NoneType' object has no attribute 'id'
[ERROR : 2025-03-26 23:14:22,846] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 106, in __call__
    raise exc from None
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 103, in __call__
    await self.app(scope, receive, inner_send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Desktop/hw_short_link/main.py", line 79, in read_main
    id = obj.id + 1
         ^^^^^^
AttributeError: 'NoneType' object has no attribute 'id'
[WARNING : 2025-03-26 23:14:43,243] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:14:43,286] Shutting down
[INFO : 2025-03-26 23:14:43,397] Waiting for application shutdown.
[INFO : 2025-03-26 23:14:43,398] Application shutdown complete.
[INFO : 2025-03-26 23:14:43,398] Finished server process [62982]
[WARNING : 2025-03-26 23:14:52,491] StatReload detected changes in 'main.py'. Reloading...
[WARNING : 2025-03-26 23:14:55,076] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:14:55,404] Started server process [63044]
[INFO : 2025-03-26 23:14:55,404] Waiting for application startup.
[INFO : 2025-03-26 23:14:55,406] Application startup complete.
[WARNING : 2025-03-26 23:14:57,391] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:14:57,427] Shutting down
[INFO : 2025-03-26 23:14:57,529] Waiting for application shutdown.
[INFO : 2025-03-26 23:14:57,529] Application shutdown complete.
[INFO : 2025-03-26 23:14:57,529] Finished server process [63044]
[INFO : 2025-03-26 23:14:57,814] Started server process [63051]
[INFO : 2025-03-26 23:14:57,814] Waiting for application startup.
[INFO : 2025-03-26 23:14:57,816] Application startup complete.
[WARNING : 2025-03-26 23:16:20,827] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:16:20,844] Shutting down
[INFO : 2025-03-26 23:16:20,946] Waiting for application shutdown.
[INFO : 2025-03-26 23:16:20,947] Application shutdown complete.
[INFO : 2025-03-26 23:16:20,947] Finished server process [63051]
[WARNING : 2025-03-26 23:16:27,462] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:16:27,770] Started server process [63146]
[INFO : 2025-03-26 23:16:27,770] Waiting for application startup.
[INFO : 2025-03-26 23:16:27,772] Application startup complete.
[WARNING : 2025-03-26 23:17:38,412] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:17:38,476] Shutting down
[INFO : 2025-03-26 23:17:38,578] Waiting for application shutdown.
[INFO : 2025-03-26 23:17:38,579] Application shutdown complete.
[INFO : 2025-03-26 23:17:38,579] Finished server process [63146]
[WARNING : 2025-03-26 23:17:49,481] StatReload detected changes in 'main.py'. Reloading...
[WARNING : 2025-03-26 23:18:17,908] StatReload detected changes in 'main.py'. Reloading...
[WARNING : 2025-03-26 23:18:53,082] StatReload detected changes in 'main.py'. Reloading...
[ERROR : 2025-03-26 23:18:53,443] Form data requires "python-multipart" to be installed. 
You can install "python-multipart" with: 

pip install python-multipart

[INFO : 2025-03-26 23:19:02,561] Stopping reloader process [61976]
[INFO : 2025-03-26 23:19:26,367] Will watch for changes in these directories: ['/Users/pavelsariia/Desktop/hw_short_link']
[INFO : 2025-03-26 23:19:26,368] Uvicorn running on http://0.0.0.0:8007 (Press CTRL+C to quit)
[INFO : 2025-03-26 23:19:26,368] Started reloader process [64200] using StatReload
[INFO : 2025-03-26 23:19:26,608] Started server process [64204]
[INFO : 2025-03-26 23:19:26,608] Waiting for application startup.
[INFO : 2025-03-26 23:19:26,611] Application startup complete.
[ERROR : 2025-03-26 23:19:36,780] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 106, in __call__
    raise exc from None
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 103, in __call__
    await self.app(scope, receive, inner_send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Desktop/hw_short_link/main.py", line 112, in token
    encoded = jwt.encode({"login": user.login, 'env': os.environ.get("TOKEN_ENV"), 'user': user.user_id, 'exp': datetime.datetime.now() + datetime.timedelta(minutes=1440)}, key=str(os.environ.get("TOKEN_KEY")), algorithm="HS256")
                                                                                           ^^^^^^^^^^^^
AttributeError: 'User' object has no attribute 'user_id'
[WARNING : 2025-03-26 23:19:52,374] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:19:52,398] Shutting down
[INFO : 2025-03-26 23:19:52,500] Waiting for application shutdown.
[INFO : 2025-03-26 23:19:52,501] Application shutdown complete.
[INFO : 2025-03-26 23:19:52,502] Finished server process [64204]
[INFO : 2025-03-26 23:19:52,842] Started server process [64238]
[INFO : 2025-03-26 23:19:52,842] Waiting for application startup.
[INFO : 2025-03-26 23:19:52,844] Application startup complete.
[WARNING : 2025-03-26 23:20:19,982] StatReload detected changes in 'auth/auth.py'. Reloading...
[INFO : 2025-03-26 23:20:20,033] Shutting down
[INFO : 2025-03-26 23:20:20,136] Waiting for application shutdown.
[INFO : 2025-03-26 23:20:20,137] Application shutdown complete.
[INFO : 2025-03-26 23:20:20,137] Finished server process [64238]
[INFO : 2025-03-26 23:20:20,504] Started server process [64277]
[INFO : 2025-03-26 23:20:20,504] Waiting for application startup.
[INFO : 2025-03-26 23:20:20,506] Application startup complete.
[WARNING : 2025-03-26 23:20:28,274] StatReload detected changes in 'auth/auth.py'. Reloading...
[INFO : 2025-03-26 23:20:28,295] Shutting down
[INFO : 2025-03-26 23:20:28,397] Waiting for application shutdown.
[INFO : 2025-03-26 23:20:28,397] Application shutdown complete.
[INFO : 2025-03-26 23:20:28,397] Finished server process [64277]
[INFO : 2025-03-26 23:20:28,738] Started server process [64300]
[INFO : 2025-03-26 23:20:28,738] Waiting for application startup.
[INFO : 2025-03-26 23:20:28,740] Application startup complete.
[ERROR : 2025-03-26 23:20:33,658] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 106, in __call__
    raise exc from None
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 103, in __call__
    await self.app(scope, receive, inner_send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Desktop/hw_short_link/main.py", line 112, in token
    encoded = jwt.encode({"login": user.login, 'env': os.environ.get("TOKEN_ENV"), 'user': user.id, 'exp': datetime.datetime.now() + datetime.timedelta(minutes=1440)}, key=str(os.environ.get("TOKEN_KEY")), algorithm="HS256")
                                                                                                           ^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.datetime' has no attribute 'datetime'
[ERROR : 2025-03-26 23:20:34,213] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 106, in __call__
    raise exc from None
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 103, in __call__
    await self.app(scope, receive, inner_send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Desktop/hw_short_link/main.py", line 112, in token
    encoded = jwt.encode({"login": user.login, 'env': os.environ.get("TOKEN_ENV"), 'user': user.id, 'exp': datetime.datetime.now() + datetime.timedelta(minutes=1440)}, key=str(os.environ.get("TOKEN_KEY")), algorithm="HS256")
                                                                                                           ^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.datetime' has no attribute 'datetime'
[ERROR : 2025-03-26 23:20:34,617] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 106, in __call__
    raise exc from None
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 103, in __call__
    await self.app(scope, receive, inner_send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Desktop/hw_short_link/main.py", line 112, in token
    encoded = jwt.encode({"login": user.login, 'env': os.environ.get("TOKEN_ENV"), 'user': user.id, 'exp': datetime.datetime.now() + datetime.timedelta(minutes=1440)}, key=str(os.environ.get("TOKEN_KEY")), algorithm="HS256")
                                                                                                           ^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.datetime' has no attribute 'datetime'
[ERROR : 2025-03-26 23:20:35,421] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 106, in __call__
    raise exc from None
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 103, in __call__
    await self.app(scope, receive, inner_send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Desktop/hw_short_link/main.py", line 112, in token
    encoded = jwt.encode({"login": user.login, 'env': os.environ.get("TOKEN_ENV"), 'user': user.id, 'exp': datetime.datetime.now() + datetime.timedelta(minutes=1440)}, key=str(os.environ.get("TOKEN_KEY")), algorithm="HS256")
                                                                                                           ^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.datetime' has no attribute 'datetime'
[WARNING : 2025-03-26 23:20:50,755] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:20:50,783] Shutting down
[INFO : 2025-03-26 23:20:50,885] Waiting for application shutdown.
[INFO : 2025-03-26 23:20:50,886] Application shutdown complete.
[INFO : 2025-03-26 23:20:50,887] Finished server process [64300]
[WARNING : 2025-03-26 23:20:51,755] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:20:52,044] Started server process [64333]
[INFO : 2025-03-26 23:20:52,044] Waiting for application startup.
[INFO : 2025-03-26 23:20:52,046] Application startup complete.
[WARNING : 2025-03-26 23:20:54,086] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:20:54,171] Shutting down
[INFO : 2025-03-26 23:20:54,273] Waiting for application shutdown.
[INFO : 2025-03-26 23:20:54,273] Application shutdown complete.
[INFO : 2025-03-26 23:20:54,273] Finished server process [64333]
[INFO : 2025-03-26 23:20:54,541] Started server process [64348]
[INFO : 2025-03-26 23:20:54,541] Waiting for application startup.
[INFO : 2025-03-26 23:20:54,542] Application startup complete.
[ERROR : 2025-03-26 23:20:56,432] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 106, in __call__
    raise exc from None
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 103, in __call__
    await self.app(scope, receive, inner_send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Desktop/hw_short_link/main.py", line 112, in token
    encoded = jwt.encode({"login": user.login, 'env': os.environ.get("TOKEN_ENV"), 'user': user.id, 'exp': datetime.now() + datetime.timedelta(minutes=1440)}, key=str(os.environ.get("TOKEN_KEY")), algorithm="HS256")
                                                                                                                            ^^^^^^^^^^^^^^^^^^
AttributeError: type object 'datetime.datetime' has no attribute 'timedelta'
[WARNING : 2025-03-26 23:21:11,193] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:21:11,231] Shutting down
[INFO : 2025-03-26 23:21:11,333] Waiting for application shutdown.
[INFO : 2025-03-26 23:21:11,334] Application shutdown complete.
[INFO : 2025-03-26 23:21:11,335] Finished server process [64348]
[INFO : 2025-03-26 23:21:11,691] Started server process [64365]
[INFO : 2025-03-26 23:21:11,691] Waiting for application startup.
[INFO : 2025-03-26 23:21:11,693] Application startup complete.
[WARNING : 2025-03-26 23:21:19,397] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:21:19,478] Shutting down
[INFO : 2025-03-26 23:21:19,580] Waiting for application shutdown.
[INFO : 2025-03-26 23:21:19,581] Application shutdown complete.
[INFO : 2025-03-26 23:21:19,581] Finished server process [64365]
[INFO : 2025-03-26 23:21:19,981] Started server process [64383]
[INFO : 2025-03-26 23:21:19,981] Waiting for application startup.
[INFO : 2025-03-26 23:21:19,984] Application startup complete.
[WARNING : 2025-03-26 23:21:21,192] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:21:21,198] Shutting down
[INFO : 2025-03-26 23:21:21,301] Waiting for application shutdown.
[INFO : 2025-03-26 23:21:21,301] Application shutdown complete.
[INFO : 2025-03-26 23:21:21,301] Finished server process [64383]
[INFO : 2025-03-26 23:21:21,587] Started server process [64390]
[INFO : 2025-03-26 23:21:21,587] Waiting for application startup.
[INFO : 2025-03-26 23:21:21,589] Application startup complete.
[WARNING : 2025-03-26 23:21:26,510] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:21:26,542] Shutting down
[INFO : 2025-03-26 23:21:26,643] Waiting for application shutdown.
[INFO : 2025-03-26 23:21:26,644] Application shutdown complete.
[INFO : 2025-03-26 23:21:26,644] Finished server process [64390]
[INFO : 2025-03-26 23:21:26,940] Started server process [64409]
[INFO : 2025-03-26 23:21:26,940] Waiting for application startup.
[INFO : 2025-03-26 23:21:26,942] Application startup complete.
[ERROR : 2025-03-26 23:21:43,913] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 106, in __call__
    raise exc from None
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 103, in __call__
    await self.app(scope, receive, inner_send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Desktop/hw_short_link/main.py", line 62, in secured
    return user.id
           ^^^^^^^
AttributeError: 'HTTPException' object has no attribute 'id'
[ERROR : 2025-03-26 23:21:44,752] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 106, in __call__
    raise exc from None
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 103, in __call__
    await self.app(scope, receive, inner_send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Desktop/hw_short_link/main.py", line 62, in secured
    return user.id
           ^^^^^^^
AttributeError: 'HTTPException' object has no attribute 'id'
[WARNING : 2025-03-26 23:22:02,609] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:22:02,644] Shutting down
[INFO : 2025-03-26 23:22:02,746] Waiting for application shutdown.
[INFO : 2025-03-26 23:22:02,747] Application shutdown complete.
[INFO : 2025-03-26 23:22:02,747] Finished server process [64409]
[INFO : 2025-03-26 23:22:03,150] Started server process [64453]
[INFO : 2025-03-26 23:22:03,150] Waiting for application startup.
[INFO : 2025-03-26 23:22:03,152] Application startup complete.
[ERROR : 2025-03-26 23:22:04,056] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 106, in __call__
    raise exc from None
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 103, in __call__
    await self.app(scope, receive, inner_send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 176, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'loc': ('response',), 'msg': 'value is not a valid dict', 'type': 'type_error.dict'}

[WARNING : 2025-03-26 23:22:09,567] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:22:09,631] Shutting down
[INFO : 2025-03-26 23:22:09,733] Waiting for application shutdown.
[INFO : 2025-03-26 23:22:09,734] Application shutdown complete.
[INFO : 2025-03-26 23:22:09,734] Finished server process [64453]
[INFO : 2025-03-26 23:22:10,099] Started server process [64475]
[INFO : 2025-03-26 23:22:10,099] Waiting for application startup.
[INFO : 2025-03-26 23:22:10,101] Application startup complete.
[WARNING : 2025-03-26 23:22:13,912] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:22:13,943] Shutting down
[INFO : 2025-03-26 23:22:14,044] Waiting for application shutdown.
[INFO : 2025-03-26 23:22:14,045] Application shutdown complete.
[INFO : 2025-03-26 23:22:14,045] Finished server process [64475]
[INFO : 2025-03-26 23:22:14,335] Started server process [64490]
[INFO : 2025-03-26 23:22:14,335] Waiting for application startup.
[INFO : 2025-03-26 23:22:14,337] Application startup complete.
[WARNING : 2025-03-26 23:22:18,221] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:22:18,277] Shutting down
[INFO : 2025-03-26 23:22:18,378] Waiting for application shutdown.
[INFO : 2025-03-26 23:22:18,379] Application shutdown complete.
[INFO : 2025-03-26 23:22:18,379] Finished server process [64490]
[INFO : 2025-03-26 23:22:19,000] Started server process [64500]
[INFO : 2025-03-26 23:22:19,000] Waiting for application startup.
[INFO : 2025-03-26 23:22:19,002] Application startup complete.
[ERROR : 2025-03-26 23:22:19,005] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 106, in __call__
    raise exc from None
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 103, in __call__
    await self.app(scope, receive, inner_send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 176, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'loc': ('response',), 'msg': 'value is not a valid dict', 'type': 'type_error.dict'}

[WARNING : 2025-03-26 23:22:29,355] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:22:29,415] Shutting down
[INFO : 2025-03-26 23:22:29,517] Waiting for application shutdown.
[INFO : 2025-03-26 23:22:29,518] Application shutdown complete.
[INFO : 2025-03-26 23:22:29,518] Finished server process [64500]
[INFO : 2025-03-26 23:22:29,867] Started server process [64525]
[INFO : 2025-03-26 23:22:29,867] Waiting for application startup.
[INFO : 2025-03-26 23:22:29,869] Application startup complete.
[WARNING : 2025-03-26 23:22:41,782] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:22:41,801] Shutting down
[INFO : 2025-03-26 23:22:41,903] Waiting for application shutdown.
[INFO : 2025-03-26 23:22:41,903] Application shutdown complete.
[INFO : 2025-03-26 23:22:41,903] Finished server process [64525]
[WARNING : 2025-03-26 23:22:44,287] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:22:44,617] Started server process [64560]
[INFO : 2025-03-26 23:22:44,617] Waiting for application startup.
[INFO : 2025-03-26 23:22:44,620] Application startup complete.
[WARNING : 2025-03-26 23:22:57,203] StatReload detected changes in 'auth/auth.py'. Reloading...
[INFO : 2025-03-26 23:22:57,261] Shutting down
[INFO : 2025-03-26 23:22:57,363] Waiting for application shutdown.
[INFO : 2025-03-26 23:22:57,363] Application shutdown complete.
[INFO : 2025-03-26 23:22:57,363] Finished server process [64560]
[INFO : 2025-03-26 23:22:57,719] Started server process [64586]
[INFO : 2025-03-26 23:22:57,719] Waiting for application startup.
[INFO : 2025-03-26 23:22:57,721] Application startup complete.
[WARNING : 2025-03-26 23:23:53,646] StatReload detected changes in 'auth/auth.py'. Reloading...
[INFO : 2025-03-26 23:23:53,746] Shutting down
[INFO : 2025-03-26 23:23:53,848] Waiting for application shutdown.
[INFO : 2025-03-26 23:23:53,849] Application shutdown complete.
[INFO : 2025-03-26 23:23:53,850] Finished server process [64586]
[INFO : 2025-03-26 23:23:54,259] Started server process [64665]
[INFO : 2025-03-26 23:23:54,259] Waiting for application startup.
[INFO : 2025-03-26 23:23:54,261] Application startup complete.
[WARNING : 2025-03-26 23:23:55,473] StatReload detected changes in 'auth/auth.py'. Reloading...
[INFO : 2025-03-26 23:23:55,474] Shutting down
[INFO : 2025-03-26 23:23:55,577] Waiting for application shutdown.
[INFO : 2025-03-26 23:23:55,578] Application shutdown complete.
[INFO : 2025-03-26 23:23:55,578] Finished server process [64665]
[INFO : 2025-03-26 23:23:55,846] Started server process [64676]
[INFO : 2025-03-26 23:23:55,846] Waiting for application startup.
[INFO : 2025-03-26 23:23:55,847] Application startup complete.
[WARNING : 2025-03-26 23:23:56,651] StatReload detected changes in 'auth/auth.py'. Reloading...
[INFO : 2025-03-26 23:23:56,656] Shutting down
[INFO : 2025-03-26 23:23:56,757] Waiting for application shutdown.
[INFO : 2025-03-26 23:23:56,758] Application shutdown complete.
[INFO : 2025-03-26 23:23:56,758] Finished server process [64676]
[INFO : 2025-03-26 23:23:57,033] Started server process [64682]
[INFO : 2025-03-26 23:23:57,034] Waiting for application startup.
[INFO : 2025-03-26 23:23:57,035] Application startup complete.
[WARNING : 2025-03-26 23:24:10,490] StatReload detected changes in 'auth/auth.py'. Reloading...
[INFO : 2025-03-26 23:24:10,583] Shutting down
[INFO : 2025-03-26 23:24:10,685] Waiting for application shutdown.
[INFO : 2025-03-26 23:24:10,686] Application shutdown complete.
[INFO : 2025-03-26 23:24:10,686] Finished server process [64682]
[INFO : 2025-03-26 23:24:11,067] Started server process [64708]
[INFO : 2025-03-26 23:24:11,067] Waiting for application startup.
[INFO : 2025-03-26 23:24:11,069] Application startup complete.
[WARNING : 2025-03-26 23:24:32,029] StatReload detected changes in 'auth/auth.py'. Reloading...
[INFO : 2025-03-26 23:24:32,105] Shutting down
[INFO : 2025-03-26 23:24:32,208] Waiting for application shutdown.
[INFO : 2025-03-26 23:24:32,210] Application shutdown complete.
[INFO : 2025-03-26 23:24:32,211] Finished server process [64708]
[INFO : 2025-03-26 23:24:32,591] Started server process [64737]
[INFO : 2025-03-26 23:24:32,591] Waiting for application startup.
[INFO : 2025-03-26 23:24:32,593] Application startup complete.
[WARNING : 2025-03-26 23:24:33,567] StatReload detected changes in 'auth/auth.py'. Reloading...
[INFO : 2025-03-26 23:24:33,605] Shutting down
[INFO : 2025-03-26 23:24:33,706] Waiting for application shutdown.
[INFO : 2025-03-26 23:24:33,707] Application shutdown complete.
[INFO : 2025-03-26 23:24:33,707] Finished server process [64737]
[INFO : 2025-03-26 23:24:34,029] Started server process [64745]
[INFO : 2025-03-26 23:24:34,029] Waiting for application startup.
[INFO : 2025-03-26 23:24:34,031] Application startup complete.
[WARNING : 2025-03-26 23:25:50,516] StatReload detected changes in 'auth/auth.py'. Reloading...
[INFO : 2025-03-26 23:25:50,617] Shutting down
[INFO : 2025-03-26 23:25:50,720] Waiting for application shutdown.
[INFO : 2025-03-26 23:25:50,722] Application shutdown complete.
[INFO : 2025-03-26 23:25:50,722] Finished server process [64745]
[INFO : 2025-03-26 23:25:51,160] Started server process [64824]
[INFO : 2025-03-26 23:25:51,160] Waiting for application startup.
[INFO : 2025-03-26 23:25:51,162] Application startup complete.
[WARNING : 2025-03-26 23:25:55,464] StatReload detected changes in 'auth/auth.py'. Reloading...
[INFO : 2025-03-26 23:25:55,509] Shutting down
[INFO : 2025-03-26 23:25:55,610] Waiting for application shutdown.
[INFO : 2025-03-26 23:25:55,611] Application shutdown complete.
[INFO : 2025-03-26 23:25:55,611] Finished server process [64824]
[INFO : 2025-03-26 23:25:55,879] Started server process [64843]
[INFO : 2025-03-26 23:25:55,879] Waiting for application startup.
[INFO : 2025-03-26 23:25:55,880] Application startup complete.
[WARNING : 2025-03-26 23:26:03,922] StatReload detected changes in 'auth/auth.py'. Reloading...
[INFO : 2025-03-26 23:26:03,967] Shutting down
[INFO : 2025-03-26 23:26:04,068] Waiting for application shutdown.
[INFO : 2025-03-26 23:26:04,069] Application shutdown complete.
[INFO : 2025-03-26 23:26:04,069] Finished server process [64843]
[INFO : 2025-03-26 23:26:04,365] Started server process [64865]
[INFO : 2025-03-26 23:26:04,365] Waiting for application startup.
[INFO : 2025-03-26 23:26:04,366] Application startup complete.
[WARNING : 2025-03-26 23:26:22,518] StatReload detected changes in 'auth/auth.py'. Reloading...
[INFO : 2025-03-26 23:26:22,556] Shutting down
[INFO : 2025-03-26 23:26:22,664] Waiting for application shutdown.
[INFO : 2025-03-26 23:26:22,672] Application shutdown complete.
[INFO : 2025-03-26 23:26:22,673] Finished server process [64865]
[INFO : 2025-03-26 23:26:23,095] Started server process [64899]
[INFO : 2025-03-26 23:26:23,095] Waiting for application startup.
[INFO : 2025-03-26 23:26:23,097] Application startup complete.
[WARNING : 2025-03-26 23:26:52,034] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:26:52,116] Shutting down
[INFO : 2025-03-26 23:26:52,219] Waiting for application shutdown.
[INFO : 2025-03-26 23:26:52,220] Application shutdown complete.
[INFO : 2025-03-26 23:26:52,221] Finished server process [64899]
[INFO : 2025-03-26 23:26:52,646] Started server process [64925]
[INFO : 2025-03-26 23:26:52,647] Waiting for application startup.
[INFO : 2025-03-26 23:26:52,649] Application startup complete.
[WARNING : 2025-03-26 23:26:53,101] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:26:53,154] Shutting down
[INFO : 2025-03-26 23:26:53,255] Waiting for application shutdown.
[INFO : 2025-03-26 23:26:53,256] Application shutdown complete.
[INFO : 2025-03-26 23:26:53,256] Finished server process [64925]
[INFO : 2025-03-26 23:26:53,520] Started server process [64931]
[INFO : 2025-03-26 23:26:53,520] Waiting for application startup.
[INFO : 2025-03-26 23:26:53,522] Application startup complete.
[WARNING : 2025-03-26 23:27:19,756] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 23:27:19,811] Shutting down
[INFO : 2025-03-26 23:27:19,914] Waiting for application shutdown.
[INFO : 2025-03-26 23:27:19,915] Application shutdown complete.
[INFO : 2025-03-26 23:27:19,915] Finished server process [64931]
[INFO : 2025-03-26 23:27:20,342] Started server process [64963]
[INFO : 2025-03-26 23:27:20,342] Waiting for application startup.
[INFO : 2025-03-26 23:27:20,344] Application startup complete.
[WARNING : 2025-03-26 23:27:37,829] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 23:27:37,832] Shutting down
[INFO : 2025-03-26 23:27:37,935] Waiting for application shutdown.
[INFO : 2025-03-26 23:27:37,936] Application shutdown complete.
[INFO : 2025-03-26 23:27:37,936] Finished server process [64963]
[WARNING : 2025-03-26 23:27:41,610] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 23:27:41,853] Started server process [64996]
[INFO : 2025-03-26 23:27:41,853] Waiting for application startup.
[INFO : 2025-03-26 23:27:41,855] Application startup complete.
[WARNING : 2025-03-26 23:28:24,117] StatReload detected changes in 'auth/auth.py'. Reloading...
[INFO : 2025-03-26 23:28:24,140] Shutting down
[INFO : 2025-03-26 23:28:24,243] Waiting for application shutdown.
[INFO : 2025-03-26 23:28:24,244] Application shutdown complete.
[INFO : 2025-03-26 23:28:24,244] Finished server process [64996]
[INFO : 2025-03-26 23:28:24,665] Started server process [65055]
[INFO : 2025-03-26 23:28:24,666] Waiting for application startup.
[INFO : 2025-03-26 23:28:24,668] Application startup complete.
[WARNING : 2025-03-26 23:30:09,827] StatReload detected changes in 'auth/auth.py'. Reloading...
[INFO : 2025-03-26 23:30:09,871] Shutting down
[INFO : 2025-03-26 23:30:09,974] Waiting for application shutdown.
[INFO : 2025-03-26 23:30:09,976] Application shutdown complete.
[INFO : 2025-03-26 23:30:09,976] Finished server process [65055]
[WARNING : 2025-03-26 23:30:11,594] StatReload detected changes in 'auth/auth.py'. Reloading...
[WARNING : 2025-03-26 23:30:13,907] StatReload detected changes in 'auth/auth.py'. Reloading...
[INFO : 2025-03-26 23:30:14,160] Started server process [65143]
[INFO : 2025-03-26 23:30:14,160] Waiting for application startup.
[INFO : 2025-03-26 23:30:14,162] Application startup complete.
[WARNING : 2025-03-26 23:30:26,846] StatReload detected changes in 'auth/auth.py'. Reloading...
[INFO : 2025-03-26 23:30:26,896] Shutting down
[INFO : 2025-03-26 23:30:26,999] Waiting for application shutdown.
[INFO : 2025-03-26 23:30:27,000] Application shutdown complete.
[INFO : 2025-03-26 23:30:27,000] Finished server process [65143]
[INFO : 2025-03-26 23:30:27,397] Started server process [65166]
[INFO : 2025-03-26 23:30:27,397] Waiting for application startup.
[INFO : 2025-03-26 23:30:27,399] Application startup complete.
[INFO : 2025-03-26 23:30:31,605] link string
[WARNING : 2025-03-26 23:30:49,346] StatReload detected changes in 'auth/auth.py'. Reloading...
[INFO : 2025-03-26 23:30:49,445] Shutting down
[INFO : 2025-03-26 23:30:49,548] Waiting for application shutdown.
[INFO : 2025-03-26 23:30:49,554] Application shutdown complete.
[INFO : 2025-03-26 23:30:49,554] Finished server process [65166]
[INFO : 2025-03-26 23:30:49,943] Started server process [65195]
[INFO : 2025-03-26 23:30:49,943] Waiting for application startup.
[INFO : 2025-03-26 23:30:49,946] Application startup complete.
[WARNING : 2025-03-26 23:30:51,433] StatReload detected changes in 'auth/auth.py'. Reloading...
[INFO : 2025-03-26 23:30:51,461] Shutting down
[INFO : 2025-03-26 23:30:51,563] Waiting for application shutdown.
[INFO : 2025-03-26 23:30:51,563] Application shutdown complete.
[INFO : 2025-03-26 23:30:51,564] Finished server process [65195]
[INFO : 2025-03-26 23:30:51,860] Started server process [65206]
[INFO : 2025-03-26 23:30:51,860] Waiting for application startup.
[INFO : 2025-03-26 23:30:51,861] Application startup complete.
[INFO : 2025-03-26 23:30:52,779] link string
[INFO : 2025-03-26 23:30:52,854] link string
[INFO : 2025-03-26 23:30:53,545] link string
[WARNING : 2025-03-26 23:31:10,615] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:31:10,668] Shutting down
[INFO : 2025-03-26 23:31:10,770] Waiting for application shutdown.
[INFO : 2025-03-26 23:31:10,771] Application shutdown complete.
[INFO : 2025-03-26 23:31:10,771] Finished server process [65206]
[INFO : 2025-03-26 23:31:11,128] Started server process [65230]
[INFO : 2025-03-26 23:31:11,128] Waiting for application startup.
[INFO : 2025-03-26 23:31:11,130] Application startup complete.
[WARNING : 2025-03-26 23:31:12,633] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:31:12,647] Shutting down
[INFO : 2025-03-26 23:31:12,748] Waiting for application shutdown.
[INFO : 2025-03-26 23:31:12,749] Application shutdown complete.
[INFO : 2025-03-26 23:31:12,749] Finished server process [65230]
[INFO : 2025-03-26 23:31:13,039] Started server process [65240]
[INFO : 2025-03-26 23:31:13,040] Waiting for application startup.
[INFO : 2025-03-26 23:31:13,041] Application startup complete.
[WARNING : 2025-03-26 23:31:13,833] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-03-26 23:31:13,850] Shutting down
[INFO : 2025-03-26 23:31:13,952] Waiting for application shutdown.
[INFO : 2025-03-26 23:31:13,952] Application shutdown complete.
[INFO : 2025-03-26 23:31:13,952] Finished server process [65240]
[INFO : 2025-03-26 23:31:14,241] Started server process [65249]
[INFO : 2025-03-26 23:31:14,241] Waiting for application startup.
[INFO : 2025-03-26 23:31:14,243] Application startup complete.
[INFO : 2025-03-26 23:31:40,360] link string
[INFO : 2025-03-26 23:31:47,943] link string
[WARNING : 2025-03-26 23:31:51,240] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 23:31:51,243] Shutting down
[INFO : 2025-03-26 23:31:51,344] Waiting for application shutdown.
[INFO : 2025-03-26 23:31:51,345] Application shutdown complete.
[INFO : 2025-03-26 23:31:51,345] Finished server process [65249]
[INFO : 2025-03-26 23:31:51,779] Started server process [65286]
[INFO : 2025-03-26 23:31:51,780] Waiting for application startup.
[INFO : 2025-03-26 23:31:51,781] Application startup complete.
[INFO : 2025-03-26 23:32:22,218] link string
[INFO : 2025-03-26 23:32:25,549] link string
[WARNING : 2025-03-26 23:36:05,653] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 23:36:05,689] Shutting down
[INFO : 2025-03-26 23:36:05,792] Waiting for application shutdown.
[INFO : 2025-03-26 23:36:05,793] Application shutdown complete.
[INFO : 2025-03-26 23:36:05,793] Finished server process [65286]
[INFO : 2025-03-26 23:36:06,178] Started server process [65391]
[INFO : 2025-03-26 23:36:06,178] Waiting for application startup.
[INFO : 2025-03-26 23:36:06,180] Application startup complete.
[WARNING : 2025-03-26 23:36:13,062] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 23:36:13,154] Shutting down
[INFO : 2025-03-26 23:36:13,257] Waiting for application shutdown.
[INFO : 2025-03-26 23:36:13,259] Application shutdown complete.
[INFO : 2025-03-26 23:36:13,259] Finished server process [65391]
[WARNING : 2025-03-26 23:36:15,132] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 23:36:19,268] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 23:36:19,531] Started server process [65426]
[INFO : 2025-03-26 23:36:19,531] Waiting for application startup.
[INFO : 2025-03-26 23:36:19,534] Application startup complete.
[WARNING : 2025-03-26 23:36:22,626] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 23:36:22,669] Shutting down
[INFO : 2025-03-26 23:36:22,770] Waiting for application shutdown.
[INFO : 2025-03-26 23:36:22,771] Application shutdown complete.
[INFO : 2025-03-26 23:36:22,771] Finished server process [65426]
[INFO : 2025-03-26 23:36:23,063] Started server process [65444]
[INFO : 2025-03-26 23:36:23,063] Waiting for application startup.
[INFO : 2025-03-26 23:36:23,064] Application startup complete.
[WARNING : 2025-03-26 23:36:25,141] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 23:36:25,187] Shutting down
[INFO : 2025-03-26 23:36:25,288] Waiting for application shutdown.
[INFO : 2025-03-26 23:36:25,288] Application shutdown complete.
[INFO : 2025-03-26 23:36:25,289] Finished server process [65444]
[INFO : 2025-03-26 23:36:25,568] Started server process [65454]
[INFO : 2025-03-26 23:36:25,568] Waiting for application startup.
[INFO : 2025-03-26 23:36:25,570] Application startup complete.
[WARNING : 2025-03-26 23:36:33,818] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 23:36:33,873] Shutting down
[INFO : 2025-03-26 23:36:33,976] Waiting for application shutdown.
[INFO : 2025-03-26 23:36:33,977] Application shutdown complete.
[INFO : 2025-03-26 23:36:33,977] Finished server process [65454]
[INFO : 2025-03-26 23:36:34,265] Started server process [65468]
[INFO : 2025-03-26 23:36:34,265] Waiting for application startup.
[INFO : 2025-03-26 23:36:34,266] Application startup complete.
[WARNING : 2025-03-26 23:36:36,380] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 23:36:36,390] Shutting down
[INFO : 2025-03-26 23:36:36,491] Waiting for application shutdown.
[INFO : 2025-03-26 23:36:36,492] Application shutdown complete.
[INFO : 2025-03-26 23:36:36,492] Finished server process [65468]
[INFO : 2025-03-26 23:36:36,787] Started server process [65479]
[INFO : 2025-03-26 23:36:36,787] Waiting for application startup.
[INFO : 2025-03-26 23:36:36,789] Application startup complete.
[WARNING : 2025-03-26 23:36:37,564] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 23:36:37,598] Shutting down
[INFO : 2025-03-26 23:36:37,700] Waiting for application shutdown.
[INFO : 2025-03-26 23:36:37,700] Application shutdown complete.
[INFO : 2025-03-26 23:36:37,700] Finished server process [65479]
[INFO : 2025-03-26 23:36:37,999] Started server process [65485]
[INFO : 2025-03-26 23:36:38,000] Waiting for application startup.
[INFO : 2025-03-26 23:36:38,001] Application startup complete.
[WARNING : 2025-03-26 23:37:25,769] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 23:37:25,839] Shutting down
[INFO : 2025-03-26 23:37:25,942] Waiting for application shutdown.
[INFO : 2025-03-26 23:37:25,943] Application shutdown complete.
[INFO : 2025-03-26 23:37:25,944] Finished server process [65485]
[WARNING : 2025-03-26 23:37:30,126] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 23:37:34,012] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 23:37:38,337] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 23:37:38,594] Started server process [65566]
[INFO : 2025-03-26 23:37:38,595] Waiting for application startup.
[INFO : 2025-03-26 23:37:38,596] Application startup complete.
[WARNING : 2025-03-26 23:37:46,880] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 23:37:46,888] Shutting down
[INFO : 2025-03-26 23:37:46,989] Waiting for application shutdown.
[INFO : 2025-03-26 23:37:46,990] Application shutdown complete.
[INFO : 2025-03-26 23:37:46,990] Finished server process [65566]
[INFO : 2025-03-26 23:37:47,283] Started server process [65580]
[INFO : 2025-03-26 23:37:47,284] Waiting for application startup.
[INFO : 2025-03-26 23:37:47,285] Application startup complete.
[WARNING : 2025-03-26 23:37:58,420] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 23:37:58,508] Shutting down
[INFO : 2025-03-26 23:37:58,610] Waiting for application shutdown.
[INFO : 2025-03-26 23:37:58,614] Application shutdown complete.
[INFO : 2025-03-26 23:37:58,614] Finished server process [65580]
[INFO : 2025-03-26 23:37:58,981] Started server process [65598]
[INFO : 2025-03-26 23:37:58,981] Waiting for application startup.
[INFO : 2025-03-26 23:37:58,983] Application startup complete.
[WARNING : 2025-03-26 23:38:03,858] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 23:38:03,937] Shutting down
[INFO : 2025-03-26 23:38:04,040] Waiting for application shutdown.
[INFO : 2025-03-26 23:38:04,041] Application shutdown complete.
[INFO : 2025-03-26 23:38:04,041] Finished server process [65598]
[INFO : 2025-03-26 23:38:04,435] Started server process [65612]
[INFO : 2025-03-26 23:38:04,435] Waiting for application startup.
[INFO : 2025-03-26 23:38:04,437] Application startup complete.
[WARNING : 2025-03-26 23:38:11,361] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 23:38:11,414] Shutting down
[INFO : 2025-03-26 23:38:11,520] Waiting for application shutdown.
[INFO : 2025-03-26 23:38:11,521] Application shutdown complete.
[INFO : 2025-03-26 23:38:11,521] Finished server process [65612]
[INFO : 2025-03-26 23:38:11,881] Started server process [65626]
[INFO : 2025-03-26 23:38:11,881] Waiting for application startup.
[INFO : 2025-03-26 23:38:11,883] Application startup complete.
[WARNING : 2025-03-26 23:38:18,849] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 23:38:18,860] Shutting down
[INFO : 2025-03-26 23:38:18,962] Waiting for application shutdown.
[INFO : 2025-03-26 23:38:18,962] Application shutdown complete.
[INFO : 2025-03-26 23:38:18,962] Finished server process [65626]
[INFO : 2025-03-26 23:38:19,312] Started server process [65639]
[INFO : 2025-03-26 23:38:19,312] Waiting for application startup.
[INFO : 2025-03-26 23:38:19,315] Application startup complete.
[WARNING : 2025-03-26 23:39:19,642] StatReload detected changes in 'schemas/request_schemas/links.py'. Reloading...
[INFO : 2025-03-26 23:39:19,699] Shutting down
[INFO : 2025-03-26 23:39:19,805] Waiting for application shutdown.
[INFO : 2025-03-26 23:39:19,805] Application shutdown complete.
[INFO : 2025-03-26 23:39:19,805] Finished server process [65639]
[WARNING : 2025-03-26 23:39:20,889] StatReload detected changes in 'schemas/request_schemas/links.py'. Reloading...
[WARNING : 2025-03-26 23:39:23,217] StatReload detected changes in 'schemas/request_schemas/links.py'. Reloading...
[WARNING : 2025-03-26 23:39:24,758] StatReload detected changes in 'schemas/request_schemas/links.py'. Reloading...
[INFO : 2025-03-26 23:39:25,004] Started server process [65699]
[INFO : 2025-03-26 23:39:25,004] Waiting for application startup.
[INFO : 2025-03-26 23:39:25,007] Application startup complete.
[WARNING : 2025-03-26 23:39:27,861] StatReload detected changes in 'schemas/request_schemas/links.py'. Reloading...
[INFO : 2025-03-26 23:39:27,937] Shutting down
[INFO : 2025-03-26 23:39:28,042] Waiting for application shutdown.
[INFO : 2025-03-26 23:39:28,043] Application shutdown complete.
[INFO : 2025-03-26 23:39:28,043] Finished server process [65699]
[WARNING : 2025-03-26 23:39:29,187] StatReload detected changes in 'schemas/request_schemas/links.py'. Reloading...
[INFO : 2025-03-26 23:39:29,454] Started server process [65722]
[INFO : 2025-03-26 23:39:29,454] Waiting for application startup.
[INFO : 2025-03-26 23:39:29,455] Application startup complete.
[WARNING : 2025-03-26 23:40:11,636] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 23:40:11,732] Shutting down
[INFO : 2025-03-26 23:40:11,834] Waiting for application shutdown.
[INFO : 2025-03-26 23:40:11,835] Application shutdown complete.
[INFO : 2025-03-26 23:40:11,836] Finished server process [65722]
[INFO : 2025-03-26 23:40:12,220] Started server process [65758]
[INFO : 2025-03-26 23:40:12,220] Waiting for application startup.
[INFO : 2025-03-26 23:40:12,222] Application startup complete.
[WARNING : 2025-03-26 23:40:29,452] StatReload detected changes in 'auth/auth.py'. Reloading...
[INFO : 2025-03-26 23:40:29,531] Shutting down
[INFO : 2025-03-26 23:40:29,634] Waiting for application shutdown.
[INFO : 2025-03-26 23:40:29,635] Application shutdown complete.
[INFO : 2025-03-26 23:40:29,635] Finished server process [65758]
[INFO : 2025-03-26 23:40:29,992] Started server process [65785]
[INFO : 2025-03-26 23:40:29,993] Waiting for application startup.
[INFO : 2025-03-26 23:40:29,995] Application startup complete.
[WARNING : 2025-03-26 23:40:30,723] StatReload detected changes in 'auth/auth.py'. Reloading...
[INFO : 2025-03-26 23:40:30,804] Shutting down
[INFO : 2025-03-26 23:40:30,906] Waiting for application shutdown.
[INFO : 2025-03-26 23:40:30,906] Application shutdown complete.
[INFO : 2025-03-26 23:40:30,906] Finished server process [65785]
[INFO : 2025-03-26 23:40:31,191] Started server process [65791]
[INFO : 2025-03-26 23:40:31,191] Waiting for application startup.
[INFO : 2025-03-26 23:40:31,193] Application startup complete.
[WARNING : 2025-03-26 23:40:38,941] StatReload detected changes in 'auth/auth.py'. Reloading...
[INFO : 2025-03-26 23:40:38,976] Shutting down
[INFO : 2025-03-26 23:40:39,078] Waiting for application shutdown.
[INFO : 2025-03-26 23:40:39,079] Application shutdown complete.
[INFO : 2025-03-26 23:40:39,079] Finished server process [65791]
[INFO : 2025-03-26 23:40:39,404] Started server process [65811]
[INFO : 2025-03-26 23:40:39,404] Waiting for application startup.
[INFO : 2025-03-26 23:40:39,406] Application startup complete.
[ERROR : 2025-03-26 23:40:39,493] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 106, in __call__
    raise exc from None
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 103, in __call__
    await self.app(scope, receive, inner_send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Desktop/hw_short_link/api/v1/links/links.py", line 89, in short
    url: ShortLink = db.query(ShortLink).filter(ShortLink.short_url==short_code, ShortLink.user_id==user.id).first()
                                                                                                    ^^^^^^^
AttributeError: 'HTTPException' object has no attribute 'id'
[WARNING : 2025-03-26 23:40:55,768] StatReload detected changes in 'auth/auth.py'. Reloading...
[INFO : 2025-03-26 23:40:55,791] Shutting down
[INFO : 2025-03-26 23:40:55,892] Waiting for application shutdown.
[INFO : 2025-03-26 23:40:55,893] Application shutdown complete.
[INFO : 2025-03-26 23:40:55,893] Finished server process [65811]
[INFO : 2025-03-26 23:40:56,261] Started server process [65842]
[INFO : 2025-03-26 23:40:56,261] Waiting for application startup.
[INFO : 2025-03-26 23:40:56,263] Application startup complete.
[WARNING : 2025-03-26 23:40:57,240] StatReload detected changes in 'auth/auth.py'. Reloading...
[INFO : 2025-03-26 23:40:57,275] Shutting down
[INFO : 2025-03-26 23:40:57,376] Waiting for application shutdown.
[INFO : 2025-03-26 23:40:57,377] Application shutdown complete.
[INFO : 2025-03-26 23:40:57,377] Finished server process [65842]
[INFO : 2025-03-26 23:40:57,654] Started server process [65851]
[INFO : 2025-03-26 23:40:57,654] Waiting for application startup.
[INFO : 2025-03-26 23:40:57,656] Application startup complete.
[ERROR : 2025-03-26 23:40:59,974] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 106, in __call__
    raise exc from None
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 103, in __call__
    await self.app(scope, receive, inner_send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/concurrency.py", line 37, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Desktop/hw_short_link/api/v1/links/links.py", line 89, in short
    url: ShortLink = db.query(ShortLink).filter(ShortLink.short_url==short_code, ShortLink.user_id==user.id).first()
                                                                                                    ^^^^^^^
AttributeError: 'HTTPException' object has no attribute 'id'
[WARNING : 2025-03-26 23:41:27,159] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 23:41:27,221] Shutting down
[INFO : 2025-03-26 23:41:27,324] Waiting for application shutdown.
[INFO : 2025-03-26 23:41:27,325] Application shutdown complete.
[INFO : 2025-03-26 23:41:27,325] Finished server process [65851]
[WARNING : 2025-03-26 23:41:33,320] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 23:41:33,655] Started server process [65907]
[INFO : 2025-03-26 23:41:33,655] Waiting for application startup.
[INFO : 2025-03-26 23:41:33,657] Application startup complete.
[WARNING : 2025-03-26 23:41:58,926] StatReload detected changes in 'auth/auth.py'. Reloading...
[INFO : 2025-03-26 23:41:58,934] Shutting down
[INFO : 2025-03-26 23:41:59,036] Waiting for application shutdown.
[INFO : 2025-03-26 23:41:59,037] Application shutdown complete.
[INFO : 2025-03-26 23:41:59,037] Finished server process [65907]
[INFO : 2025-03-26 23:41:59,597] Started server process [65930]
[INFO : 2025-03-26 23:41:59,598] Waiting for application startup.
[INFO : 2025-03-26 23:41:59,599] Application startup complete.
[WARNING : 2025-03-26 23:43:08,132] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 23:43:08,165] Shutting down
[INFO : 2025-03-26 23:43:08,267] Waiting for application shutdown.
[INFO : 2025-03-26 23:43:08,269] Application shutdown complete.
[INFO : 2025-03-26 23:43:08,269] Finished server process [65930]
[INFO : 2025-03-26 23:43:08,678] Started server process [66019]
[INFO : 2025-03-26 23:43:08,678] Waiting for application startup.
[INFO : 2025-03-26 23:43:08,681] Application startup complete.
[WARNING : 2025-03-26 23:43:11,189] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 23:43:11,209] Shutting down
[INFO : 2025-03-26 23:43:11,310] Waiting for application shutdown.
[INFO : 2025-03-26 23:43:11,311] Application shutdown complete.
[INFO : 2025-03-26 23:43:11,311] Finished server process [66019]
[WARNING : 2025-03-26 23:43:11,885] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 23:43:14,202] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 23:43:20,406] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 23:43:23,249] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 23:43:24,539] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 23:43:31,253] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 23:43:36,947] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 23:43:38,494] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[WARNING : 2025-03-26 23:43:44,170] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 23:43:44,426] Started server process [66119]
[INFO : 2025-03-26 23:43:44,426] Waiting for application startup.
[INFO : 2025-03-26 23:43:44,428] Application startup complete.
[WARNING : 2025-03-26 23:43:51,127] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 23:43:51,202] Shutting down
[INFO : 2025-03-26 23:43:51,304] Waiting for application shutdown.
[INFO : 2025-03-26 23:43:51,305] Application shutdown complete.
[INFO : 2025-03-26 23:43:51,305] Finished server process [66119]
[INFO : 2025-03-26 23:43:51,624] Started server process [66134]
[INFO : 2025-03-26 23:43:51,624] Waiting for application startup.
[INFO : 2025-03-26 23:43:51,626] Application startup complete.
[WARNING : 2025-03-26 23:44:29,123] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 23:44:29,140] Shutting down
[INFO : 2025-03-26 23:44:29,242] Waiting for application shutdown.
[INFO : 2025-03-26 23:44:29,243] Application shutdown complete.
[INFO : 2025-03-26 23:44:29,243] Finished server process [66134]
[INFO : 2025-03-26 23:44:29,623] Started server process [66173]
[INFO : 2025-03-26 23:44:29,623] Waiting for application startup.
[INFO : 2025-03-26 23:44:29,625] Application startup complete.
[WARNING : 2025-03-26 23:45:31,909] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 23:45:31,922] Shutting down
[INFO : 2025-03-26 23:45:32,024] Waiting for application shutdown.
[INFO : 2025-03-26 23:45:32,025] Application shutdown complete.
[INFO : 2025-03-26 23:45:32,025] Finished server process [66173]
[INFO : 2025-03-26 23:45:32,391] Started server process [66227]
[INFO : 2025-03-26 23:45:32,391] Waiting for application startup.
[INFO : 2025-03-26 23:45:32,393] Application startup complete.
[WARNING : 2025-03-26 23:45:33,369] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 23:45:33,405] Shutting down
[INFO : 2025-03-26 23:45:33,506] Waiting for application shutdown.
[INFO : 2025-03-26 23:45:33,507] Application shutdown complete.
[INFO : 2025-03-26 23:45:33,507] Finished server process [66227]
[INFO : 2025-03-26 23:45:33,773] Started server process [66240]
[INFO : 2025-03-26 23:45:33,773] Waiting for application startup.
[INFO : 2025-03-26 23:45:33,774] Application startup complete.
[WARNING : 2025-03-26 23:46:15,459] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 23:46:15,540] Shutting down
[INFO : 2025-03-26 23:46:15,642] Waiting for application shutdown.
[INFO : 2025-03-26 23:46:15,643] Application shutdown complete.
[INFO : 2025-03-26 23:46:15,643] Finished server process [66240]
[INFO : 2025-03-26 23:46:16,065] Started server process [66282]
[INFO : 2025-03-26 23:46:16,065] Waiting for application startup.
[INFO : 2025-03-26 23:46:16,067] Application startup complete.
[WARNING : 2025-03-26 23:46:55,856] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 23:46:55,921] Shutting down
[INFO : 2025-03-26 23:46:56,023] Waiting for application shutdown.
[INFO : 2025-03-26 23:46:56,023] Application shutdown complete.
[INFO : 2025-03-26 23:46:56,024] Finished server process [66282]
[INFO : 2025-03-26 23:46:56,435] Started server process [66310]
[INFO : 2025-03-26 23:46:56,435] Waiting for application startup.
[INFO : 2025-03-26 23:46:56,437] Application startup complete.
[WARNING : 2025-03-26 23:47:06,443] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 23:47:06,447] Shutting down
[INFO : 2025-03-26 23:47:06,548] Waiting for application shutdown.
[INFO : 2025-03-26 23:47:06,549] Application shutdown complete.
[INFO : 2025-03-26 23:47:06,549] Finished server process [66310]
[INFO : 2025-03-26 23:47:07,018] Started server process [66328]
[INFO : 2025-03-26 23:47:07,018] Waiting for application startup.
[INFO : 2025-03-26 23:47:07,020] Application startup complete.
[WARNING : 2025-03-26 23:47:09,955] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 23:47:10,054] Shutting down
[INFO : 2025-03-26 23:47:10,155] Waiting for application shutdown.
[INFO : 2025-03-26 23:47:10,156] Application shutdown complete.
[INFO : 2025-03-26 23:47:10,156] Finished server process [66328]
[INFO : 2025-03-26 23:47:10,440] Started server process [66347]
[INFO : 2025-03-26 23:47:10,440] Waiting for application startup.
[INFO : 2025-03-26 23:47:10,441] Application startup complete.
[WARNING : 2025-03-26 23:47:11,511] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 23:47:11,552] Shutting down
[INFO : 2025-03-26 23:47:11,654] Waiting for application shutdown.
[INFO : 2025-03-26 23:47:11,655] Application shutdown complete.
[INFO : 2025-03-26 23:47:11,655] Finished server process [66347]
[INFO : 2025-03-26 23:47:11,926] Started server process [66353]
[INFO : 2025-03-26 23:47:11,926] Waiting for application startup.
[INFO : 2025-03-26 23:47:11,927] Application startup complete.
[WARNING : 2025-03-26 23:47:13,771] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 23:47:13,849] Shutting down
[INFO : 2025-03-26 23:47:13,951] Waiting for application shutdown.
[INFO : 2025-03-26 23:47:13,951] Application shutdown complete.
[INFO : 2025-03-26 23:47:13,951] Finished server process [66353]
[INFO : 2025-03-26 23:47:14,231] Started server process [66365]
[INFO : 2025-03-26 23:47:14,232] Waiting for application startup.
[INFO : 2025-03-26 23:47:14,233] Application startup complete.
[WARNING : 2025-03-26 23:47:15,286] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 23:47:15,346] Shutting down
[INFO : 2025-03-26 23:47:15,447] Waiting for application shutdown.
[INFO : 2025-03-26 23:47:15,448] Application shutdown complete.
[INFO : 2025-03-26 23:47:15,448] Finished server process [66365]
[INFO : 2025-03-26 23:47:15,757] Started server process [66372]
[INFO : 2025-03-26 23:47:15,757] Waiting for application startup.
[INFO : 2025-03-26 23:47:15,759] Application startup complete.
[WARNING : 2025-03-26 23:47:16,811] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-03-26 23:47:16,872] Shutting down
[INFO : 2025-03-26 23:47:16,973] Waiting for application shutdown.
[INFO : 2025-03-26 23:47:16,974] Application shutdown complete.
[INFO : 2025-03-26 23:47:16,974] Finished server process [66372]
[INFO : 2025-03-26 23:47:17,287] Started server process [66378]
[INFO : 2025-03-26 23:47:17,287] Waiting for application startup.
[INFO : 2025-03-26 23:47:17,289] Application startup complete.
[INFO : 2025-03-30 00:42:20,591] Will watch for changes in these directories: ['/Users/pavelsariia/Desktop/hw_short_link']
[INFO : 2025-03-30 00:42:20,592] Uvicorn running on http://0.0.0.0:8007 (Press CTRL+C to quit)
[INFO : 2025-03-30 00:42:20,592] Started reloader process [28801] using StatReload
[INFO : 2025-03-30 00:42:20,868] Started server process [28803]
[INFO : 2025-03-30 00:42:20,869] Waiting for application startup.
[INFO : 2025-03-30 00:42:20,871] Application startup complete.
[INFO : 2025-03-30 00:42:22,488] Shutting down
[INFO : 2025-03-30 00:42:22,590] Waiting for application shutdown.
[INFO : 2025-03-30 00:42:22,592] Application shutdown complete.
[INFO : 2025-03-30 00:42:22,592] Finished server process [28803]
[INFO : 2025-03-30 00:42:22,651] Stopping reloader process [28801]
[INFO : 2025-03-30 00:44:59,839] HTTP Request: POST http://testserver/links/ "HTTP/1.1 404 Not Found"
[INFO : 2025-03-30 00:44:59,865] HTTP Request: POST http://testserver/links/ "HTTP/1.1 404 Not Found"
[INFO : 2025-03-30 00:44:59,906] HTTP Request: GET http://testserver/links/999 "HTTP/1.1 200 OK"
[INFO : 2025-03-30 00:44:59,910] HTTP Request: POST http://testserver/links/ "HTTP/1.1 404 Not Found"
[INFO : 2025-03-30 00:44:59,911] HTTP Request: POST http://testserver/links/ "HTTP/1.1 404 Not Found"
[INFO : 2025-03-30 00:44:59,912] HTTP Request: GET http://testserver/links/ "HTTP/1.1 404 Not Found"
[INFO : 2025-03-30 00:44:59,914] HTTP Request: POST http://testserver/links/ "HTTP/1.1 404 Not Found"
[INFO : 2025-03-30 00:44:59,917] HTTP Request: POST http://testserver/links/ "HTTP/1.1 404 Not Found"
[INFO : 2025-03-30 00:45:17,949] HTTP Request: POST http://testserver/links/ "HTTP/1.1 404 Not Found"
[INFO : 2025-03-30 00:45:17,975] HTTP Request: POST http://testserver/links/ "HTTP/1.1 404 Not Found"
[INFO : 2025-03-30 00:45:18,001] HTTP Request: GET http://testserver/links/999 "HTTP/1.1 200 OK"
[INFO : 2025-03-30 00:45:18,004] HTTP Request: POST http://testserver/links/ "HTTP/1.1 404 Not Found"
[INFO : 2025-03-30 00:45:18,005] HTTP Request: POST http://testserver/links/ "HTTP/1.1 404 Not Found"
[INFO : 2025-03-30 00:45:18,006] HTTP Request: GET http://testserver/links/ "HTTP/1.1 404 Not Found"
[INFO : 2025-03-30 00:45:18,009] HTTP Request: POST http://testserver/links/ "HTTP/1.1 404 Not Found"
[INFO : 2025-03-30 00:45:18,011] HTTP Request: POST http://testserver/links/ "HTTP/1.1 404 Not Found"
[INFO : 2025-03-30 00:45:42,734] HTTP Request: POST http://testserver/links/ "HTTP/1.1 404 Not Found"
[INFO : 2025-03-30 00:45:42,761] HTTP Request: POST http://testserver/links/ "HTTP/1.1 404 Not Found"
[INFO : 2025-03-30 00:46:09,062] HTTP Request: POST http://testserver/links/ "HTTP/1.1 404 Not Found"
[INFO : 2025-03-30 00:46:09,088] HTTP Request: POST http://testserver/links/ "HTTP/1.1 404 Not Found"
[INFO : 2025-03-30 00:46:20,845] HTTP Request: POST http://testserver/links/ "HTTP/1.1 404 Not Found"
[INFO : 2025-03-30 00:46:20,876] HTTP Request: POST http://testserver/links/ "HTTP/1.1 404 Not Found"
[INFO : 2025-03-30 00:46:20,899] HTTP Request: GET http://testserver/links/%7B'detail':%20'Not%20Found'%7D "HTTP/1.1 200 OK"
[INFO : 2025-03-30 00:46:45,472] HTTP Request: POST http://testserver/links/ "HTTP/1.1 404 Not Found"
[INFO : 2025-03-30 00:46:45,498] HTTP Request: POST http://testserver/links/ "HTTP/1.1 404 Not Found"
[INFO : 2025-03-30 00:46:45,518] HTTP Request: GET http://testserver/links/%7B'detail':%20'Not%20Found'%7D "HTTP/1.1 200 OK"
[INFO : 2025-03-30 00:46:58,105] HTTP Request: POST http://testserver/links/ "HTTP/1.1 404 Not Found"
[INFO : 2025-03-30 00:46:58,131] HTTP Request: POST http://testserver/links/ "HTTP/1.1 404 Not Found"
[INFO : 2025-03-30 00:46:58,154] HTTP Request: GET http://testserver/links/%7B'detail':%20'Not%20Found'%7D "HTTP/1.1 200 OK"
[INFO : 2025-03-30 00:48:16,443] Will watch for changes in these directories: ['/Users/pavelsariia/Desktop/hw_short_link']
[INFO : 2025-03-30 00:48:16,443] Uvicorn running on http://0.0.0.0:8007 (Press CTRL+C to quit)
[INFO : 2025-03-30 00:48:16,443] Started reloader process [30062] using StatReload
[INFO : 2025-03-30 00:48:16,719] Started server process [30064]
[INFO : 2025-03-30 00:48:16,719] Waiting for application startup.
[INFO : 2025-03-30 00:48:16,722] Application startup complete.
[WARNING : 2025-03-30 00:48:48,520] StatReload detected changes in 'tests/test_links.py'. Reloading...
[INFO : 2025-03-30 00:48:48,561] Shutting down
[INFO : 2025-03-30 00:48:48,662] Waiting for application shutdown.
[INFO : 2025-03-30 00:48:48,662] Application shutdown complete.
[INFO : 2025-03-30 00:48:48,662] Finished server process [30064]
[INFO : 2025-03-30 00:48:49,080] Started server process [30086]
[INFO : 2025-03-30 00:48:49,080] Waiting for application startup.
[INFO : 2025-03-30 00:48:49,082] Application startup complete.
[INFO : 2025-03-30 00:48:49,184] Shutting down
[INFO : 2025-03-30 00:48:49,285] Waiting for application shutdown.
[INFO : 2025-03-30 00:48:49,285] Application shutdown complete.
[INFO : 2025-03-30 00:48:49,286] Finished server process [30086]
[INFO : 2025-03-30 00:48:49,337] Stopping reloader process [30062]
[INFO : 2025-03-30 00:48:52,245] HTTP Request: POST http://testserver/links/ "HTTP/1.1 404 Not Found"
[INFO : 2025-03-30 00:48:52,272] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 401 Unauthorized"
[INFO : 2025-03-30 00:48:52,297] HTTP Request: GET http://testserver/links/%7B'detail':%20'Not%20authenticated'%7D "HTTP/1.1 200 OK"
[INFO : 2025-03-30 01:59:03,894] HTTP Request: POST http://testserver/links/ "HTTP/1.1 404 Not Found"
[INFO : 2025-03-30 01:59:18,380] HTTP Request: POST http://testserver/links/shared "HTTP/1.1 405 Method Not Allowed"
[INFO : 2025-03-30 01:59:40,442] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 401 Unauthorized"
[INFO : 2025-03-30 02:15:14,171] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 401 Unauthorized"
[INFO : 2025-03-30 02:15:41,293] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 401 Unauthorized"
[INFO : 2025-03-30 02:15:59,964] link https://example.com
[INFO : 2025-03-30 02:15:59,967] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-30 02:16:31,573] link https://example.com
[INFO : 2025-03-30 02:16:31,576] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-30 02:17:19,937] link https://example.com
[INFO : 2025-03-30 02:17:19,941] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-30 02:18:19,450] link https://example.com
[INFO : 2025-03-30 02:18:19,460] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-30 02:18:28,511] link https://example.com
[INFO : 2025-03-30 02:18:28,516] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-30 02:23:11,110] link https://example.com
[INFO : 2025-03-30 02:23:11,115] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 18:47:54,099] link https://example.com
[INFO : 2025-03-31 18:47:54,103] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 18:48:04,298] link https://example.com
[INFO : 2025-03-31 18:48:04,302] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 18:48:23,203] link https://example.com
[INFO : 2025-03-31 18:48:23,207] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 18:48:30,109] link https://example.com
[INFO : 2025-03-31 18:48:30,115] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 18:48:32,434] link https://example.com
[INFO : 2025-03-31 18:48:32,438] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 18:48:34,848] link https://example.com
[INFO : 2025-03-31 18:48:34,852] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 18:48:44,553] link https://example.com
[INFO : 2025-03-31 18:48:44,557] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 18:59:31,840] HTTP Request: GET http://testserver/ "HTTP/1.1 200 OK"
[INFO : 2025-03-31 18:59:31,872] link https://example.com
[INFO : 2025-03-31 18:59:31,878] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 18:59:35,160] HTTP Request: GET http://testserver/ "HTTP/1.1 200 OK"
[INFO : 2025-03-31 18:59:35,193] link https://example.com
[INFO : 2025-03-31 18:59:35,200] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 18:59:44,401] HTTP Request: GET http://testserver/ "HTTP/1.1 200 OK"
[INFO : 2025-03-31 18:59:44,407] link https://example.com
[INFO : 2025-03-31 18:59:44,413] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:00:08,080] HTTP Request: GET http://testserver/ "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:00:08,087] link https://example.com
[INFO : 2025-03-31 19:00:08,092] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:00:12,862] HTTP Request: GET http://testserver/ "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:00:12,867] link https://example.com
[INFO : 2025-03-31 19:00:12,873] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:00:17,116] HTTP Request: GET http://testserver/ "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:00:17,122] link https://example.com
[INFO : 2025-03-31 19:00:17,127] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:00:30,162] HTTP Request: GET http://testserver/ "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:00:30,168] link https://example.com
[INFO : 2025-03-31 19:00:30,173] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:00:45,279] link https://example.com
[INFO : 2025-03-31 19:00:45,287] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:00:47,394] link https://example.com
[INFO : 2025-03-31 19:00:47,400] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:26:06,064] link https://example.com
[INFO : 2025-03-31 19:26:06,072] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:26:12,348] link https://example.com
[INFO : 2025-03-31 19:26:12,353] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:26:33,617] link https://example.com
[INFO : 2025-03-31 19:26:33,622] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:27:41,975] link https://example.com
[INFO : 2025-03-31 19:27:41,980] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:27:41,984] HTTP Request: GET http://testserver/links/Example%20Site "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:30:07,379] link https://example.com
[INFO : 2025-03-31 19:30:07,384] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:31:50,778] link https://example.com
[INFO : 2025-03-31 19:31:50,783] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:31:50,788] HTTP Request: GET http://testserver/links/Example%20Site "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:33:38,799] link https://example.com
[INFO : 2025-03-31 19:33:38,804] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:33:38,809] HTTP Request: GET http://testserver/links/Example%20Site "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:33:49,353] link https://example.com
[INFO : 2025-03-31 19:33:49,357] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:33:49,362] HTTP Request: GET http://testserver/links/Example%20Site "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:33:58,931] link https://example.com
[INFO : 2025-03-31 19:33:58,935] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:33:58,941] HTTP Request: GET http://testserver/links/Example%20Site "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:34:39,297] link https://example.com
[INFO : 2025-03-31 19:34:39,303] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:34:39,449] HTTP Request: GET http://testserver/links/Example%20Site "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:34:51,442] link https://example.com
[INFO : 2025-03-31 19:34:51,448] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:34:51,472] HTTP Request: GET http://testserver/links/Example%20Site "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:34:57,519] link https://example.com
[INFO : 2025-03-31 19:34:57,524] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:34:57,545] HTTP Request: GET http://testserver/links/Example%20Site "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:35:10,646] link https://example.com
[INFO : 2025-03-31 19:35:10,651] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:35:10,677] HTTP Request: GET http://testserver/links/Example%20Site "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:35:16,456] link https://example.com
[INFO : 2025-03-31 19:35:16,461] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:35:16,483] HTTP Request: GET http://testserver/links/Example%20Site "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:35:29,893] link https://example.com
[INFO : 2025-03-31 19:35:29,898] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:35:41,526] link https://example.com
[INFO : 2025-03-31 19:35:41,531] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:35:41,559] HTTP Request: GET http://testserver/links/Example%20Site "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:36:04,469] link https://example.com
[INFO : 2025-03-31 19:36:04,473] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:36:10,026] link https://example.com
[INFO : 2025-03-31 19:36:10,031] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:36:14,349] link https://example.com
[INFO : 2025-03-31 19:36:14,353] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:36:14,358] HTTP Request: GET http://testserver/links/Example%20Site "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:36:31,827] link https://example.com
[INFO : 2025-03-31 19:36:31,832] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:36:31,839] HTTP Request: GET http://testserver/links/Example%20Site "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:36:42,361] link https://example.com
[INFO : 2025-03-31 19:36:42,366] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[ERROR : 2025-03-31 19:36:42,370] Exception during reset or similar
Traceback (most recent call last):
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 739, in _finalize_fairy
    fairy._reset(pool)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 988, in _reset
    pool._dialect.do_rollback(self)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 682, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 8102158016 and this is thread id 6168064000.
[ERROR : 2025-03-31 19:36:42,371] Exception closing connection <sqlite3.Connection object at 0x105ba15d0>
Traceback (most recent call last):
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 739, in _finalize_fairy
    fairy._reset(pool)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 988, in _reset
    pool._dialect.do_rollback(self)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 682, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 8102158016 and this is thread id 6168064000.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 247, in _close_connection
    self._dialect.do_close(connection)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 688, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 8102158016 and this is thread id 6168064000.
[INFO : 2025-03-31 19:36:42,374] HTTP Request: GET http://testserver/links/Example%20Site "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:36:51,769] link https://example.com
[INFO : 2025-03-31 19:36:51,773] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[ERROR : 2025-03-31 19:36:51,777] Exception during reset or similar
Traceback (most recent call last):
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 739, in _finalize_fairy
    fairy._reset(pool)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 988, in _reset
    pool._dialect.do_rollback(self)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 682, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 8102158016 and this is thread id 6126743552.
[ERROR : 2025-03-31 19:36:51,779] Exception closing connection <sqlite3.Connection object at 0x10830d5d0>
Traceback (most recent call last):
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 739, in _finalize_fairy
    fairy._reset(pool)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 988, in _reset
    pool._dialect.do_rollback(self)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 682, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 8102158016 and this is thread id 6126743552.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 247, in _close_connection
    self._dialect.do_close(connection)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 688, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 8102158016 and this is thread id 6126743552.
[INFO : 2025-03-31 19:36:51,781] HTTP Request: GET http://testserver/links/Example%20Site "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:37:31,947] link https://example.com
[INFO : 2025-03-31 19:37:31,952] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:37:31,957] HTTP Request: GET http://testserver/links/Example%20Site "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:37:57,870] link https://example.com
[INFO : 2025-03-31 19:37:57,875] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:37:57,880] HTTP Request: GET http://testserver/links/Example%20Site "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:38:13,486] link https://example.com
[INFO : 2025-03-31 19:38:13,490] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:38:13,496] HTTP Request: GET http://testserver/links/Example%20Site "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:46:50,727] link https://example.com
[INFO : 2025-03-31 19:47:19,147] link https://example.com
[INFO : 2025-03-31 19:48:35,045] link https://example.com
[INFO : 2025-03-31 19:48:48,541] link https://example.com
[INFO : 2025-03-31 19:48:48,546] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 19:59:35,954] link https://example.com
[INFO : 2025-03-31 19:59:35,960] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:03:54,367] link https://example.com
[INFO : 2025-03-31 20:03:54,372] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:04:42,029] link https://example.com
[INFO : 2025-03-31 20:04:42,033] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:05:10,031] link https://example.com
[INFO : 2025-03-31 20:05:10,036] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:05:24,345] link https://example.com
[INFO : 2025-03-31 20:05:24,349] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:06:23,164] link https://example.com
[INFO : 2025-03-31 20:06:23,169] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:06:23,174] HTTP Request: GET http://testserver/links/Example%20Site "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:06:35,111] link https://example.com
[INFO : 2025-03-31 20:06:35,116] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:06:35,122] HTTP Request: GET http://testserver/links/Example%20Site "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:06:49,091] link https://example.com
[INFO : 2025-03-31 20:06:49,095] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:06:49,102] HTTP Request: GET http://testserver/links/Example%20Site "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:12:28,231] link https://example.com
[INFO : 2025-03-31 20:12:28,236] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:12:28,242] HTTP Request: GET http://testserver/links/Example%20Site "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:12:28,247] HTTP Request: DELETE http://testserver/links/Example%20Site "HTTP/1.1 400 Bad Request"
[INFO : 2025-03-31 20:12:32,872] link https://example.com
[INFO : 2025-03-31 20:12:32,877] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:12:32,882] HTTP Request: GET http://testserver/links/Example%20Site "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:12:32,886] HTTP Request: DELETE http://testserver/links/Example%20Site "HTTP/1.1 400 Bad Request"
[INFO : 2025-03-31 20:14:28,174] link https://example.com
[INFO : 2025-03-31 20:14:28,179] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:14:28,185] HTTP Request: GET http://testserver/links/Example%20Site "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:14:28,190] HTTP Request: DELETE http://testserver/links/Example%20Site "HTTP/1.1 400 Bad Request"
[INFO : 2025-03-31 20:14:30,793] link https://example.com
[INFO : 2025-03-31 20:14:30,797] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:14:30,803] HTTP Request: GET http://testserver/links/Example%20Site "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:14:30,808] HTTP Request: DELETE http://testserver/links/Example%20Site "HTTP/1.1 400 Bad Request"
[INFO : 2025-03-31 20:16:10,519] link https://example.com
[INFO : 2025-03-31 20:16:10,524] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:16:10,530] HTTP Request: GET http://testserver/links/Example%20Site "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:16:10,535] HTTP Request: DELETE http://testserver/links/Example%20Site "HTTP/1.1 400 Bad Request"
[INFO : 2025-03-31 20:20:27,529] link https://example.com
[INFO : 2025-03-31 20:20:27,892] HTTP Request: DELETE http://testserver/links/123 "HTTP/1.1 400 Bad Request"
[INFO : 2025-03-31 20:20:29,940] link https://example.com
[INFO : 2025-03-31 20:20:30,304] HTTP Request: DELETE http://testserver/links/123 "HTTP/1.1 400 Bad Request"
[INFO : 2025-03-31 20:21:08,525] link https://example.com
[INFO : 2025-03-31 20:21:08,529] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:21:08,536] HTTP Request: GET http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:21:30,062] HTTP Request: GET http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:21:32,178] HTTP Request: GET http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:23:24,099] HTTP Request: DELETE http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:23:28,797] HTTP Request: DELETE http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:25:31,873] HTTP Request: DELETE http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:25:58,072] HTTP Request: DELETE http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:32:37,389] link https://example.com
[INFO : 2025-03-31 20:32:37,391] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 400 Bad Request"
[INFO : 2025-03-31 20:33:22,829] link https://example.com
[INFO : 2025-03-31 20:33:22,831] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 400 Bad Request"
[INFO : 2025-03-31 20:33:24,064] link https://example.com
[INFO : 2025-03-31 20:33:24,066] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 400 Bad Request"
[INFO : 2025-03-31 20:33:35,460] link https://example.com
[INFO : 2025-03-31 20:33:35,462] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 400 Bad Request"
[INFO : 2025-03-31 20:34:06,244] link https://example.com
[INFO : 2025-03-31 20:34:06,248] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[ERROR : 2025-03-31 20:34:06,262] Exception during reset or similar
Traceback (most recent call last):
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 739, in _finalize_fairy
    fairy._reset(pool)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 988, in _reset
    pool._dialect.do_rollback(self)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 682, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 6160461824 and this is thread id 8102158016.
[ERROR : 2025-03-31 20:34:06,264] Exception closing connection <sqlite3.Connection object at 0x1063a4d60>
Traceback (most recent call last):
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 739, in _finalize_fairy
    fairy._reset(pool)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 988, in _reset
    pool._dialect.do_rollback(self)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 682, in do_rollback
    dbapi_connection.rollback()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 6160461824 and this is thread id 8102158016.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/pool/base.py", line 247, in _close_connection
    self._dialect.do_close(connection)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 688, in do_close
    dbapi_connection.close()
sqlite3.ProgrammingError: SQLite objects created in a thread can only be used in that same thread. The object was created in thread id 6160461824 and this is thread id 8102158016.
[INFO : 2025-03-31 20:34:10,720] link https://example.com
[INFO : 2025-03-31 20:34:10,725] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:34:12,364] link https://example.com
[INFO : 2025-03-31 20:34:12,369] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:34:16,306] link https://example.com
[INFO : 2025-03-31 20:34:16,311] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:38:54,758] link https://example.com
[INFO : 2025-03-31 20:38:54,760] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 400 Bad Request"
[INFO : 2025-03-31 20:38:58,062] link https://example.com
[INFO : 2025-03-31 20:38:58,064] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 400 Bad Request"
[INFO : 2025-03-31 20:40:37,314] HTTP Request: POST http://testserver/links/ "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:40:48,318] HTTP Request: POST http://testserver/links/ "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:41:52,320] HTTP Request: POST http://testserver/links/ "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:42:31,097] HTTP Request: POST http://testserver/links/ "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:43:05,155] link https://example.com
[INFO : 2025-03-31 20:43:05,157] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:43:36,198] link https://example.com
[INFO : 2025-03-31 20:43:36,200] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:43:56,122] link https://example.com
[INFO : 2025-03-31 20:43:56,124] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 400 Bad Request"
[INFO : 2025-03-31 20:44:54,359] link https://example.com
[INFO : 2025-03-31 20:44:54,362] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:44:58,368] link https://example.com
[INFO : 2025-03-31 20:44:58,371] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:45:02,693] link https://example.com
[INFO : 2025-03-31 20:45:02,696] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:45:02,699] HTTP Request: GET http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:45:15,226] link https://example.com
[INFO : 2025-03-31 20:45:15,228] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:45:15,231] HTTP Request: GET http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:45:24,328] link https://example.com
[INFO : 2025-03-31 20:45:24,330] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:45:24,333] HTTP Request: GET http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:45:24,336] HTTP Request: DELETE http://testserver/links/123 "HTTP/1.1 400 Bad Request"
[INFO : 2025-03-31 20:45:32,775] link https://example.com
[INFO : 2025-03-31 20:45:32,777] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:45:32,779] HTTP Request: GET http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:45:32,782] HTTP Request: DELETE http://testserver/links/123 "HTTP/1.1 400 Bad Request"
[INFO : 2025-03-31 20:45:35,503] link https://example.com
[INFO : 2025-03-31 20:45:35,505] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:45:35,507] HTTP Request: GET http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:45:35,510] HTTP Request: DELETE http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:46:40,899] link https://example.com
[INFO : 2025-03-31 20:46:40,900] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:46:40,903] HTTP Request: GET http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 20:46:40,906] HTTP Request: DELETE http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:03:42,317] link https://example.com
[INFO : 2025-03-31 22:03:42,319] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:03:42,321] HTTP Request: GET http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:03:42,324] HTTP Request: DELETE http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:03:42,328] HTTP Request: DELETE http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:04:06,578] link https://example.com
[INFO : 2025-03-31 22:04:06,580] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:04:06,583] HTTP Request: GET http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:04:06,585] HTTP Request: DELETE http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:04:06,588] HTTP Request: DELETE http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:05:33,253] link https://example.com
[INFO : 2025-03-31 22:05:33,256] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:05:33,259] HTTP Request: GET http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:05:33,262] HTTP Request: DELETE http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:05:33,266] HTTP Request: PUT http://testserver/links/123 "HTTP/1.1 422 Unprocessable Entity"
[INFO : 2025-03-31 22:05:46,382] link https://example.com
[INFO : 2025-03-31 22:05:46,384] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:05:46,386] HTTP Request: GET http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:05:46,389] HTTP Request: DELETE http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:05:46,392] HTTP Request: PUT http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:06:48,209] link https://example.com
[INFO : 2025-03-31 22:06:48,211] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:06:48,214] HTTP Request: GET http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:06:48,217] HTTP Request: DELETE http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:06:48,220] HTTP Request: PUT http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:07:03,429] link https://example.com
[INFO : 2025-03-31 22:07:03,431] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:07:03,434] HTTP Request: GET http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:07:03,437] HTTP Request: DELETE http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:07:03,440] HTTP Request: PUT http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:07:16,018] link https://example.com
[INFO : 2025-03-31 22:07:16,020] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:07:16,023] HTTP Request: GET http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:07:16,026] HTTP Request: DELETE http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:07:16,029] HTTP Request: PUT http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:07:31,853] link https://example.com
[INFO : 2025-03-31 22:07:31,855] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:07:31,858] HTTP Request: GET http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:07:31,861] HTTP Request: DELETE http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:07:31,864] HTTP Request: PUT http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:07:33,907] link https://example.com
[INFO : 2025-03-31 22:07:33,909] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:07:33,912] HTTP Request: GET http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:07:33,914] HTTP Request: DELETE http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:07:33,917] HTTP Request: PUT http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:07:50,528] link https://example.com
[INFO : 2025-03-31 22:07:50,530] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:07:50,532] HTTP Request: GET http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:07:50,536] HTTP Request: DELETE http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:07:50,539] HTTP Request: PUT http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:08:22,458] link https://example.com
[INFO : 2025-03-31 22:08:22,459] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:08:22,462] HTTP Request: GET http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:08:22,465] HTTP Request: DELETE http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:08:22,468] HTTP Request: PUT http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:08:39,104] link https://example.com
[INFO : 2025-03-31 22:08:39,106] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:08:39,109] HTTP Request: GET http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:08:39,111] HTTP Request: DELETE http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:08:39,115] HTTP Request: PUT http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:13:51,775] link https://example.com
[INFO : 2025-03-31 22:13:51,778] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:13:51,780] HTTP Request: GET http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:13:51,783] HTTP Request: DELETE http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:13:51,786] HTTP Request: PUT http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:13:51,788] HTTP Request: PUT http://testserver/links/123/stats "HTTP/1.1 405 Method Not Allowed"
[INFO : 2025-03-31 22:14:04,363] link https://example.com
[INFO : 2025-03-31 22:14:04,365] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:14:04,368] HTTP Request: GET http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:14:04,370] HTTP Request: DELETE http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:14:04,373] HTTP Request: PUT http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:14:04,375] HTTP Request: GET http://testserver/links/123/stats "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:14:18,329] link https://example.com
[INFO : 2025-03-31 22:14:18,331] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:14:18,334] HTTP Request: GET http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:14:18,336] HTTP Request: DELETE http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:14:18,339] HTTP Request: PUT http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:14:18,342] HTTP Request: GET http://testserver/links/123/stats "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:14:53,971] link https://example.com
[INFO : 2025-03-31 22:14:53,973] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:14:53,976] HTTP Request: GET http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:14:53,979] HTTP Request: DELETE http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:14:53,982] HTTP Request: PUT http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:14:53,984] HTTP Request: GET http://testserver/links/123/stats "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:15:24,008] link https://example.com
[INFO : 2025-03-31 22:15:24,010] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:15:24,013] HTTP Request: GET http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:15:24,016] HTTP Request: DELETE http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:15:24,019] HTTP Request: PUT http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:15:24,021] HTTP Request: GET http://testserver/links/123/stats "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:22:46,107] HTTP Request: POST http://testserver/token "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:22:56,273] HTTP Request: POST http://testserver/token "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:23:02,585] HTTP Request: POST http://testserver/token "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:23:09,942] HTTP Request: POST http://testserver/token "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:23:32,692] HTTP Request: POST http://testserver/token "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:28:16,763] HTTP Request: POST http://testserver/register "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:28:22,443] HTTP Request: POST http://testserver/register "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:28:38,127] HTTP Request: POST http://testserver/register "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:28:52,352] HTTP Request: POST http://testserver/register "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:32:37,664] HTTP Request: POST http://testserver/register "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:32:40,345] HTTP Request: POST http://testserver/register "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:33:07,932] HTTP Request: POST http://testserver/register "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:33:10,367] HTTP Request: POST http://testserver/register "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:33:12,528] HTTP Request: POST http://testserver/register "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:33:25,991] HTTP Request: POST http://testserver/register "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:34:03,576] HTTP Request: POST http://testserver/register "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:34:05,358] HTTP Request: POST http://testserver/register "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:34:09,615] HTTP Request: POST http://testserver/register "HTTP/1.1 200 OK"
[INFO : 2025-03-31 22:34:13,859] HTTP Request: POST http://testserver/register "HTTP/1.1 200 OK"
[INFO : 2025-04-01 23:27:05,590] link https://example.com
[INFO : 2025-04-01 23:27:05,592] HTTP Request: POST http://testserver/links/shorten "HTTP/1.1 200 OK"
[INFO : 2025-04-01 23:27:05,595] HTTP Request: GET http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-04-01 23:27:05,597] HTTP Request: DELETE http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-04-01 23:27:05,601] HTTP Request: PUT http://testserver/links/123 "HTTP/1.1 200 OK"
[INFO : 2025-04-01 23:27:05,604] HTTP Request: GET http://testserver/links/123/stats "HTTP/1.1 200 OK"
[INFO : 2025-04-01 23:27:21,829] Will watch for changes in these directories: ['/Users/pavelsariia/Desktop/hw_short_link']
[INFO : 2025-04-01 23:27:21,830] Uvicorn running on http://0.0.0.0:8007 (Press CTRL+C to quit)
[INFO : 2025-04-01 23:27:21,830] Started reloader process [77614] using StatReload
[INFO : 2025-04-01 23:27:22,103] Started server process [77616]
[INFO : 2025-04-01 23:27:22,104] Waiting for application startup.
[INFO : 2025-04-01 23:27:22,106] Application startup complete.
[INFO : 2025-04-01 23:30:57,346] link string
[INFO : 2025-04-01 23:31:21,688] link string
[INFO : 2025-04-01 23:31:25,027] link string
[ERROR : 2025-04-01 23:33:39,123] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 106, in __call__
    raise exc from None
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 103, in __call__
    await self.app(scope, receive, inner_send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 176, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 2 validation errors:
  {'loc': ('response', 'access_token'), 'msg': 'field required', 'type': 'value_error.missing'}
  {'loc': ('response', 'token_type'), 'msg': 'field required', 'type': 'value_error.missing'}

[ERROR : 2025-04-01 23:34:50,636] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 106, in __call__
    raise exc from None
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 103, in __call__
    await self.app(scope, receive, inner_send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 176, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 2 validation errors:
  {'loc': ('response', 'access_token'), 'msg': 'field required', 'type': 'value_error.missing'}
  {'loc': ('response', 'token_type'), 'msg': 'field required', 'type': 'value_error.missing'}

[WARNING : 2025-04-01 23:35:07,191] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-04-01 23:35:07,293] Shutting down
[INFO : 2025-04-01 23:35:07,395] Waiting for application shutdown.
[INFO : 2025-04-01 23:35:07,397] Application shutdown complete.
[INFO : 2025-04-01 23:35:07,397] Finished server process [77616]
[INFO : 2025-04-01 23:35:07,898] Started server process [77787]
[INFO : 2025-04-01 23:35:07,898] Waiting for application startup.
[INFO : 2025-04-01 23:35:07,900] Application startup complete.
[WARNING : 2025-04-01 23:35:08,494] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-04-01 23:35:08,507] Shutting down
[INFO : 2025-04-01 23:35:08,608] Waiting for application shutdown.
[INFO : 2025-04-01 23:35:08,609] Application shutdown complete.
[INFO : 2025-04-01 23:35:08,609] Finished server process [77787]
[INFO : 2025-04-01 23:35:08,925] Started server process [77793]
[INFO : 2025-04-01 23:35:08,925] Waiting for application startup.
[INFO : 2025-04-01 23:35:08,927] Application startup complete.
[WARNING : 2025-04-01 23:35:10,988] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-04-01 23:35:11,050] Shutting down
[INFO : 2025-04-01 23:35:11,151] Waiting for application shutdown.
[INFO : 2025-04-01 23:35:11,151] Application shutdown complete.
[INFO : 2025-04-01 23:35:11,151] Finished server process [77793]
[INFO : 2025-04-01 23:35:11,480] Started server process [77804]
[INFO : 2025-04-01 23:35:11,480] Waiting for application startup.
[INFO : 2025-04-01 23:35:11,482] Application startup complete.
[WARNING : 2025-04-01 23:35:13,260] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-04-01 23:35:13,301] Shutting down
[INFO : 2025-04-01 23:35:13,402] Waiting for application shutdown.
[INFO : 2025-04-01 23:35:13,402] Application shutdown complete.
[INFO : 2025-04-01 23:35:13,403] Finished server process [77804]
[INFO : 2025-04-01 23:35:13,739] Started server process [77813]
[INFO : 2025-04-01 23:35:13,739] Waiting for application startup.
[INFO : 2025-04-01 23:35:13,741] Application startup complete.
[WARNING : 2025-04-01 23:35:23,773] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-04-01 23:35:23,850] Shutting down
[INFO : 2025-04-01 23:35:23,951] Waiting for application shutdown.
[INFO : 2025-04-01 23:35:23,951] Application shutdown complete.
[INFO : 2025-04-01 23:35:23,952] Finished server process [77813]
[WARNING : 2025-04-01 23:35:24,519] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-04-01 23:35:24,906] Started server process [77836]
[INFO : 2025-04-01 23:35:24,906] Waiting for application startup.
[INFO : 2025-04-01 23:35:24,908] Application startup complete.
[ERROR : 2025-04-01 23:35:33,032] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 106, in __call__
    raise exc from None
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 103, in __call__
    await self.app(scope, receive, inner_send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 176, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 2 validation errors:
  {'loc': ('response', 'access_token'), 'msg': 'field required', 'type': 'value_error.missing'}
  {'loc': ('response', 'token_type'), 'msg': 'field required', 'type': 'value_error.missing'}

[ERROR : 2025-04-01 23:35:36,513] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 106, in __call__
    raise exc from None
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 103, in __call__
    await self.app(scope, receive, inner_send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 176, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 2 validation errors:
  {'loc': ('response', 'access_token'), 'msg': 'field required', 'type': 'value_error.missing'}
  {'loc': ('response', 'token_type'), 'msg': 'field required', 'type': 'value_error.missing'}

[WARNING : 2025-04-01 23:35:50,271] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-04-01 23:35:50,284] Shutting down
[INFO : 2025-04-01 23:35:50,387] Waiting for application shutdown.
[INFO : 2025-04-01 23:35:50,388] Application shutdown complete.
[INFO : 2025-04-01 23:35:50,388] Finished server process [77836]
[INFO : 2025-04-01 23:35:50,838] Started server process [77882]
[INFO : 2025-04-01 23:35:50,838] Waiting for application startup.
[INFO : 2025-04-01 23:35:50,841] Application startup complete.
[WARNING : 2025-04-01 23:35:59,800] StatReload detected changes in 'main.py'. Reloading...
[INFO : 2025-04-01 23:35:59,842] Shutting down
[INFO : 2025-04-01 23:35:59,944] Waiting for application shutdown.
[INFO : 2025-04-01 23:35:59,945] Application shutdown complete.
[INFO : 2025-04-01 23:35:59,945] Finished server process [77882]
[INFO : 2025-04-01 23:36:00,361] Started server process [77902]
[INFO : 2025-04-01 23:36:00,361] Waiting for application startup.
[INFO : 2025-04-01 23:36:00,363] Application startup complete.
[ERROR : 2025-04-01 23:36:01,722] Exception in ASGI application
Traceback (most recent call last):
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(self.scope, self.receive, self.send)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 106, in __call__
    raise exc from None
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/uvicorn/middleware/debug.py", line 103, in __call__
    await self.app(scope, receive, inner_send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 173, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 175, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 153, in call_next
    raise app_exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/base.py", line 140, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/pavelsariia/Library/Caches/pypoetry/virtualenvs/widget-micro-IAur66lR-py3.11/lib/python3.11/site-packages/fastapi/routing.py", line 176, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 2 validation errors:
  {'loc': ('response', 'access_token'), 'msg': 'field required', 'type': 'value_error.missing'}
  {'loc': ('response', 'token_type'), 'msg': 'field required', 'type': 'value_error.missing'}

[INFO : 2025-04-01 23:38:05,678] link string
[INFO : 2025-04-01 23:38:06,342] link string
[INFO : 2025-04-01 23:38:13,648] link string
[INFO : 2025-04-01 23:38:14,177] link string
[WARNING : 2025-04-01 23:39:31,282] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-04-01 23:39:31,296] Shutting down
[INFO : 2025-04-01 23:39:31,398] Waiting for application shutdown.
[INFO : 2025-04-01 23:39:31,399] Application shutdown complete.
[INFO : 2025-04-01 23:39:31,399] Finished server process [77902]
[INFO : 2025-04-01 23:39:31,883] Started server process [79713]
[INFO : 2025-04-01 23:39:31,883] Waiting for application startup.
[INFO : 2025-04-01 23:39:31,885] Application startup complete.
[WARNING : 2025-04-01 23:39:36,152] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-04-01 23:39:36,237] Shutting down
[INFO : 2025-04-01 23:39:36,339] Waiting for application shutdown.
[INFO : 2025-04-01 23:39:36,339] Application shutdown complete.
[INFO : 2025-04-01 23:39:36,339] Finished server process [79713]
[INFO : 2025-04-01 23:39:36,674] Started server process [79739]
[INFO : 2025-04-01 23:39:36,674] Waiting for application startup.
[INFO : 2025-04-01 23:39:36,676] Application startup complete.
[WARNING : 2025-04-01 23:40:14,695] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-04-01 23:40:14,783] Shutting down
[INFO : 2025-04-01 23:40:14,885] Waiting for application shutdown.
[INFO : 2025-04-01 23:40:14,886] Application shutdown complete.
[INFO : 2025-04-01 23:40:14,886] Finished server process [79739]
[INFO : 2025-04-01 23:40:15,306] Started server process [79771]
[INFO : 2025-04-01 23:40:15,306] Waiting for application startup.
[INFO : 2025-04-01 23:40:15,309] Application startup complete.
[WARNING : 2025-04-01 23:40:16,752] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-04-01 23:40:16,825] Shutting down
[INFO : 2025-04-01 23:40:16,927] Waiting for application shutdown.
[INFO : 2025-04-01 23:40:16,927] Application shutdown complete.
[INFO : 2025-04-01 23:40:16,927] Finished server process [79771]
[INFO : 2025-04-01 23:40:17,308] Started server process [79783]
[INFO : 2025-04-01 23:40:17,309] Waiting for application startup.
[INFO : 2025-04-01 23:40:17,310] Application startup complete.
[INFO : 2025-04-01 23:40:50,024] link string
[WARNING : 2025-04-01 23:40:58,531] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-04-01 23:40:58,562] Shutting down
[INFO : 2025-04-01 23:40:58,663] Waiting for application shutdown.
[INFO : 2025-04-01 23:40:58,664] Application shutdown complete.
[INFO : 2025-04-01 23:40:58,664] Finished server process [79783]
[INFO : 2025-04-01 23:40:59,102] Started server process [79807]
[INFO : 2025-04-01 23:40:59,102] Waiting for application startup.
[INFO : 2025-04-01 23:40:59,105] Application startup complete.
[WARNING : 2025-04-01 23:41:03,869] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-04-01 23:41:03,957] Shutting down
[INFO : 2025-04-01 23:41:04,059] Waiting for application shutdown.
[INFO : 2025-04-01 23:41:04,060] Application shutdown complete.
[INFO : 2025-04-01 23:41:04,060] Finished server process [79807]
[INFO : 2025-04-01 23:41:04,504] Started server process [79822]
[INFO : 2025-04-01 23:41:04,504] Waiting for application startup.
[INFO : 2025-04-01 23:41:04,507] Application startup complete.
[INFO : 2025-04-01 23:41:12,290] link string
[INFO : 2025-04-01 23:41:12,438] link string
[INFO : 2025-04-01 23:41:12,882] link string
[INFO : 2025-04-01 23:41:13,084] link string
[WARNING : 2025-04-01 23:42:04,094] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-04-01 23:42:04,160] Shutting down
[INFO : 2025-04-01 23:42:04,262] Waiting for application shutdown.
[INFO : 2025-04-01 23:42:04,263] Application shutdown complete.
[INFO : 2025-04-01 23:42:04,263] Finished server process [79822]
[INFO : 2025-04-01 23:42:04,730] Started server process [79857]
[INFO : 2025-04-01 23:42:04,730] Waiting for application startup.
[INFO : 2025-04-01 23:42:04,733] Application startup complete.
[WARNING : 2025-04-01 23:42:05,372] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-04-01 23:42:05,440] Shutting down
[INFO : 2025-04-01 23:42:05,542] Waiting for application shutdown.
[INFO : 2025-04-01 23:42:05,542] Application shutdown complete.
[INFO : 2025-04-01 23:42:05,542] Finished server process [79857]
[INFO : 2025-04-01 23:42:05,858] Started server process [79865]
[INFO : 2025-04-01 23:42:05,858] Waiting for application startup.
[INFO : 2025-04-01 23:42:05,860] Application startup complete.
[WARNING : 2025-04-01 23:42:10,465] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-04-01 23:42:10,507] Shutting down
[INFO : 2025-04-01 23:42:10,608] Waiting for application shutdown.
[INFO : 2025-04-01 23:42:10,609] Application shutdown complete.
[INFO : 2025-04-01 23:42:10,609] Finished server process [79865]
[INFO : 2025-04-01 23:42:10,980] Started server process [79881]
[INFO : 2025-04-01 23:42:10,980] Waiting for application startup.
[INFO : 2025-04-01 23:42:10,982] Application startup complete.
[WARNING : 2025-04-01 23:42:29,822] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-04-01 23:42:29,884] Shutting down
[INFO : 2025-04-01 23:42:29,986] Waiting for application shutdown.
[INFO : 2025-04-01 23:42:29,986] Application shutdown complete.
[INFO : 2025-04-01 23:42:29,986] Finished server process [79881]
[INFO : 2025-04-01 23:42:30,389] Started server process [79896]
[INFO : 2025-04-01 23:42:30,390] Waiting for application startup.
[INFO : 2025-04-01 23:42:30,392] Application startup complete.
[WARNING : 2025-04-01 23:42:32,875] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-04-01 23:42:32,923] Shutting down
[INFO : 2025-04-01 23:42:33,025] Waiting for application shutdown.
[INFO : 2025-04-01 23:42:33,025] Application shutdown complete.
[INFO : 2025-04-01 23:42:33,025] Finished server process [79896]
[INFO : 2025-04-01 23:42:33,368] Started server process [79910]
[INFO : 2025-04-01 23:42:33,368] Waiting for application startup.
[INFO : 2025-04-01 23:42:33,370] Application startup complete.
[WARNING : 2025-04-01 23:42:34,877] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-04-01 23:42:34,884] Shutting down
[INFO : 2025-04-01 23:42:34,985] Waiting for application shutdown.
[INFO : 2025-04-01 23:42:34,985] Application shutdown complete.
[INFO : 2025-04-01 23:42:34,985] Finished server process [79910]
[INFO : 2025-04-01 23:42:35,366] Started server process [79921]
[INFO : 2025-04-01 23:42:35,367] Waiting for application startup.
[INFO : 2025-04-01 23:42:35,368] Application startup complete.
[WARNING : 2025-04-01 23:43:28,723] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-04-01 23:43:28,757] Shutting down
[INFO : 2025-04-01 23:43:28,858] Waiting for application shutdown.
[INFO : 2025-04-01 23:43:28,859] Application shutdown complete.
[INFO : 2025-04-01 23:43:28,859] Finished server process [79921]
[INFO : 2025-04-01 23:43:29,291] Started server process [79955]
[INFO : 2025-04-01 23:43:29,291] Waiting for application startup.
[INFO : 2025-04-01 23:43:29,293] Application startup complete.
[WARNING : 2025-04-01 23:43:30,205] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-04-01 23:43:30,303] Shutting down
[INFO : 2025-04-01 23:43:30,405] Waiting for application shutdown.
[INFO : 2025-04-01 23:43:30,405] Application shutdown complete.
[INFO : 2025-04-01 23:43:30,405] Finished server process [79955]
[INFO : 2025-04-01 23:43:30,733] Started server process [79963]
[INFO : 2025-04-01 23:43:30,733] Waiting for application startup.
[INFO : 2025-04-01 23:43:30,735] Application startup complete.
[WARNING : 2025-04-01 23:43:31,229] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-04-01 23:43:31,241] Shutting down
[INFO : 2025-04-01 23:43:31,343] Waiting for application shutdown.
[INFO : 2025-04-01 23:43:31,343] Application shutdown complete.
[INFO : 2025-04-01 23:43:31,344] Finished server process [79963]
[INFO : 2025-04-01 23:43:31,662] Started server process [79969]
[INFO : 2025-04-01 23:43:31,663] Waiting for application startup.
[INFO : 2025-04-01 23:43:31,664] Application startup complete.
[WARNING : 2025-04-01 23:43:54,177] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-04-01 23:43:54,212] Shutting down
[INFO : 2025-04-01 23:43:54,315] Waiting for application shutdown.
[INFO : 2025-04-01 23:43:54,315] Application shutdown complete.
[INFO : 2025-04-01 23:43:54,315] Finished server process [79969]
[INFO : 2025-04-01 23:43:54,723] Started server process [79988]
[INFO : 2025-04-01 23:43:54,723] Waiting for application startup.
[INFO : 2025-04-01 23:43:54,725] Application startup complete.
[WARNING : 2025-04-01 23:43:58,497] StatReload detected changes in 'api/v1/links/links.py'. Reloading...
[INFO : 2025-04-01 23:43:58,567] Shutting down
[INFO : 2025-04-01 23:43:58,669] Waiting for application shutdown.
[INFO : 2025-04-01 23:43:58,669] Application shutdown complete.
[INFO : 2025-04-01 23:43:58,669] Finished server process [79988]
[INFO : 2025-04-01 23:43:58,972] Started server process [80002]
[INFO : 2025-04-01 23:43:58,972] Waiting for application startup.
[INFO : 2025-04-01 23:43:58,975] Application startup complete.
[INFO : 2025-04-01 23:44:26,376] Shutting down
[INFO : 2025-04-01 23:44:26,481] Waiting for application shutdown.
[INFO : 2025-04-01 23:44:26,482] Application shutdown complete.
[INFO : 2025-04-01 23:44:26,482] Finished server process [80002]
[INFO : 2025-04-01 23:44:26,535] Stopping reloader process [77614]
